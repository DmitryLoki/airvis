From af536b0682954ad19773cc85a095faef5a70c076 Mon Sep 17 00:00:00 2001
From: Kasheftin <Kasheftin@gmail.com>
Date: Fri, 19 Jul 2013 15:19:39 +0300
Subject: [PATCH] Fixed bug with returning to realtime while playing

---
 src/index-canvas.html                   |    2 +-
 src/js/widgets/TrackerPageDebug/main.js |    3 ++-
 2 files changed, 3 insertions(+), 2 deletions(-)

diff --git a/src/index-canvas.html b/src/index-canvas.html
index 19b9cd8..1fbd16b 100644
--- a/src/index-canvas.html
+++ b/src/index-canvas.html
@@ -11,7 +11,7 @@
   </head>
   <body>
     <div role="main" class="airvis-container">
-      <!-- ko widget: { data: page, imgRootUrl: "/img/", contestId: "cnts-130529-2717963794", raceId: "r-662b9ec0-23cb-4318-addd-a3b7ab03bd2f", apiVersion: "v0.2", mapWidget: "2d", mapOptions: {panControl:false,streetViewControl:false,zoomControl:true}, titleUrl: "http://lala.com", isOnline: true } --><!-- /ko -->
+      <!-- ko widget: { data: page, imgRootUrl: "/img/", contestId: "cnts-130529-2717963794", raceId: "r-d3949b28-00d7-4e91-bb72-e7dc76691a09", apiVersion: "v0.2", mapWidget: "2d", mapOptions: {panControl:false,streetViewControl:false,zoomControl:true}, titleUrl: "http://lala.com", isOnline: true } --><!-- /ko -->
     </div>
   </body>
 </html>
diff --git a/src/js/widgets/TrackerPageDebug/main.js b/src/js/widgets/TrackerPageDebug/main.js
index 1642724..812542a 100644
--- a/src/js/widgets/TrackerPageDebug/main.js
+++ b/src/js/widgets/TrackerPageDebug/main.js
@@ -603,7 +603,7 @@ define([
 
 		self.playerState.subscribe(function(state) {
 			if (state == "play") {
-				run(runTableData);
+				run(runTableData,true);
 			}
 		});
 
@@ -629,6 +629,7 @@ define([
 		if (this.playerControl) {
 			this.playerState("play");
 			this.playerSpeed(1);
+			this.playerState.valueHasMutated();
 		}
 		this.resetUfosTracks();
 	}
-- 
1.7.9.5

