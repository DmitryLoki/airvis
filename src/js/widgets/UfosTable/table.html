<table class="airvis-ptable">
	<thead>
		<tr>
			<th class="airvis-ptable-checkbox"><!-- ko widget: { data: checked?allCheckedVisibleCheckbox:allUncheckedVisibleCheckbox, type: 'Checkbox'} --><!-- /ko --></th>
			<th class="airvis-ptable-checkbox" data-bind="visible:$parent.windowMode()=='full'">Full<br>track</th>
			<th class="airvis-ptable-number">#</th>
			<th class="airvis-ptable-name">
				<!-- ko if: checked -->
					<a class="airvis-ptable-check airvis-ptable-checked" href="#" data-bind="click:uncheckAll,clickBubble:false"></a>
					Selected pilots
				<!-- /ko -->
				<!-- ko if: !checked && mode() == "leading" -->
					Top <span data-bind="text:leadingCnt"></span> <span data-bind="text:order()=='altitude'?'altitude':'leading'"></span> pilots
				<!-- /ko -->
				<!-- ko if: !checked && mode() != "leading" -->
					Pilots
				<!-- /ko -->
			</th>
            <th class="airvis-country-flag" data-bind="visible:windowMode()=='short'"></th>
			<th class="airvis-ptable-country" data-bind="visible:windowMode()=='full'">Country</th>
			<th class="airvis-ptable-dist-to-goal">
				<!-- ko if: raceType() == "opendistance" -->
					Dist, km
				<!-- /ko -->
				<!-- ko if: raceType() != "opendistance" -->
					Dist to<br>goal, km
				<!-- /ko -->
			</th>
			<th class="airvis-ptable-alt">Alt,<br>m</th>
			<th class="airvis-ptable-gspd">Speed,<br>km/h</th>
			<th class="airvis-ptable-vspd" data-bind="visible:windowMode()=='full'">Vaio,<br>m/s</th>
		</tr>
	</thead>
</table>	
<div class="airvis-scrollbar" data-bind="style:{height:(checked?checkedTableHeight():tableHeight())+'px'},attr:{id:checked?'airvis-scrollbar-checked':'airvis-scrollbar-unchecked'}">
	<div class="scrollbar"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>
	<div class="viewport" data-bind="style:{height:(checked?checkedTableHeight():tableHeight())+'px'}">
		<div class="overview">
			<table class="airvis-ptable">
				<tbody>
					<!-- ko if: mode()=="default" || checked -->
						<!-- ko foreach: {data:tableUfos,as:'rw'} -->
							<!-- ko if: rw.checked() == $parent.checked -->
								<!-- ko template: {templates:templates,name:"row",data:$parent.$.extend({},$data,{'$parent':$parent})} --><!-- /ko -->
							<!-- /ko -->
						<!-- /ko -->
					<!-- /ko -->					
					<!-- ko if: (mode()=="search" || mode()=="countries") && !checked -->
						<!-- ko foreach: {data:qTableUfos,as:'rw'} -->
							<!-- ko ifnot: rw.checked -->
								<!-- ko template: {templates:templates,name:"row",data:$parent.$.extend({},$data,{'$parent':$parent})} --><!-- /ko -->
							<!-- /ko -->
						<!-- /ko -->
						<!-- ko foreach: {data:qTableCountries,as:'rwc'} -->
							<tr data-bind="click:rwc.switch">
								<td class="airvis-ptable-checkbox"></td>
								<td class="airvis-ptable-checkbox" data-bind="visible:$parent.windowMode()=='full'">Full<br>track</td>
								<td class="airvis-ptable-number"></td>
								<td class="airvis-ptable-name airvis-ptable-countryname" colspan="6">
									<span class="airvis-ptable-onover">
										<a class="airvis-ptable-check" href="#" data-bind="click:rwc.checkAll,clickBubble:false"></a>
									</span>
									<span class="countryicon-sprite iconset-shiny" data-bind="css:'countrycode-'+rwc.code.toLowerCase()"></span>
									<span data-bind="text:rwc.code + ' (' + rwc.ufos.length + ' pilot' + (rwc.ufos.length>1?'s':'') + ')'"></span>
								</td>
							</tr>
							<!-- ko if: rwc.expanded -->
								<!-- ko foreach: {data:rwc.ufos,as:'rw'} -->
									<!-- ko if: rw.checked() == $parents[1].checked -->
										<!-- ko template: {templates:templates,name:"row",data:$parents[1].$.extend({},$data,{'$parent':$parents[1]})} --><!-- /ko -->
									<!-- /ko -->
								<!-- /ko -->
							<!-- /ko -->							
						<!-- /ko -->
					<!-- /ko -->
					<!-- ko if: mode()=="checkLeading" && !checked -->
						<!-- ko foreach: leadingOptions -->
							<!-- ko if: text == "sep" -->
								<tr>
									<td class="airvis-ptable-checkbox"></td>
									<td class="airvis-ptable-checkbox" data-bind="visible:$parent.windowMode()=='full'"></td>
									<td class="airvis-ptable-number"></td>
									<td class="airvis-ptable-name" colspan=6>&nbsp;</td>
								</tr>
							<!-- /ko -->
							<!-- ko if: text != "sep" -->
								<tr data-bind="click:$parent.setLeading.bind($parent,$data)">
									<td class="airvis-ptable-checkbox"></td>
									<td class="airvis-ptable-checkbox" data-bind="visible:$parent.windowMode()=='full'"></td>
									<td class="airvis-ptable-number"></td>
									<td class="airvis-ptable-name" colspan=6><span data-bind="text:text"></span></td>
								</tr>
							<!-- /ko -->
						<!-- /ko -->
					<!-- /ko -->
					<!-- ko if: mode() == "leading" && !checked -->
						<!-- ko foreach: {data:tableUfos,as:'rw'} -->
							<!-- ko if: rw.checked() == $parent.checked && rw.leading() -->
								<!-- ko template: {templates:templates,name:"row",data:$parent.$.extend({},$data,{'$parent':$parent})} --><!-- /ko -->
							<!-- /ko -->
						<!-- /ko -->
						<tr class="airvis-ptable-header">
							<td class="airvis-ptable-checkbox"><!-- ko widget: { data: allNonLeadingVisibleCheckbox, type: 'Checkbox'} --><!-- /ko --></td>
							<td class="airvis-ptable-checkbox" data-bind="visible:$parent.windowMode()=='full'">Full<br>track</td>
							<td class="airvis-ptable-number">#</td>
							<td class="airvis-ptable-name">Pilots</td>
							<td class="airvis-ptable-country" data-bind="visible:windowMode()=='full'">Country</td>
							<td class="airvis-ptable-dist-to-goal">
				<!-- ko if: raceType() == "opendistance" -->
					Dist, km
				<!-- /ko -->
				<!-- ko if: raceType() != "opendistance" -->
					Dist to<br>goal, km
				<!-- /ko -->
							</td>
							<td class="airvis-ptable-alt">Alt,<br>m</td>
							<td class="airvis-ptable-gspd">Speed,<br>km/h</td>
							<td class="airvis-ptable-vspd" data-bind="visible:windowMode()=='full'">Vaio,<br>m/s</td>
						</tr>
						<!-- ko foreach: {data:tableUfos,as:'rw'} -->
							<!-- ko if: rw.checked() == $parent.checked && !rw.leading()-->
								<!-- ko template: {templates:templates,name:"row",data:$parent.$.extend({},$data,{'$parent':$parent})} --><!-- /ko -->
							<!-- /ko -->						
						<!-- /ko -->						
					<!-- /ko -->
				</tbody>
			</table>
		</div>
	</div>
</div>
<div class="airvis-resizebar" data-bind="event:{mousedown:resizeTable.bind($data,checked?'checked':'unchecked'),touchstart:resizeTable.bind($data,checked?'checked':'unchecked')}"></div>
