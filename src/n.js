/** vim: et:ts=4:sw=4:sts=4
 * @license RequireJS 2.0.2 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/requirejs for details
 */

/*!
 * jQuery JavaScript Library v1.7.2
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Mar 21 12:46:34 2012 -0700
 */

/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */

// vim: ts=4 sts=4 sw=4 expandtab
// -- kriskowal Kris Kowal Copyright (C) 2009-2011 MIT License
// -- tlrobinson Tom Robinson Copyright (C) 2009-2010 MIT License (Narwhal Project)
// -- dantman Daniel Friesen Copyright (C) 2010 XXX TODO License or CLA
// -- fschaefer Florian Schäfer Copyright (C) 2010 MIT License
// -- Gozala Irakli Gozalishvili Copyright (C) 2010 MIT License
// -- kitcambridge Kit Cambridge Copyright (C) 2011 MIT License
// -- kossnocorp Sasha Koss XXX TODO License or CLA
// -- bryanforbes Bryan Forbes XXX TODO License or CLA
// -- killdream Quildreen Motta Copyright (C) 2011 MIT Licence
// -- michaelficarra Michael Ficarra Copyright (C) 2011 3-clause BSD License
// -- sharkbrainguy Gerard Paapu Copyright (C) 2011 MIT License
// -- bbqsrc Brendan Molloy (C) 2011 Creative Commons Zero (public domain)
// -- iwyg XXX TODO License or CLA
// -- DomenicDenicola Domenic Denicola Copyright (C) 2011 MIT License
// -- xavierm02 Montillet Xavier Copyright (C) 2011 MIT License
// -- Raynos Jake Verbaten Copyright (C) 2011 MIT Licence
// -- samsonjs Sami Samhuri Copyright (C) 2010 MIT License
// -- rwldrn Rick Waldron Copyright (C) 2011 MIT License
// -- lexer Alexey Zakharov XXX TODO License or CLA

/*!
    Copyright (c) 2009, 280 North Inc. http://280north.com/
    MIT License. http://github.com/280north/narwhal/blob/master/README.md
*/

// Knockout JavaScript library v2.1.0
// (c) Steven Sanderson - http://knockoutjs.com/
// License: MIT (http://www.opensource.org/licenses/mit-license.php)

/// Knockout Mapping plugin v2.3.2
/// (c) 2012 Steven Sanderson, Roy Jacobs - http://knockoutjs.com/
/// License: MIT (http://www.opensource.org/licenses/mit-license.php)

/**
 * @license RequireJS domReady 2.0.0 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/domReady for details
 */

/* A cross-browser setImmediate and clearImmediate:
 * https://dvcs.w3.org/hg/webperf/raw-file/tip/specs/setImmediate/Overview.html
 * Uses one of the following implementations:
 *  - Native msSetImmediate/msClearImmediate in IE10
 *  - postMessage in Firefox 3+, Internet Explorer 9+, WebKit, and Opera 9.5+
 *  - MessageChannel in web workers, in WebKit and Opera
 *  - <script> element onreadystatechange in Internet Explorer 6–8
 *  - setTimeout(..., 0) in all other browsers
 * In other words, setImmediate and clearImmediate are safe in all browsers.
 *
 * Copyright © 2012 Barnesandnoble.com llc, Donavon West, and Domenic Denicola.
 * Special thanks to Yaffle (https://github.com/Yaffle) for his bug reports, fork, pull requests, and general
 * discussion, all of which have made setImmediate.js much better than its original form.
 *
 * Released under the MIT license (see MIT-LICENSE.txt).
 */

/**
 * @license RequireJS text 2.0.0 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

/** @license
 * RequireJS plugin for async dependency load like JSONP and Google Maps
 * Author: Miller Medeiros
 * Version: 0.1.1 (2011/11/17)
 * Released under the MIT license
 */

/*!
 * jQuery UI 1.8.23
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI
 */

/*!
 * jQuery UI Widget 1.8.23
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Widget
 */

/*!
 * jQuery UI Mouse 1.8.23
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Mouse
 *
 * Depends:
 *	jquery.ui.widget.js
 */

/*!
 * jQuery UI Slider 1.8.23
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Slider
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */

/*!
 * jQuery UI Tabs 1.8.23
 *
 * Copyright 2012, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Tabs
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 */

var requirejs,require,define;(function(global){function isFunction(it){return ostring.call(it)==="[object Function]"}function isArray(it){return ostring.call(it)==="[object Array]"}function each(ary,func){if(ary){var i;for(i=0;i<ary.length;i+=1)if(ary[i]&&func(ary[i],i,ary))break}}function eachReverse(ary,func){if(ary){var i;for(i=ary.length-1;i>-1;i-=1)if(ary[i]&&func(ary[i],i,ary))break}}function hasProp(obj,prop){return obj.hasOwnProperty(prop)}function eachProp(obj,func){var prop;for(prop in obj)if(obj.hasOwnProperty(prop)&&func(obj[prop],prop))break}function mixin(target,source,force,deepStringMixin){return source&&eachProp(source,function(value,prop){if(force||!hasProp(target,prop))deepStringMixin&&typeof value!="string"?(target[prop]||(target[prop]={}),mixin(target[prop],value,force,deepStringMixin)):target[prop]=value}),target}function bind(obj,fn){return function(){return fn.apply(obj,arguments)}}function scripts(){return document.getElementsByTagName("script")}function getGlobal(value){if(!value)return value;var g=global;return each(value.split("."),function(part){g=g[part]}),g}function makeContextModuleFunc(func,relMap,enableBuildCallback){return function(){var args=aps.call(arguments,0),lastArg;return enableBuildCallback&&isFunction(lastArg=args[args.length-1])&&(lastArg.__requireJsBuild=!0),args.push(relMap),func.apply(null,args)}}function addRequireMethods(req,context,relMap){each([["toUrl"],["undef"],["defined","requireDefined"],["specified","requireSpecified"]],function(item){var prop=item[1]||item[0];req[item[0]]=context?makeContextModuleFunc(context[prop],relMap):function(){var ctx=contexts[defContextName];return ctx[prop].apply(ctx,arguments)}})}function makeError(id,msg,err,requireModules){var e=new Error(msg+"\nhttp://requirejs.org/docs/errors.html#"+id);return e.requireType=id,e.requireModules=requireModules,err&&(e.originalError=err),e}function newContext(contextName){function trimDots(ary){var i,part;for(i=0;ary[i];i+=1){part=ary[i];if(part===".")ary.splice(i,1),i-=1;else if(part===".."){if(i===1&&(ary[2]===".."||ary[0]===".."))break;i>0&&(ary.splice(i-1,2),i-=2)}}}function normalize(name,baseName,applyMap){var baseParts=baseName&&baseName.split("/"),map=config.map,starMap=map&&map["*"],pkgName,pkgConfig,mapValue,nameParts,i,j,nameSegment,foundMap;name&&name.charAt(0)==="."&&(baseName?(config.pkgs[baseName]?baseParts=[baseName]:baseParts=baseParts.slice(0,baseParts.length-1),name=baseParts.concat(name.split("/")),trimDots(name),pkgConfig=config.pkgs[pkgName=name[0]],name=name.join("/"),pkgConfig&&name===pkgName+"/"+pkgConfig.main&&(name=pkgName)):name.indexOf("./")===0&&(name=name.substring(2)));if(applyMap&&(baseParts||starMap)&&map){nameParts=name.split("/");for(i=nameParts.length;i>0;i-=1){nameSegment=nameParts.slice(0,i).join("/");if(baseParts)for(j=baseParts.length;j>0;j-=1){mapValue=map[baseParts.slice(0,j).join("/")];if(mapValue){mapValue=mapValue[nameSegment];if(mapValue){foundMap=mapValue;break}}}!foundMap&&starMap&&starMap[nameSegment]&&(foundMap=starMap[nameSegment]);if(foundMap){nameParts.splice(0,i,foundMap),name=nameParts.join("/");break}}}return name}function removeScript(name){isBrowser&&each(scripts(),function(scriptNode){if(scriptNode.getAttribute("data-requiremodule")===name&&scriptNode.getAttribute("data-requirecontext")===context.contextName)return scriptNode.parentNode.removeChild(scriptNode),!0})}function hasPathFallback(id){var pathConfig=config.paths[id];if(pathConfig&&isArray(pathConfig)&&pathConfig.length>1)return removeScript(id),pathConfig.shift(),context.undef(id),context.require([id]),!0}function makeModuleMap(name,parentModuleMap,isNormalized,applyMap){var index=name?name.indexOf("!"):-1,prefix=null,parentName=parentModuleMap?parentModuleMap.name:null,originalName=name,isDefine=!0,normalizedName="",url,pluginModule,suffix;return name||(isDefine=!1,name="_@r"+(requireCounter+=1)),index!==-1&&(prefix=name.substring(0,index),name=name.substring(index+1,name.length)),prefix&&(prefix=normalize(prefix,parentName,applyMap),pluginModule=defined[prefix]),name&&(prefix?pluginModule&&pluginModule.normalize?normalizedName=pluginModule.normalize(name,function(name){return normalize(name,parentName,applyMap)}):normalizedName=normalize(name,parentName,applyMap):(normalizedName=normalize(name,parentName,applyMap),url=context.nameToUrl(name,null,parentModuleMap))),suffix=prefix&&!pluginModule&&!isNormalized?"_unnormalized"+(unnormalizedCounter+=1):"",{prefix:prefix,name:normalizedName,parentMap:parentModuleMap,unnormalized:!!suffix,url:url,originalName:originalName,isDefine:isDefine,id:(prefix?prefix+"!"+normalizedName:normalizedName)+suffix}}function getModule(depMap){var id=depMap.id,mod=registry[id];return mod||(mod=registry[id]=new context.Module(depMap)),mod}function on(depMap,name,fn){var id=depMap.id,mod=registry[id];hasProp(defined,id)&&(!mod||mod.defineEmitComplete)?name==="defined"&&fn(defined[id]):getModule(depMap).on(name,fn)}function onError(err,errback){var ids=err.requireModules,notified=!1;errback?errback(err):(each(ids,function(id){var mod=registry[id];mod&&(mod.error=err,mod.events.error&&(notified=!0,mod.emit("error",err)))}),notified||req.onError(err))}function takeGlobalQueue(){globalDefQueue.length&&(apsp.apply(defQueue,[defQueue.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function makeRequire(mod,enableBuildCallback,altRequire){var relMap=mod&&mod.map,modRequire=makeContextModuleFunc(altRequire||context.require,relMap,enableBuildCallback);return addRequireMethods(modRequire,context,relMap),modRequire.isBrowser=isBrowser,modRequire}function removeWaiting(id){delete registry[id],each(waitAry,function(mod,i){if(mod.map.id===id)return waitAry.splice(i,1),mod.defined||(context.waitCount-=1),!0})}function findCycle(mod,traced){var id=mod.map.id,depArray=mod.depMaps,foundModule;if(!mod.inited)return;return traced[id]?mod:(traced[id]=!0,each(depArray,function(depMap){var depId=depMap.id,depMod=registry[depId];if(!depMod)return;return!depMod.inited||!depMod.enabled?(foundModule=null,delete traced[id],!0):foundModule=findCycle(depMod,mixin({},traced))}),foundModule)}function forceExec(mod,traced,uninited){var id=mod.map.id,depArray=mod.depMaps;if(!mod.inited||!mod.map.isDefine)return;return traced[id]?defined[id]:(traced[id]=mod,each(depArray,function(depMap){var depId=depMap.id,depMod=registry[depId],value;if(handlers[depId])return;if(depMod){if(!depMod.inited||!depMod.enabled){uninited[id]=!0;return}value=forceExec(depMod,traced,uninited),uninited[depId]||mod.defineDepById(depId,value)}}),mod.check(!0),defined[id])}function modCheck(mod){mod.check()}function checkLoaded(){var waitInterval=config.waitSeconds*1e3,expired=waitInterval&&context.startTime+waitInterval<(new Date).getTime(),noLoads=[],stillLoading=!1,needCycleCheck=!0,map,modId,err,usingPathFallback;if(inCheckLoaded)return;inCheckLoaded=!0,eachProp(registry,function(mod){map=mod.map,modId=map.id;if(!mod.enabled)return;if(!mod.error)if(!mod.inited&&expired)hasPathFallback(modId)?(usingPathFallback=!0,stillLoading=!0):(noLoads.push(modId),removeScript(modId));else if(!mod.inited&&mod.fetched&&map.isDefine){stillLoading=!0;if(!map.prefix)return needCycleCheck=!1}});if(expired&&noLoads.length)return err=makeError("timeout","Load timeout for modules: "+noLoads,null,noLoads),err.contextName=context.contextName,onError(err);needCycleCheck&&(each(waitAry,function(mod){if(mod.defined)return;var cycleMod=findCycle(mod,{}),traced={};cycleMod&&(forceExec(cycleMod,traced,{}),eachProp(traced,modCheck))}),eachProp(registry,modCheck)),(!expired||usingPathFallback)&&stillLoading&&(isBrowser||isWebWorker)&&!checkLoadedTimeoutId&&(checkLoadedTimeoutId=setTimeout(function(){checkLoadedTimeoutId=0,checkLoaded()},50)),inCheckLoaded=!1}function callGetModule(args){getModule(makeModuleMap(args[0],null,!0)).init(args[1],args[2])}function removeListener(node,func,name,ieName){node.detachEvent&&!isOpera?ieName&&node.detachEvent(ieName,func):node.removeEventListener(name,func,!1)}function getScriptData(evt){var node=evt.currentTarget||evt.srcElement;return removeListener(node,context.onScriptLoad,"load","onreadystatechange"),removeListener(node,context.onScriptError,"error"),{node:node,id:node&&node.getAttribute("data-requiremodule")}}var config={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{}},registry={},undefEvents={},defQueue=[],defined={},urlFetched={},requireCounter=1,unnormalizedCounter=1,waitAry=[],inCheckLoaded,Module,context,handlers,checkLoadedTimeoutId;return handlers={require:function(mod){return makeRequire(mod)},exports:function(mod){mod.usingExports=!0;if(mod.map.isDefine)return mod.exports=defined[mod.map.id]={}},module:function(mod){return mod.module={id:mod.map.id,uri:mod.map.url,config:function(){return config.config&&config.config[mod.map.id]||{}},exports:defined[mod.map.id]}}},Module=function(map){this.events=undefEvents[map.id]||{},this.map=map,this.shim=config.shim[map.id],this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},Module.prototype={init:function(depMaps,factory,errback,options){options=options||{};if(this.inited)return;this.factory=factory,errback?this.on("error",errback):this.events.error&&(errback=bind(this,function(err){this.emit("error",err)})),this.depMaps=depMaps&&depMaps.slice(0),this.depMaps.rjsSkipMap=depMaps.rjsSkipMap,this.errback=errback,this.inited=!0,this.ignore=options.ignore,options.enabled||this.enabled?this.enable():this.check()},defineDepById:function(id,depExports){var i;return each(this.depMaps,function(map,index){if(map.id===id)return i=index,!0}),this.defineDep(i,depExports)},defineDep:function(i,depExports){this.depMatched[i]||(this.depMatched[i]=!0,this.depCount-=1,this.depExports[i]=depExports)},fetch:function(){if(this.fetched)return;this.fetched=!0,context.startTime=(new Date).getTime();var map=this.map;if(!this.shim)return map.prefix?this.callPlugin():this.load();makeRequire(this,!0)(this.shim.deps||[],bind(this,function(){return map.prefix?this.callPlugin():this.load()}))},load:function(){var url=this.map.url;urlFetched[url]||(urlFetched[url]=!0,context.load(this.map.id,url))},check:function(silent){if(!this.enabled||this.enabling)return;var id=this.map.id,depExports=this.depExports,exports=this.exports,factory=this.factory,err,cjsModule;if(!this.inited)this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(this.depCount<1&&!this.defined){if(isFunction(factory)){if(this.events.error)try{exports=context.execCb(id,factory,depExports,exports)}catch(e){err=e}else exports=context.execCb(id,factory,depExports,exports);this.map.isDefine&&(cjsModule=this.module,cjsModule&&cjsModule.exports!==undefined&&cjsModule.exports!==this.exports?exports=cjsModule.exports:exports===undefined&&this.usingExports&&(exports=this.exports));if(err)return err.requireMap=this.map,err.requireModules=[this.map.id],err.requireType="define",onError(this.error=err)}else exports=factory;this.exports=exports,this.map.isDefine&&!this.ignore&&(defined[id]=exports,req.onResourceLoad&&req.onResourceLoad(context,this.map,this.depMaps)),delete registry[id],this.defined=!0,context.waitCount-=1,context.waitCount===0&&(waitAry=[])}this.defining=!1,silent||this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}},callPlugin:function(){var map=this.map,id=map.id,pluginMap=makeModuleMap(map.prefix,null,!1,!0);on(pluginMap,"defined",bind(this,function(plugin){var name=this.map.name,parentName=this.map.parentMap?this.map.parentMap.name:null,load,normalizedMap,normalizedMod;if(this.map.unnormalized){plugin.normalize&&(name=plugin.normalize(name,function(name){return normalize(name,parentName,!0)})||""),normalizedMap=makeModuleMap(map.prefix+"!"+name,this.map.parentMap,!1,!0),on(normalizedMap,"defined",bind(this,function(value){this.init([],function(){return value},null,{enabled:!0,ignore:!0})})),normalizedMod=registry[normalizedMap.id],normalizedMod&&(this.events.error&&normalizedMod.on("error",bind(this,function(err){this.emit("error",err)})),normalizedMod.enable());return}load=bind(this,function(value){this.init([],function(){return value},null,{enabled:!0})}),load.error=bind(this,function(err){this.inited=!0,this.error=err,err.requireModules=[id],eachProp(registry,function(mod){mod.map.id.indexOf(id+"_unnormalized")===0&&removeWaiting(mod.map.id)}),onError(err)}),load.fromText=function(moduleName,text){var hasInteractive=useInteractive;hasInteractive&&(useInteractive=!1),getModule(makeModuleMap(moduleName)),req.exec(text),hasInteractive&&(useInteractive=!0),context.completeLoad(moduleName)},plugin.load(map.name,makeRequire(map.parentMap,!0,function(deps,cb){return deps.rjsSkipMap=!0,context.require(deps,cb)}),load,config)})),context.enable(pluginMap,this),this.pluginMaps[pluginMap.id]=pluginMap},enable:function(){this.enabled=!0,this.waitPushed||(waitAry.push(this),context.waitCount+=1,this.waitPushed=!0),this.enabling=!0,each(this.depMaps,bind(this,function(depMap,i){var id,mod,handler;if(typeof depMap=="string"){depMap=makeModuleMap(depMap,this.map.isDefine?this.map:this.map.parentMap,!1,!this.depMaps.rjsSkipMap),this.depMaps[i]=depMap,handler=handlers[depMap.id];if(handler){this.depExports[i]=handler(this);return}this.depCount+=1,on(depMap,"defined",bind(this,function(depExports){this.defineDep(i,depExports),this.check()})),this.errback&&on(depMap,"error",this.errback)}id=depMap.id,mod=registry[id],!handlers[id]&&mod&&!mod.enabled&&context.enable(depMap,this)})),eachProp(this.pluginMaps,bind(this,function(pluginMap){var mod=registry[pluginMap.id];mod&&!mod.enabled&&context.enable(pluginMap,this)})),this.enabling=!1,this.check()},on:function(name,cb){var cbs=this.events[name];cbs||(cbs=this.events[name]=[]),cbs.push(cb)},emit:function(name,evt){each(this.events[name],function(cb){cb(evt)}),name==="error"&&delete this.events[name]}},context={config:config,contextName:contextName,registry:registry,defined:defined,urlFetched:urlFetched,waitCount:0,defQueue:defQueue,Module:Module,makeModuleMap:makeModuleMap,configure:function(cfg){cfg.baseUrl&&cfg.baseUrl.charAt(cfg.baseUrl.length-1)!=="/"&&(cfg.baseUrl+="/");var pkgs=config.pkgs,shim=config.shim,paths=config.paths,map=config.map;mixin(config,cfg,!0),config.paths=mixin(paths,cfg.paths,!0),cfg.map&&(config.map=mixin(map||{},cfg.map,!0,!0)),cfg.shim&&(eachProp(cfg.shim,function(value,id){isArray(value)&&(value={deps:value}),value.exports&&!value.exports.__buildReady&&(value.exports=context.makeShimExports(value.exports)),shim[id]=value}),config.shim=shim),cfg.packages&&(each(cfg.packages,function(pkgObj){var location;pkgObj=typeof pkgObj=="string"?{name:pkgObj}:pkgObj,location=pkgObj.location,pkgs[pkgObj.name]={name:pkgObj.name,location:location||pkgObj.name,main:(pkgObj.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),config.pkgs=pkgs),eachProp(registry,function(mod,id){mod.map=makeModuleMap(id)}),(cfg.deps||cfg.callback)&&context.require(cfg.deps||[],cfg.callback)},makeShimExports:function(exports){var func;return typeof exports=="string"?(func=function(){return getGlobal(exports)},func.exports=exports,func):function(){return exports.apply(global,arguments)}},requireDefined:function(id,relMap){return hasProp(defined,makeModuleMap(id,relMap,!1,!0).id)},requireSpecified:function(id,relMap){return id=makeModuleMap(id,relMap,!1,!0).id,hasProp(defined,id)||hasProp(registry,id)},require:function(deps,callback,errback,relMap){var moduleName,id,map,requireMod,args;if(typeof deps=="string")return isFunction(callback)?onError(makeError("requireargs","Invalid require call"),errback):req.get?req.get(context,deps,callback):(moduleName=deps,relMap=callback,map=makeModuleMap(moduleName,relMap,!1,!0),id=map.id,hasProp(defined,id)?defined[id]:onError(makeError("notloaded",'Module name "'+id+'" has not been loaded yet for context: '+contextName)));errback&&!isFunction(errback)&&(relMap=errback,errback=undefined),callback&&!isFunction(callback)&&(relMap=callback,callback=undefined),takeGlobalQueue();while(defQueue.length){args=defQueue.shift();if(args[0]===null)return onError(makeError("mismatch","Mismatched anonymous define() module: "+args[args.length-1]));callGetModule(args)}return requireMod=getModule(makeModuleMap(null,relMap)),requireMod.init(deps,callback,errback,{enabled:!0}),checkLoaded(),context.require},undef:function(id){var map=makeModuleMap(id,null,!0),mod=registry[id];delete defined[id],delete urlFetched[map.url],delete undefEvents[id],mod&&(mod.events.defined&&(undefEvents[id]=mod.events),removeWaiting(id))},enable:function(depMap,parent){var mod=registry[depMap.id];mod&&getModule(depMap).enable()},completeLoad:function(moduleName){var shim=config.shim[moduleName]||{},shExports=shim.exports&&shim.exports.exports,found,args,mod;takeGlobalQueue();while(defQueue.length){args=defQueue.shift();if(args[0]===null){args[0]=moduleName;if(found)break;found=!0}else args[0]===moduleName&&(found=!0);callGetModule(args)}mod=registry[moduleName];if(!found&&!defined[moduleName]&&mod&&!mod.inited){if(config.enforceDefine&&(!shExports||!getGlobal(shExports))){if(hasPathFallback(moduleName))return;return onError(makeError("nodefine","No define call for "+moduleName,null,[moduleName]))}callGetModule([moduleName,shim.deps||[],shim.exports])}checkLoaded()},toUrl:function(moduleNamePlusExt,relModuleMap){var index=moduleNamePlusExt.lastIndexOf("."),ext=null;return index!==-1&&(ext=moduleNamePlusExt.substring(index,moduleNamePlusExt.length),moduleNamePlusExt=moduleNamePlusExt.substring(0,index)),context.nameToUrl(moduleNamePlusExt,ext,relModuleMap)},nameToUrl:function(moduleName,ext,relModuleMap){var paths,pkgs,pkg,pkgPath,syms,i,parentModule,url,parentPath;moduleName=normalize(moduleName,relModuleMap&&relModuleMap.id,!0);if(req.jsExtRegExp.test(moduleName))url=moduleName+(ext||"");else{paths=config.paths,pkgs=config.pkgs,syms=moduleName.split("/");for(i=syms.length;i>0;i-=1){parentModule=syms.slice(0,i).join("/"),pkg=pkgs[parentModule],parentPath=paths[parentModule];if(parentPath){isArray(parentPath)&&(parentPath=parentPath[0]),syms.splice(0,i,parentPath);break}if(pkg){moduleName===pkg.name?pkgPath=pkg.location+"/"+pkg.main:pkgPath=pkg.location,syms.splice(0,i,pkgPath);break}}url=syms.join("/")+(ext||".js"),url=(url.charAt(0)==="/"||url.match(/^[\w\+\.\-]+:/)?"":config.baseUrl)+url}return config.urlArgs?url+((url.indexOf("?")===-1?"?":"&")+config.urlArgs):url},load:function(id,url){req.load(context,id,url)},execCb:function(name,callback,args,exports){return callback.apply(exports,args)},onScriptLoad:function(evt){if(evt.type==="load"||readyRegExp.test((evt.currentTarget||evt.srcElement).readyState)){interactiveScript=null;var data=getScriptData(evt);context.completeLoad(data.id)}},onScriptError:function(evt){var data=getScriptData(evt);if(!hasPathFallback(data.id))return onError(makeError("scripterror","Script error",evt,[data.id]))}}}function getInteractiveScript(){return interactiveScript&&interactiveScript.readyState==="interactive"?interactiveScript:(eachReverse(scripts(),function(script){if(script.readyState==="interactive")return interactiveScript=script}),interactiveScript)}var version="2.0.2",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,cjsRequireRegExp=/require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,ostring=Object.prototype.toString,ap=Array.prototype,aps=ap.slice,apsp=ap.splice,isBrowser=typeof window!="undefined"&&!!navigator&&!!document,isWebWorker=!isBrowser&&typeof importScripts!="undefined",readyRegExp=isBrowser&&navigator.platform==="PLAYSTATION 3"?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera=typeof opera!="undefined"&&opera.toString()==="[object Opera]",contexts={},cfg={},globalDefQueue=[],useInteractive=!1,req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath;if(typeof define!="undefined")return;if(typeof requirejs!="undefined"){if(isFunction(requirejs))return;cfg=requirejs,requirejs=undefined}typeof require!="undefined"&&!isFunction(require)&&(cfg=require,require=undefined),req=requirejs=function(deps,callback,errback,optional){var contextName=defContextName,context,config;return!isArray(deps)&&typeof deps!="string"&&(config=deps,isArray(callback)?(deps=callback,callback=errback,errback=optional):deps=[]),config&&config.context&&(contextName=config.context),context=contexts[contextName],context||(context=contexts[contextName]=req.s.newContext(contextName)),config&&context.configure(config),context.require(deps,callback,errback)},req.config=function(config){return req(config)},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),addRequireMethods(req),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=function(err){throw err},req.load=function(context,moduleName,url){var config=context&&context.config||{},node;if(isBrowser)return node=config.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),node.type=config.scriptType||"text/javascript",node.charset="utf-8",node.setAttribute("data-requirecontext",context.contextName),node.setAttribute("data-requiremodule",moduleName),node.attachEvent&&!(node.attachEvent.toString&&node.attachEvent.toString().indexOf("[native code")<0)&&!isOpera?(useInteractive=!0,node.attachEvent("onreadystatechange",context.onScriptLoad)):(node.addEventListener("load",context.onScriptLoad,!1),node.addEventListener("error",context.onScriptError,!1)),node.src=url,currentlyAddingScript=node,baseElement?head.insertBefore(node,baseElement):head.appendChild(node),currentlyAddingScript=null,node;isWebWorker&&(importScripts(url),context.completeLoad(moduleName))},isBrowser&&eachReverse(scripts(),function(script){head||(head=script.parentNode),dataMain=script.getAttribute("data-main");if(dataMain)return src=dataMain.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl||(cfg.baseUrl=subPath),dataMain=mainScript.replace(jsSuffixRegExp,""),cfg.deps=cfg.deps?cfg.deps.concat(dataMain):[dataMain],!0}),define=function(name,deps,callback){var node,context;typeof name!="string"&&(callback=deps,deps=name,name=null),isArray(deps)||(callback=deps,deps=[]),!deps.length&&isFunction(callback)&&callback.length&&(callback.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(match,dep){deps.push(dep)}),deps=(callback.length===1?["require"]:["require","exports","module"]).concat(deps)),useInteractive&&(node=currentlyAddingScript||getInteractiveScript(),node&&(name||(name=node.getAttribute("data-requiremodule")),context=contexts[node.getAttribute("data-requirecontext")])),(context?context.defQueue:globalDefQueue).push([name,deps,callback])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)})(this),define("requireLib",function(){}),function(window,undefined){function createFlags(flags){var object=flagsCache[flags]={},i,length;flags=flags.split(/\s+/);for(i=0,length=flags.length;i<length;i++)object[flags[i]]=!0;return object}function dataAttr(elem,key,data){if(data===undefined&&elem.nodeType===1){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data=="string"){try{data=data==="true"?!0:data==="false"?!1:data==="null"?null:jQuery.isNumeric(data)?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}jQuery.data(elem,key,data)}else data=undefined}return data}function isEmptyDataObject(obj){for(var name in obj){if(name==="data"&&jQuery.isEmptyObject(obj[name]))continue;if(name!=="toJSON")return!1}return!0}function handleQueueMarkDefer(elem,type,src){var deferDataKey=type+"defer",queueDataKey=type+"queue",markDataKey=type+"mark",defer=jQuery._data(elem,deferDataKey);defer&&(src==="queue"||!jQuery._data(elem,queueDataKey))&&(src==="mark"||!jQuery._data(elem,markDataKey))&&setTimeout(function(){!jQuery._data(elem,queueDataKey)&&!jQuery._data(elem,markDataKey)&&(jQuery.removeData(elem,deferDataKey,!0),defer.fire())},0)}function returnFalse(){return!1}function returnTrue(){return!0}function isDisconnected(node){return!node||!node.parentNode||node.parentNode.nodeType===11}function winnow(elements,qualifier,keep){qualifier=qualifier||0;if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){var retVal=!!qualifier.call(elem,i,elem);return retVal===keep});if(qualifier.nodeType)return jQuery.grep(elements,function(elem,i){return elem===qualifier===keep});if(typeof qualifier=="string"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1});if(isSimple.test(qualifier))return jQuery.filter(qualifier,filtered,!keep);qualifier=jQuery.filter(qualifier,filtered)}return jQuery.grep(elements,function(elem,i){return jQuery.inArray(elem,qualifier)>=0===keep})}function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement)while(list.length)safeFrag.createElement(list.pop());return safeFrag}function root(elem,cur){return jQuery.nodeName(elem,"table")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function cloneCopyEvent(src,dest){if(dest.nodeType!==1||!jQuery.hasData(src))return;var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle,curData.events={};for(type in events)for(i=0,l=events[type].length;i<l;i++)jQuery.event.add(dest,type,events[type][i])}curData.data&&(curData.data=jQuery.extend({},curData.data))}function cloneFixAttributes(src,dest){var nodeName;if(dest.nodeType!==1)return;dest.clearAttributes&&dest.clearAttributes(),dest.mergeAttributes&&dest.mergeAttributes(src),nodeName=dest.nodeName.toLowerCase(),nodeName==="object"?dest.outerHTML=src.outerHTML:nodeName!=="input"||src.type!=="checkbox"&&src.type!=="radio"?nodeName==="option"?dest.selected=src.defaultSelected:nodeName==="input"||nodeName==="textarea"?dest.defaultValue=src.defaultValue:nodeName==="script"&&dest.text!==src.text&&(dest.text=src.text):(src.checked&&(dest.defaultChecked=dest.checked=src.checked),dest.value!==src.value&&(dest.value=src.value)),dest.removeAttribute(jQuery.expando),dest.removeAttribute("_submit_attached"),dest.removeAttribute("_change_attached")}function getAll(elem){return typeof elem.getElementsByTagName!="undefined"?elem.getElementsByTagName("*"):typeof elem.querySelectorAll!="undefined"?elem.querySelectorAll("*"):[]}function fixDefaultChecked(elem){if(elem.type==="checkbox"||elem.type==="radio")elem.defaultChecked=elem.checked}function findInputs(elem){var nodeName=(elem.nodeName||"").toLowerCase();nodeName==="input"?fixDefaultChecked(elem):nodeName!=="script"&&typeof elem.getElementsByTagName!="undefined"&&jQuery.grep(elem.getElementsByTagName("input"),fixDefaultChecked)}function shimCloneNode(elem){var div=document.createElement("div");return safeFragment.appendChild(div),div.innerHTML=elem.outerHTML,div.firstChild}function getWidthOrHeight(elem,name,extra){var val=name==="width"?elem.offsetWidth:elem.offsetHeight,i=name==="width"?1:0,len=4;if(val>0){if(extra!=="border")for(;i<len;i+=2)extra||(val-=parseFloat(jQuery.css(elem,"padding"+cssExpand[i]))||0),extra==="margin"?val+=parseFloat(jQuery.css(elem,extra+cssExpand[i]))||0:val-=parseFloat(jQuery.css(elem,"border"+cssExpand[i]+"Width"))||0;return val+"px"}val=curCSS(elem,name);if(val<0||val==null)val=elem.style[name];if(rnumnonpx.test(val))return val;val=parseFloat(val)||0;if(extra)for(;i<len;i+=2)val+=parseFloat(jQuery.css(elem,"padding"+cssExpand[i]))||0,extra!=="padding"&&(val+=parseFloat(jQuery.css(elem,"border"+cssExpand[i]+"Width"))||0),extra==="margin"&&(val+=parseFloat(jQuery.css(elem,extra+cssExpand[i]))||0);return val+"px"}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){typeof dataTypeExpression!="string"&&(func=dataTypeExpression,dataTypeExpression="*");if(jQuery.isFunction(func)){var dataTypes=dataTypeExpression.toLowerCase().split(rspacesAjax),i=0,length=dataTypes.length,dataType,list,placeBefore;for(;i<length;i++)dataType=dataTypes[i],placeBefore=/^\+/.test(dataType),placeBefore&&(dataType=dataType.substr(1)||"*"),list=structure[dataType]=structure[dataType]||[],list[placeBefore?"unshift":"push"](func)}}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,dataType,inspected){dataType=dataType||options.dataTypes[0],inspected=inspected||{},inspected[dataType]=!0;var list=structure[dataType],i=0,length=list?list.length:0,executeOnly=structure===prefilters,selection;for(;i<length&&(executeOnly||!selection);i++)selection=list[i](options,originalOptions,jqXHR),typeof selection=="string"&&(!executeOnly||inspected[selection]?selection=undefined:(options.dataTypes.unshift(selection),selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,selection,inspected)));return(executeOnly||!selection)&&!inspected["*"]&&(selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,"*",inspected)),selection}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)src[key]!==undefined&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);deep&&jQuery.extend(!0,target,deep)}function buildParams(prefix,obj,traditional,add){if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+(typeof v=="object"?i:"")+"]",v,traditional,add)});else if(!traditional&&jQuery.type(obj)==="object")for(var name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add);else add(prefix,obj)}function ajaxHandleResponses(s,jqXHR,responses){var contents=s.contents,dataTypes=s.dataTypes,responseFields=s.responseFields,ct,type,finalDataType,firstDataType;for(type in responseFields)type in responses&&(jqXHR[responseFields[type]]=responses[type]);while(dataTypes[0]==="*")dataTypes.shift(),ct===undefined&&(ct=s.mimeType||jqXHR.getResponseHeader("content-type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}if(finalDataType)return finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]}function ajaxConvert(s,response){s.dataFilter&&(response=s.dataFilter(response,s.dataType));var dataTypes=s.dataTypes,converters={},i,key,length=dataTypes.length,tmp,current=dataTypes[0],prev,conversion,conv,conv1,conv2;for(i=1;i<length;i++){if(i===1)for(key in s.converters)typeof key=="string"&&(converters[key.toLowerCase()]=s.converters[key]);prev=current,current=dataTypes[i];if(current==="*")current=prev;else if(prev!=="*"&&prev!==current){conversion=prev+" "+current,conv=converters[conversion]||converters["* "+current];if(!conv){conv2=undefined;for(conv1 in converters){tmp=conv1.split(" ");if(tmp[0]===prev||tmp[0]==="*"){conv2=converters[tmp[1]+" "+current];if(conv2){conv1=converters[conv1],conv1===!0?conv=conv2:conv2===!0&&(conv=conv1);break}}}}!conv&&!conv2&&jQuery.error("No conversion from "+conversion.replace(" "," to ")),conv!==!0&&(response=conv?conv(response):conv2(conv1(response)))}}return response}function createStandardXHR(){try{return new window.XMLHttpRequest}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function createFxNow(){return setTimeout(clearFxNow,0),fxNow=jQuery.now()}function clearFxNow(){fxNow=undefined}function genFx(type,num){var obj={};return jQuery.each(fxAttrs.concat.apply([],fxAttrs.slice(0,num)),function(){obj[this]=type}),obj}function defaultDisplay(nodeName){if(!elemdisplay[nodeName]){var body=document.body,elem=jQuery("<"+nodeName+">").appendTo(body),display=elem.css("display");elem.remove();if(display==="none"||display===""){iframe||(iframe=document.createElement("iframe"),iframe.frameBorder=iframe.width=iframe.height=0),body.appendChild(iframe);if(!iframeDoc||!iframe.createElement)iframeDoc=(iframe.contentWindow||iframe.contentDocument).document,iframeDoc.write((jQuery.support.boxModel?"<!doctype html>":"")+"<html><body>"),iframeDoc.close();elem=iframeDoc.createElement(nodeName),iframeDoc.body.appendChild(elem),display=jQuery.css(elem,"display"),body.removeChild(iframe)}elemdisplay[nodeName]=display}return elemdisplay[nodeName]}function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:!1}var document=window.document,navigator=window.navigator,location=window.location,jQuery=function(){function doScrollCheck(){if(jQuery.isReady)return;try{document.documentElement.doScroll("left")}catch(e){setTimeout(doScrollCheck,1);return}jQuery.ready()}var jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery)},_jQuery=window.jQuery,_$=window.$,rootjQuery,quickExpr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rnotwhite=/\S/,trimLeft=/^\s+/,trimRight=/\s+$/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,rvalidchars=/^[\],:{}\s]*$/,rvalidescape=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rvalidtokens=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rwebkit=/(webkit)[ \/]([\w.]+)/,ropera=/(opera)(?:.*version)?[ \/]([\w.]+)/,rmsie=/(msie) ([\w.]+)/,rmozilla=/(mozilla)(?:.*? rv:([\w.]+))?/,rdashAlpha=/-([a-z]|[0-9])/ig,rmsPrefix=/^-ms-/,fcamelCase=function(all,letter){return(letter+"").toUpperCase()},userAgent=navigator.userAgent,browserMatch,readyList,DOMContentLoaded,toString=Object.prototype.toString,hasOwn=Object.prototype.hasOwnProperty,push=Array.prototype.push,slice=Array.prototype.slice,trim=String.prototype.trim,indexOf=Array.prototype.indexOf,class2type={};return jQuery.fn=jQuery.prototype={constructor:jQuery,init:function(selector,context,rootjQuery){var match,elem,ret,doc;if(!selector)return this;if(selector.nodeType)return this.context=this[0]=selector,this.length=1,this;if(selector==="body"&&!context&&document.body)return this.context=document,this[0]=document.body,this.selector=selector,this.length=1,this;if(typeof selector=="string"){selector.charAt(0)==="<"&&selector.charAt(selector.length-1)===">"&&selector.length>=3?match=[null,selector,null]:match=quickExpr.exec(selector);if(match&&(match[1]||!context)){if(match[1])return context=context instanceof jQuery?context[0]:context,doc=context?context.ownerDocument||context:document,ret=rsingleTag.exec(selector),ret?jQuery.isPlainObject(context)?(selector=[document.createElement(ret[1])],jQuery.fn.attr.call(selector,context,!0)):selector=[doc.createElement(ret[1])]:(ret=jQuery.buildFragment([match[1]],[doc]),selector=(ret.cacheable?jQuery.clone(ret.fragment):ret.fragment).childNodes),jQuery.merge(this,selector);elem=document.getElementById(match[2]);if(elem&&elem.parentNode){if(elem.id!==match[2])return rootjQuery.find(selector);this.length=1,this[0]=elem}return this.context=document,this.selector=selector,this}return!context||context.jquery?(context||rootjQuery).find(selector):this.constructor(context).find(selector)}return jQuery.isFunction(selector)?rootjQuery.ready(selector):(selector.selector!==undefined&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return slice.call(this,0)},get:function(num){return num==null?this.toArray():num<0?this[this.length+num]:this[num]},pushStack:function(elems,name,selector){var ret=this.constructor();return jQuery.isArray(elems)?push.apply(ret,elems):jQuery.merge(ret,elems),ret.prevObject=this,ret.context=this.context,name==="find"?ret.selector=this.selector+(this.selector?" ":"")+selector:name&&(ret.selector=this.selector+"."+name+"("+selector+")"),ret},each:function(callback,args){return jQuery.each(this,callback,args)},ready:function(fn){return jQuery.bindReady(),readyList.add(fn),this},eq:function(i){return i=+i,i===-1?this.slice(i):this.slice(i,i+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(slice.apply(this,arguments),"slice",slice.call(arguments).join(","))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:[].sort,splice:[].splice},jQuery.fn.init.prototype=jQuery.fn,jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;typeof target=="boolean"&&(deep=target,target=arguments[1]||{},i=2),typeof target!="object"&&!jQuery.isFunction(target)&&(target={}),length===i&&(target=this,--i);for(;i<length;i++)if((options=arguments[i])!=null)for(name in options){src=target[name],copy=options[name];if(target===copy)continue;deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&jQuery.isArray(src)?src:[]):clone=src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):copy!==undefined&&(target[name]=copy)}return target},jQuery.extend({noConflict:function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){if(wait===!0&&!--jQuery.readyWait||wait!==!0&&!jQuery.isReady){if(!document.body)return setTimeout(jQuery.ready,1);jQuery.isReady=!0;if(wait!==!0&&--jQuery.readyWait>0)return;readyList.fireWith(document,[jQuery]),jQuery.fn.trigger&&jQuery(document).trigger("ready").off("ready")}},bindReady:function(){if(readyList)return;readyList=jQuery.Callbacks("once memory");if(document.readyState==="complete")return setTimeout(jQuery.ready,1);if(document.addEventListener)document.addEventListener("DOMContentLoaded",DOMContentLoaded,!1),window.addEventListener("load",jQuery.ready,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",DOMContentLoaded),window.attachEvent("onload",jQuery.ready);var toplevel=!1;try{toplevel=window.frameElement==null}catch(e){}document.documentElement.doScroll&&toplevel&&doScrollCheck()}},isFunction:function(obj){return jQuery.type(obj)==="function"},isArray:Array.isArray||function(obj){return jQuery.type(obj)==="array"},isWindow:function(obj){return obj!=null&&obj==obj.window},isNumeric:function(obj){return!isNaN(parseFloat(obj))&&isFinite(obj)},type:function(obj){return obj==null?String(obj):class2type[toString.call(obj)]||"object"},isPlainObject:function(obj){if(!obj||jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj))return!1;try{if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var key;for(key in obj);return key===undefined||hasOwn.call(obj,key)},isEmptyObject:function(obj){for(var name in obj)return!1;return!0},error:function(msg){throw new Error(msg)},parseJSON:function(data){if(typeof data!="string"||!data)return null;data=jQuery.trim(data);if(window.JSON&&window.JSON.parse)return window.JSON.parse(data);if(rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,"")))return(new Function("return "+data))();jQuery.error("Invalid JSON: "+data)},parseXML:function(data){if(typeof data!="string"||!data)return null;var xml,tmp;try{window.DOMParser?(tmp=new DOMParser,xml=tmp.parseFromString(data,"text/xml")):(xml=new ActiveXObject("Microsoft.XMLDOM"),xml.async="false",xml.loadXML(data))}catch(e){xml=undefined}return(!xml||!xml.documentElement||xml.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+data),xml},noop:function(){},globalEval:function(data){data&&rnotwhite.test(data)&&(window.execScript||function(data){window.eval.call(window,data)})(data)},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()===name.toUpperCase()},each:function(object,callback,args){var name,i=0,length=object.length,isObj=length===undefined||jQuery.isFunction(object);if(args){if(isObj){for(name in object)if(callback.apply(object[name],args)===!1)break}else for(;i<length;)if(callback.apply(object[i++],args)===!1)break}else if(isObj){for(name in object)if(callback.call(object[name],name,object[name])===!1)break}else for(;i<length;)if(callback.call(object[i],i,object[i++])===!1)break;return object},trim:trim?function(text){return text==null?"":trim.call(text)}:function(text){return text==null?"":text.toString().replace(trimLeft,"").replace(trimRight,"")},makeArray:function(array,results){var ret=results||[];if(array!=null){var type=jQuery.type(array);array.length==null||type==="string"||type==="function"||type==="regexp"||jQuery.isWindow(array)?push.call(ret,array):jQuery.merge(ret,array)}return ret},inArray:function(elem,array,i){var len;if(array){if(indexOf)return indexOf.call(array,elem,i);len=array.length,i=i?i<0?Math.max(0,len+i):i:0;for(;i<len;i++)if(i in array&&array[i]===elem)return i}return-1},merge:function(first,second){var i=first.length,j=0;if(typeof second.length=="number")for(var l=second.length;j<l;j++)first[i++]=second[j];else while(second[j]!==undefined)first[i++]=second[j++];return first.length=i,first},grep:function(elems,callback,inv){var ret=[],retVal;inv=!!inv;for(var i=0,length=elems.length;i<length;i++)retVal=!!callback(elems[i],i),inv!==retVal&&ret.push(elems[i]);return ret},map:function(elems,callback,arg){var value,key,ret=[],i=0,length=elems.length,isArray=elems instanceof jQuery||length!==undefined&&typeof length=="number"&&(length>0&&elems[0]&&elems[length-1]||length===0||jQuery.isArray(elems));if(isArray)for(;i<length;i++)value=callback(elems[i],i,arg),value!=null&&(ret[ret.length]=value);else for(key in elems)value=callback(elems[key],key,arg),value!=null&&(ret[ret.length]=value);return ret.concat.apply([],ret)},guid:1,proxy:function(fn,context){if(typeof context=="string"){var tmp=fn[context];context=fn,fn=tmp}if(!jQuery.isFunction(fn))return undefined;var args=slice.call(arguments,2),proxy=function(){return fn.apply(context,args.concat(slice.call(arguments)))};return proxy.guid=fn.guid=fn.guid||proxy.guid||jQuery.guid++,proxy},access:function(elems,fn,key,value,chainable,emptyGet,pass){var exec,bulk=key==null,i=0,length=elems.length;if(key&&typeof key=="object"){for(i in key)jQuery.access(elems,fn,i,key[i],1,emptyGet,value);chainable=1}else if(value!==undefined){exec=pass===undefined&&jQuery.isFunction(value),bulk&&(exec?(exec=fn,fn=function(elem,key,value){return exec.call(jQuery(elem),value)}):(fn.call(elems,value),fn=null));if(fn)for(;i<length;i++)fn(elems[i],key,exec?value.call(elems[i],i,fn(elems[i],key)):value,pass);chainable=1}return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet},now:function(){return(new Date).getTime()},uaMatch:function(ua){ua=ua.toLowerCase();var match=rwebkit.exec(ua)||ropera.exec(ua)||rmsie.exec(ua)||ua.indexOf("compatible")<0&&rmozilla.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}},sub:function(){function jQuerySub(selector,context){return new jQuerySub.fn.init(selector,context)}jQuery.extend(!0,jQuerySub,this),jQuerySub.superclass=this,jQuerySub.fn=jQuerySub.prototype=this(),jQuerySub.fn.constructor=jQuerySub,jQuerySub.sub=this.sub,jQuerySub.fn.init=function(selector,context){return context&&context instanceof jQuery&&!(context instanceof jQuerySub)&&(context=jQuerySub(context)),jQuery.fn.init.call(this,selector,context,rootjQuerySub)},jQuerySub.fn.init.prototype=jQuerySub.fn;var rootjQuerySub=jQuerySub(document);return jQuerySub},browser:{}}),jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()}),browserMatch=jQuery.uaMatch(userAgent),browserMatch.browser&&(jQuery.browser[browserMatch.browser]=!0,jQuery.browser.version=browserMatch.version),jQuery.browser.webkit&&(jQuery.browser.safari=!0),rnotwhite.test(" ")&&(trimLeft=/^[\s\xA0]+/,trimRight=/[\s\xA0]+$/),rootjQuery=jQuery(document),document.addEventListener?DOMContentLoaded=function(){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,!1),jQuery.ready()}:document.attachEvent&&(DOMContentLoaded=function(){document.readyState==="complete"&&(document.detachEvent("onreadystatechange",DOMContentLoaded),jQuery.ready())}),jQuery}(),flagsCache={};jQuery.Callbacks=function(flags){flags=flags?flagsCache[flags]||createFlags(flags):{};var list=[],stack=[],memory,fired,firing,firingStart,firingLength,firingIndex,add=function(args){var i,length,elem,type,actual;for(i=0,length=args.length;i<length;i++)elem=args[i],type=jQuery.type(elem),type==="array"?add(elem):type==="function"&&(!flags.unique||!self.has(elem))&&list.push(elem)},fire=function(context,args){args=args||[],memory=!flags.memory||[context,args],fired=!0,firing=!0,firingIndex=firingStart||0,firingStart=0,firingLength=list.length;for(;list&&firingIndex<firingLength;firingIndex++)if(list[firingIndex].apply(context,args)===!1&&flags.stopOnFalse){memory=!0;break}firing=!1,list&&(flags.once?memory===!0?self.disable():list=[]:stack&&stack.length&&(memory=stack.shift(),self.fireWith(memory[0],memory[1])))},self={add:function(){if(list){var length=list.length;add(arguments),firing?firingLength=list.length:memory&&memory!==!0&&(firingStart=length,fire(memory[0],memory[1]))}return this},remove:function(){if(list){var args=arguments,argIndex=0,argLength=args.length;for(;argIndex<argLength;argIndex++)for(var i=0;i<list.length;i++)if(args[argIndex]===list[i]){firing&&i<=firingLength&&(firingLength--,i<=firingIndex&&firingIndex--),list.splice(i--,1);if(flags.unique)break}}return this},has:function(fn){if(list){var i=0,length=list.length;for(;i<length;i++)if(fn===list[i])return!0}return!1},empty:function(){return list=[],this},disable:function(){return list=stack=memory=undefined,this},disabled:function(){return!list},lock:function(){return stack=undefined,(!memory||memory===!0)&&self.disable(),this},locked:function(){return!stack},fireWith:function(context,args){return stack&&(firing?flags.once||stack.push([context,args]):(!flags.once||!memory)&&fire(context,args)),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self};var sliceDeferred=[].slice;jQuery.extend({Deferred:function(func){var doneList=jQuery.Callbacks("once memory"),failList=jQuery.Callbacks("once memory"),progressList=jQuery.Callbacks("memory"),state="pending",lists={resolve:doneList,reject:failList,notify:progressList},promise={done:doneList.add,fail:failList.add,progress:progressList.add,state:function(){return state},isResolved:doneList.fired,isRejected:failList.fired,then:function(doneCallbacks,failCallbacks,progressCallbacks){return deferred.done(doneCallbacks).fail(failCallbacks).progress(progressCallbacks),this},always:function(){return deferred.done.apply(deferred,arguments).fail.apply(deferred,arguments),this},pipe:function(fnDone,fnFail,fnProgress){return jQuery.Deferred(function(newDefer){jQuery.each({done:[fnDone,"resolve"],fail:[fnFail,"reject"],progress:[fnProgress,"notify"]},function(handler,data){var fn=data[0],action=data[1],returned;jQuery.isFunction(fn)?deferred[handler](function(){returned=fn.apply(this,arguments),returned&&jQuery.isFunction(returned.promise)?returned.promise().then(newDefer.resolve,newDefer.reject,newDefer.notify):newDefer[action+"With"](this===deferred?newDefer:this,[returned])}):deferred[handler](newDefer[action])})}).promise()},promise:function(obj){if(obj==null)obj=promise;else for(var key in promise)obj[key]=promise[key];return obj}},deferred=promise.promise({}),key;for(key in lists)deferred[key]=lists[key].fire,deferred[key+"With"]=lists[key].fireWith;return deferred.done(function(){state="resolved"},failList.disable,progressList.lock).fail(function(){state="rejected"},doneList.disable,progressList.lock),func&&func.call(deferred,deferred),deferred},when:function(firstParam){function resolveFunc(i){return function(value){args[i]=arguments.length>1?sliceDeferred.call(arguments,0):value,--count||deferred.resolveWith(deferred,args)}}function progressFunc(i){return function(value){pValues[i]=arguments.length>1?sliceDeferred.call(arguments,0):value,deferred.notifyWith(promise,pValues)}}var args=sliceDeferred.call(arguments,0),i=0,length=args.length,pValues=new Array(length),count=length,pCount=length,deferred=length<=1&&firstParam&&jQuery.isFunction(firstParam.promise)?firstParam:jQuery.Deferred(),promise=deferred.promise();if(length>1){for(;i<length;i++)args[i]&&args[i].promise&&jQuery.isFunction(args[i].promise)?args[i].promise().then(resolveFunc(i),deferred.reject,progressFunc(i)):--count;count||deferred.resolveWith(deferred,args)}else deferred!==firstParam&&deferred.resolveWith(deferred,length?[firstParam]:[]);return promise}}),jQuery.support=function(){var support,all,a,select,opt,input,fragment,tds,events,eventName,i,isSupported,div=document.createElement("div"),documentElement=document.documentElement;div.setAttribute("className","t"),div.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",all=div.getElementsByTagName("*"),a=div.getElementsByTagName("a")[0];if(!all||!all.length||!a)return{};select=document.createElement("select"),opt=select.appendChild(document.createElement("option")),input=div.getElementsByTagName("input")[0],support={leadingWhitespace:div.firstChild.nodeType===3,tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/top/.test(a.getAttribute("style")),hrefNormalized:a.getAttribute("href")==="/a",opacity:/^0.55/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:input.value==="on",optSelected:opt.selected,getSetAttribute:div.className!=="t",enctype:!!document.createElement("form").enctype,html5Clone:document.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},jQuery.boxModel=support.boxModel=document.compatMode==="CSS1Compat",input.checked=!0,support.noCloneChecked=input.cloneNode(!0).checked,select.disabled=!0,support.optDisabled=!opt.disabled;try{delete div.test}catch(e){support.deleteExpando=!1}!div.addEventListener&&div.attachEvent&&div.fireEvent&&(div.attachEvent("onclick",function(){support.noCloneEvent=!1}),div.cloneNode(!0).fireEvent("onclick")),input=document.createElement("input"),input.value="t",input.setAttribute("type","radio"),support.radioValue=input.value==="t",input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),fragment=document.createDocumentFragment(),fragment.appendChild(div.lastChild),support.checkClone=fragment.cloneNode(!0).cloneNode(!0).lastChild.checked,support.appendChecked=input.checked,fragment.removeChild(input),fragment.appendChild(div);if(div.attachEvent)for(i in{submit:1,change:1,focusin:1})eventName="on"+i,isSupported=eventName in div,isSupported||(div.setAttribute(eventName,"return;"),isSupported=typeof div[eventName]=="function"),support[i+"Bubbles"]=isSupported;return fragment.removeChild(div),fragment=select=opt=div=input=null,jQuery(function(){var container,outer,inner,table,td,offsetSupport,marginDiv,conMarginTop,style,html,positionTopLeftWidthHeight,paddingMarginBorderVisibility,paddingMarginBorder,body=document.getElementsByTagName("body")[0];if(!body)return;conMarginTop=1,paddingMarginBorder="padding:0;margin:0;border:",positionTopLeftWidthHeight="position:absolute;top:0;left:0;width:1px;height:1px;",paddingMarginBorderVisibility=paddingMarginBorder+"0;visibility:hidden;",style="style='"+positionTopLeftWidthHeight+paddingMarginBorder+"5px solid #000;",html="<div "+style+"display:block;'><div style='"+paddingMarginBorder+"0;display:block;overflow:hidden;'></div></div>"+"<table "+style+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",container=document.createElement("div"),container.style.cssText=paddingMarginBorderVisibility+"width:0;height:0;position:static;top:0;margin-top:"+conMarginTop+"px",body.insertBefore(container,body.firstChild),div=document.createElement("div"),container.appendChild(div),div.innerHTML="<table><tr><td style='"+paddingMarginBorder+"0;display:none'></td><td>t</td></tr></table>",tds=div.getElementsByTagName("td"),isSupported=tds[0].offsetHeight===0,tds[0].style.display="",tds[1].style.display="none",support.reliableHiddenOffsets=isSupported&&tds[0].offsetHeight===0,window.getComputedStyle&&(div.innerHTML="",marginDiv=document.createElement("div"),marginDiv.style.width="0",marginDiv.style.marginRight="0",div.style.width="2px",div.appendChild(marginDiv),support.reliableMarginRight=(parseInt((window.getComputedStyle(marginDiv,null)||{marginRight:0}).marginRight,10)||0)===0),typeof div.style.zoom!="undefined"&&(div.innerHTML="",div.style.width=div.style.padding="1px",div.style.border=0,div.style.overflow="hidden",div.style.display="inline",div.style.zoom=1,support.inlineBlockNeedsLayout=div.offsetWidth===3,div.style.display="block",div.style.overflow="visible",div.innerHTML="<div style='width:5px;'></div>",support.shrinkWrapBlocks=div.offsetWidth!==3),div.style.cssText=positionTopLeftWidthHeight+paddingMarginBorderVisibility,div.innerHTML=html,outer=div.firstChild,inner=outer.firstChild,td=outer.nextSibling.firstChild.firstChild,offsetSupport={doesNotAddBorder:inner.offsetTop!==5,doesAddBorderForTableAndCells:td.offsetTop===5},inner.style.position="fixed",inner.style.top="20px",offsetSupport.fixedPosition=inner.offsetTop===20||inner.offsetTop===15,inner.style.position=inner.style.top="",outer.style.overflow="hidden",outer.style.position="relative",offsetSupport.subtractsBorderForOverflowNotVisible=inner.offsetTop===-5,offsetSupport.doesNotIncludeMarginInBodyOffset=body.offsetTop!==conMarginTop,window.getComputedStyle&&(div.style.marginTop="1%",support.pixelMargin=(window.getComputedStyle(div,null)||{marginTop:0}).marginTop!=="1%"),typeof container.style.zoom!="undefined"&&(container.style.zoom=1),body.removeChild(container),marginDiv=div=container=null,jQuery.extend(support,offsetSupport)}),support}();var rbrace=/^(?:\{.*\}|\[.*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({cache:{},uuid:0,expando:"jQuery"+(jQuery.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(elem){return elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando],!!elem&&!isEmptyDataObject(elem)},data:function(elem,name,data,pvt){if(!jQuery.acceptData(elem))return;var privateCache,thisCache,ret,internalKey=jQuery.expando,getByName=typeof name=="string",isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey,isEvents=name==="events";if((!id||!cache[id]||!isEvents&&!pvt&&!cache[id].data)&&getByName&&data===undefined)return;id||(isNode?elem[internalKey]=id=++jQuery.uuid:id=internalKey),cache[id]||(cache[id]={},isNode||(cache[id].toJSON=jQuery.noop));if(typeof name=="object"||typeof name=="function")pvt?cache[id]=jQuery.extend(cache[id],name):cache[id].data=jQuery.extend(cache[id].data,name);return privateCache=thisCache=cache[id],pvt||(thisCache.data||(thisCache.data={}),thisCache=thisCache.data),data!==undefined&&(thisCache[jQuery.camelCase(name)]=data),isEvents&&!thisCache[name]?privateCache.events:(getByName?(ret=thisCache[name],ret==null&&(ret=thisCache[jQuery.camelCase(name)])):ret=thisCache,ret)},removeData:function(elem,name,pvt){if(!jQuery.acceptData(elem))return;var thisCache,i,l,internalKey=jQuery.expando,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:internalKey;if(!cache[id])return;if(name){thisCache=pvt?cache[id]:cache[id].data;if(thisCache){jQuery.isArray(name)||(name in thisCache?name=[name]:(name=jQuery.camelCase(name),name in thisCache?name=[name]:name=name.split(" ")));for(i=0,l=name.length;i<l;i++)delete thisCache[name[i]];if(!(pvt?isEmptyDataObject:jQuery.isEmptyObject)(thisCache))return}}if(!pvt){delete cache[id].data;if(!isEmptyDataObject(cache[id]))return}jQuery.support.deleteExpando||!cache.setInterval?delete cache[id]:cache[id]=null,isNode&&(jQuery.support.deleteExpando?delete elem[internalKey]:elem.removeAttribute?elem.removeAttribute(internalKey):elem[internalKey]=null)},_data:function(elem,name,data){return jQuery.data(elem,name,data,!0)},acceptData:function(elem){if(elem.nodeName){var match=jQuery.noData[elem.nodeName.toLowerCase()];if(match)return match!==!0&&elem.getAttribute("classid")===match}return!0}}),jQuery.fn.extend({data:function(key,value){var parts,part,attr,name,l,elem=this[0],i=0,data=null;if(key===undefined){if(this.length){data=jQuery.data(elem);if(elem.nodeType===1&&!jQuery._data(elem,"parsedAttrs")){attr=elem.attributes;for(l=attr.length;i<l;i++)name=attr[i].name,name.indexOf("data-")===0&&(name=jQuery.camelCase(name.substring(5)),dataAttr(elem,name,data[name]));jQuery._data(elem,"parsedAttrs",!0)}}return data}return typeof key=="object"?this.each(function(){jQuery.data(this,key)}):(parts=key.split(".",2),parts[1]=parts[1]?"."+parts[1]:"",part=parts[1]+"!",jQuery.access(this,function(value){if(value===undefined)return data=this.triggerHandler("getData"+part,[parts[0]]),data===undefined&&elem&&(data=jQuery.data(elem,key),data=dataAttr(elem,key,data)),data===undefined&&parts[1]?this.data(parts[0]):data;parts[1]=value,this.each(function(){var self=jQuery(this);self.triggerHandler("setData"+part,parts),jQuery.data(this,key,value),self.triggerHandler("changeData"+part,parts)})},null,value,arguments.length>1,null,!1))},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}}),jQuery.extend({_mark:function(elem,type){elem&&(type=(type||"fx")+"mark",jQuery._data(elem,type,(jQuery._data(elem,type)||0)+1))},_unmark:function(force,elem,type){force!==!0&&(type=elem,elem=force,force=!1);if(elem){type=type||"fx";var key=type+"mark",count=force?0:(jQuery._data(elem,key)||1)-1;count?jQuery._data(elem,key,count):(jQuery.removeData(elem,key,!0),handleQueueMarkDefer(elem,type,"mark"))}},queue:function(elem,type,data){var q;if(elem)return type=(type||"fx")+"queue",q=jQuery._data(elem,type),data&&(!q||jQuery.isArray(data)?q=jQuery._data(elem,type,jQuery.makeArray(data)):q.push(data)),q||[]},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),fn=queue.shift(),hooks={};fn==="inprogress"&&(fn=queue.shift()),fn&&(type==="fx"&&queue.unshift("inprogress"),jQuery._data(elem,type+".run",hooks),fn.call(elem,function(){jQuery.dequeue(elem,type)},hooks)),queue.length||(jQuery.removeData(elem,type+"queue "+type+".run",!0),handleQueueMarkDefer(elem,type,"queue"))}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return typeof type!="string"&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);type==="fx"&&queue[0]!=="inprogress"&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){return time=jQuery.fx?jQuery.fx.speeds[time]||time:time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,object){function resolve(){--count||defer.resolveWith(elements,[elements])}typeof type!="string"&&(object=type,type=undefined),type=type||"fx";var defer=jQuery.Deferred(),elements=this,i=elements.length,count=1,deferDataKey=type+"defer",queueDataKey=type+"queue",markDataKey=type+"mark",tmp;while(i--)if(tmp=jQuery.data(elements[i],deferDataKey,undefined,!0)||(jQuery.data(elements[i],queueDataKey,undefined,!0)||jQuery.data(elements[i],markDataKey,undefined,!0))&&jQuery.data(elements[i],deferDataKey,jQuery.Callbacks("once memory"),!0))count++,tmp.add(resolve);return resolve(),defer.promise(object)}});var rclass=/[\n\t\r]/g,rspace=/\s+/,rreturn=/\r/g,rtype=/^(?:button|input)$/i,rfocusable=/^(?:button|input|object|select|textarea)$/i,rclickable=/^a(?:rea)?$/i,rboolean=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,getSetAttribute=jQuery.support.getSetAttribute,nodeHook,boolHook,fixSpecified;jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})},prop:function(name,value){return jQuery.access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return name=jQuery.propFix[name]||name,this.each(function(){try{this[name]=undefined,delete this[name]}catch(e){}})},addClass:function(value){var classNames,i,l,elem,setClass,c,cl;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))});if(value&&typeof value=="string"){classNames=value.split(rspace);for(i=0,l=this.length;i<l;i++){elem=this[i];if(elem.nodeType===1)if(!elem.className&&classNames.length===1)elem.className=value;else{setClass=" "+elem.className+" ";for(c=0,cl=classNames.length;c<cl;c++)~setClass.indexOf(" "+classNames[c]+" ")||(setClass+=classNames[c]+" ");elem.className=jQuery.trim(setClass)}}}return this},removeClass:function(value){var classNames,i,l,elem,className,c,cl;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))});if(value&&typeof value=="string"||value===undefined){classNames=(value||"").split(rspace);for(i=0,l=this.length;i<l;i++){elem=this[i];if(elem.nodeType===1&&elem.className)if(value){className=(" "+elem.className+" ").replace(rclass," ");for(c=0,cl=classNames.length;c<cl;c++)className=className.replace(" "+classNames[c]+" "," ");elem.className=jQuery.trim(className)}else elem.className=""}}return this},toggleClass:function(value,stateVal){var type=typeof value,isBool=typeof stateVal=="boolean";return jQuery.isFunction(value)?this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)}):this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),state=stateVal,classNames=value.split(rspace);while(className=classNames[i++])state=isBool?state:!self.hasClass(className),self[state?"addClass":"removeClass"](className)}else if(type==="undefined"||type==="boolean")this.className&&jQuery._data(this,"__className__",this.className),this.className=this.className||value===!1?"":jQuery._data(this,"__className__")||""})},hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;i<l;i++)if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>-1)return!0;return!1},val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem)return hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()],hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined?ret:(ret=elem.value,typeof ret=="string"?ret.replace(rreturn,""):ret==null?"":ret);return}return isFunction=jQuery.isFunction(value),this.each(function(i){var self=jQuery(this),val;if(this.nodeType!==1)return;isFunction?val=value.call(this,i,self.val()):val=value,val==null?val="":typeof val=="number"?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return value==null?"":value+""})),hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!hooks||!("set"in hooks)||hooks.set(this,val,"value")===undefined)this.value=val})}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=elem.attributes.value;return!val||val.specified?elem.value:elem.text}},select:{get:function(elem){var value,i,max,option,index=elem.selectedIndex,values=[],options=elem.options,one=elem.type==="select-one";if(index<0)return null;i=one?index:0,max=one?index+1:options.length;for(;i<max;i++){option=options[i];if(option.selected&&(jQuery.support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one)return value;values.push(value)}}return one&&!values.length&&options.length?jQuery(options[index]).val():values},set:function(elem,value){var values=jQuery.makeArray(value);return jQuery(elem).find("option").each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0}),values.length||(elem.selectedIndex=-1),values}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(elem,name,value,pass){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2)return;if(pass&&name in jQuery.attrFn)return jQuery(elem)[name](value);if(typeof elem.getAttribute=="undefined")return jQuery.prop(elem,name,value);notxml=nType!==1||!jQuery.isXMLDoc(elem),notxml&&(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(rboolean.test(name)?boolHook:nodeHook));if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);return}return hooks&&"set"in hooks&&notxml&&(ret=hooks.set(elem,value,name))!==undefined?ret:(elem.setAttribute(name,""+value),value)}return hooks&&"get"in hooks&&notxml&&(ret=hooks.get(elem,name))!==null?ret:(ret=elem.getAttribute(name),ret===null?undefined:ret)},removeAttr:function(elem,value){var propName,attrNames,name,l,isBool,i=0;if(value&&elem.nodeType===1){attrNames=value.toLowerCase().split(rspace),l=attrNames.length;for(;i<l;i++)name=attrNames[i],name&&(propName=jQuery.propFix[name]||name,isBool=rboolean.test(name),isBool||jQuery.attr(elem,name,""),elem.removeAttribute(getSetAttribute?name:propName),isBool&&propName in elem&&(elem[propName]=!1))}},attrHooks:{type:{set:function(elem,value){if(rtype.test(elem.nodeName)&&elem.parentNode)jQuery.error("type property can't be changed");else if(!jQuery.support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}},value:{get:function(elem,name){return nodeHook&&jQuery.nodeName(elem,"button")?nodeHook.get(elem,name):name in elem?elem.value:null},set:function(elem,value,name){if(nodeHook&&jQuery.nodeName(elem,"button"))return nodeHook.set(elem,value,name);elem.value=value}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2)return;return notxml=nType!==1||!jQuery.isXMLDoc(elem),notxml&&(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),value!==undefined?hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:elem[name]=value:hooks&&"get"in hooks&&(ret=hooks.get(elem,name))!==null?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){var attributeNode=elem.getAttributeNode("tabindex");return attributeNode&&attributeNode.specified?parseInt(attributeNode.value,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined}}}}),jQuery.attrHooks.tabindex=jQuery.propHooks.tabIndex,boolHook={get:function(elem,name){var attrNode,property=jQuery.prop(elem,name);return property===!0||typeof property!="boolean"&&(attrNode=elem.getAttributeNode(name))&&attrNode.nodeValue!==!1?name.toLowerCase():undefined},set:function(elem,value,name){var propName;return value===!1?jQuery.removeAttr(elem,name):(propName=jQuery.propFix[name]||name,propName in elem&&(elem[propName]=!0),elem.setAttribute(name,name.toLowerCase())),name}},getSetAttribute||(fixSpecified={name:!0,id:!0,coords:!0},nodeHook=jQuery.valHooks.button={get:function(elem,name){var ret;return ret=elem.getAttributeNode(name),ret&&(fixSpecified[name]?ret.nodeValue!=="":ret.specified)?ret.nodeValue:undefined},set:function(elem,value,name){var ret=elem.getAttributeNode(name);return ret||(ret=document.createAttribute(name),elem.setAttributeNode(ret)),ret.nodeValue=value+""}},jQuery.attrHooks.tabindex.set=nodeHook.set,jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{set:function(elem,value){if(value==="")return elem.setAttribute(name,"auto"),value}})}),jQuery.attrHooks.contenteditable={get:nodeHook.get,set:function(elem,value,name){value===""&&(value="false"),nodeHook.set(elem,value,name)}}),jQuery.support.hrefNormalized||jQuery.each(["href","src","width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{get:function(elem){var ret=elem.getAttribute(name,2);return ret===null?undefined:ret}})}),jQuery.support.style||(jQuery.attrHooks.style={get:function(elem){return elem.style.cssText.toLowerCase()||undefined},set:function(elem,value){return elem.style.cssText=""+value}}),jQuery.support.optSelected||(jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{get:function(elem){var parent=elem.parentNode;return parent&&(parent.selectedIndex,parent.parentNode&&parent.parentNode.selectedIndex),null}})),jQuery.support.enctype||(jQuery.propFix.enctype="encoding"),jQuery.support.checkOn||jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={get:function(elem){return elem.getAttribute("value")===null?"on":elem.value}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{set:function(elem,value){if(jQuery.isArray(value))return elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0}})});var rformElems=/^(?:textarea|input|select)$/i,rtypenamespace=/^([^\.]*)?(?:\.(.+))?$/,rhoverHack=/(?:^|\s)hover(\.\S+)?\b/,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rquickIs=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,quickParse=function(selector){var quick=rquickIs.exec(selector);return quick&&(quick[1]=(quick[1]||"").toLowerCase(),quick[3]=quick[3]&&new RegExp("(?:^|\\s)"+quick[3]+"(?:\\s|$)")),quick},quickIs=function(elem,m){var attrs=elem.attributes||{};return(!m[1]||elem.nodeName.toLowerCase()===m[1])&&(!m[2]||(attrs.id||{}).value===m[2])&&(!m[3]||m[3].test((attrs["class"]||{}).value))},hoverHack=function(events){return jQuery.event.special.hover?events:events.replace(rhoverHack,"mouseenter$1 mouseleave$1")};jQuery.event={add:function(elem,types,handler,data,selector){var elemData,eventHandle,events,t,tns,type,namespaces,handleObj,handleObjIn,quick,handlers,special;if(elem.nodeType===3||elem.nodeType===8||!types||!handler||!(elemData=jQuery._data(elem)))return;handler.handler&&(handleObjIn=handler,handler=handleObjIn.handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),events=elemData.events,events||(elemData.events=events={}),eventHandle=elemData.handle,eventHandle||(elemData.handle=eventHandle=function(e){return typeof jQuery=="undefined"||!!e&&jQuery.event.triggered===e.type?undefined:jQuery.event.dispatch.apply(eventHandle.elem,arguments)},eventHandle.elem=elem),types=jQuery.trim(hoverHack(types)).split(" ");for(t=0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[],type=tns[1],namespaces=(tns[2]||"").split(".").sort(),special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:tns[1],data:data,handler:handler,guid:handler.guid,selector:selector,quick:selector&&quickParse(selector),namespace:namespaces.join(".")},handleObjIn),handlers=events[type];if(!handlers){handlers=events[type]=[],handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===!1)elem.addEventListener?elem.addEventListener(type,eventHandle,!1):elem.attachEvent&&elem.attachEvent("on"+type,eventHandle)}special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0}elem=null},global:{},remove:function(elem,types,handler,selector,mappedTypes){var elemData=jQuery.hasData(elem)&&jQuery._data(elem),t,tns,type,origType,namespaces,origCount,j,events,special,handle,eventType,handleObj;if(!elemData||!(events=elemData.events))return;types=jQuery.trim(hoverHack(types||"")).split(" ");for(t=0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[],type=origType=tns[1],namespaces=tns[2];if(!type){for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);continue}special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,eventType=events[type]||[],origCount=eventType.length,namespaces=namespaces?new RegExp("(^|\\.)"+namespaces.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(j=0;j<eventType.length;j++)handleObj=eventType[j],(mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!namespaces||namespaces.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)&&(eventType.splice(j--,1),handleObj.selector&&eventType.delegateCount--,special.remove&&special.remove.call(elem,handleObj));eventType.length===0&&origCount!==eventType.length&&((!special.teardown||special.teardown.call(elem,namespaces)===!1)&&jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}jQuery.isEmptyObject(events)&&(handle=elemData.handle,handle&&(handle.elem=null),jQuery.removeData(elem,["events","handle"],!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(event,data,elem,onlyHandlers){if(!elem||elem.nodeType!==3&&elem.nodeType!==8){var type=event.type||event,namespaces=[],cache,exclusive,i,cur,old,ontype,special,handle,eventPath,bubbleType;if(rfocusMorph.test(type+jQuery.event.triggered))return;type.indexOf("!")>=0&&(type=type.slice(0,-1),exclusive=!0),type.indexOf(".")>=0&&(namespaces=type.split("."),type=namespaces.shift(),namespaces.sort());if((!elem||jQuery.event.customEvent[type])&&!jQuery.event.global[type])return;event=typeof event=="object"?event[jQuery.expando]?event:new jQuery.Event(type,event):new jQuery.Event(type),event.type=type,event.isTrigger=!0,event.exclusive=exclusive,event.namespace=namespaces.join("."),event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,ontype=type.indexOf(":")<0?"on"+type:"";if(!elem){cache=jQuery.cache;for(i in cache)cache[i].events&&cache[i].events[type]&&jQuery.event.trigger(event,data,cache[i].handle.elem,!0);return}event.result=undefined,event.target||(event.target=elem),data=data!=null?jQuery.makeArray(data):[],data.unshift(event),special=jQuery.event.special[type]||{};if(special.trigger&&special.trigger.apply(elem,data)===!1)return;eventPath=[[elem,special.bindType||type]];if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type,cur=rfocusMorph.test(bubbleType+type)?elem:elem.parentNode,old=null;for(;cur;cur=cur.parentNode)eventPath.push([cur,bubbleType]),old=cur;old&&old===elem.ownerDocument&&eventPath.push([old.defaultView||old.parentWindow||window,bubbleType])}for(i=0;i<eventPath.length&&!event.isPropagationStopped();i++)cur=eventPath[i][0],event.type=eventPath[i][1],handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle"),handle&&handle.apply(cur,data),handle=ontype&&cur[ontype],handle&&jQuery.acceptData(cur)&&handle.apply(cur,data)===!1&&event.preventDefault();return event.type=type,!onlyHandlers&&!event.isDefaultPrevented()&&(!special._default||special._default.apply(elem.ownerDocument,data)===!1)&&(type!=="click"||!jQuery.nodeName(elem,"a"))&&jQuery.acceptData(elem)&&ontype&&elem[type]&&(type!=="focus"&&type!=="blur"||event.target.offsetWidth!==0)&&!jQuery.isWindow(elem)&&(old=elem[ontype],old&&(elem[ontype]=null),jQuery.event.triggered=type,elem[type](),jQuery.event.triggered=undefined,old&&(elem[ontype]=old)),event.result}return},dispatch:function(event){event=jQuery.event.fix(event||window.event);var handlers=(jQuery._data(this,"events")||{})[event.type]||[],delegateCount=handlers.delegateCount,args=[].slice.call(arguments,0),run_all=!event.exclusive&&!event.namespace,special=jQuery.event.special[event.type]||{},handlerQueue=[],i,j,cur,jqcur,ret,selMatch,matched,matches,handleObj,sel,related;args[0]=event,event.delegateTarget=this;if(special.preDispatch&&special.preDispatch.call(this,event)===!1)return;if(delegateCount&&(!event.button||event.type!=="click")){jqcur=jQuery(this),jqcur.context=this.ownerDocument||this;for(cur=event.target;cur!=this;cur=cur.parentNode||this)if(cur.disabled!==!0){selMatch={},matches=[],jqcur[0]=cur;for(i=0;i<delegateCount;i++)handleObj=handlers[i],sel=handleObj.selector,selMatch[sel]===undefined&&(selMatch[sel]=handleObj.quick?quickIs(cur,handleObj.quick):jqcur.is(sel)),selMatch[sel]&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,matches:matches})}}handlers.length>delegateCount&&handlerQueue.push({elem:this,matches:handlers.slice(delegateCount)});for(i=0;i<handlerQueue.length&&!event.isPropagationStopped();i++){matched=handlerQueue[i],event.currentTarget=matched.elem;for(j=0;j<matched.matches.length&&!event.isImmediatePropagationStopped();j++){handleObj=matched.matches[j];if(run_all||!event.namespace&&!handleObj.namespace||event.namespace_re&&event.namespace_re.test(handleObj.namespace))event.data=handleObj.data,event.handleObj=handleObj,ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args),ret!==undefined&&(event.result=ret,ret===!1&&(event.preventDefault(),event.stopPropagation()))}}return special.postDispatch&&special.postDispatch.call(this,event),event.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){return event.which==null&&(event.which=original.charCode!=null?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button,fromElement=original.fromElement;return event.pageX==null&&original.clientX!=null&&(eventDoc=event.target.ownerDocument||document,doc=eventDoc.documentElement,body=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),!event.relatedTarget&&fromElement&&(event.relatedTarget=fromElement===event.target?original.toElement:fromElement),!event.which&&button!==undefined&&(event.which=button&1?1:button&2?3:button&4?2:0),event}},fix:function(event){if(event[jQuery.expando])return event;var i,prop,originalEvent=event,fixHook=jQuery.event.fixHooks[event.type]||{},copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=jQuery.Event(originalEvent);for(i=copy.length;i;)prop=copy[--i],event[prop]=originalEvent[prop];return event.target||(event.target=originalEvent.srcElement||document),event.target.nodeType===3&&(event.target=event.target.parentNode),event.metaKey===undefined&&(event.metaKey=event.ctrlKey),fixHook.filter?fixHook.filter(event,originalEvent):event},special:{ready:{setup:jQuery.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(data,namespaces,eventHandle){jQuery.isWindow(this)&&(this.onbeforeunload=eventHandle)},teardown:function(namespaces,eventHandle){this.onbeforeunload===eventHandle&&(this.onbeforeunload=null)}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0,originalEvent:{}});bubble?jQuery.event.trigger(e,null,elem):jQuery.event.dispatch.call(elem,e),e.isDefaultPrevented()&&event.preventDefault()}},jQuery.event.handle=jQuery.event.dispatch,jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle,!1)}:function(elem,type,handle){elem.detachEvent&&elem.detachEvent("on"+type,handle)},jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event))return new jQuery.Event(src,props);src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||src.returnValue===!1||src.getPreventDefault&&src.getPreventDefault()?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var target=this,related=event.relatedTarget,handleObj=event.handleObj,selector=handleObj.selector,ret;if(!related||related!==target&&!jQuery.contains(target,related))event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix;return ret}}}),jQuery.support.submitBubbles||(jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form"))return!1;jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:undefined;form&&!form._submit_attached&&(jQuery.event.add(form,"submit._submit",function(event){event._submit_bubble=!0}),form._submit_attached=!0)})},postDispatch:function(event){event._submit_bubble&&(delete event._submit_bubble,this.parentNode&&!event.isTrigger&&jQuery.event.simulate("submit",this.parentNode,event,!0))},teardown:function(){if(jQuery.nodeName(this,"form"))return!1;jQuery.event.remove(this,"._submit")}}),jQuery.support.changeBubbles||(jQuery.event.special.change={setup:function(){if(rformElems.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")jQuery.event.add(this,"propertychange._change",function(event){event.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),jQuery.event.add(this,"click._change",function(event){this._just_changed&&!event.isTrigger&&(this._just_changed=!1,jQuery.event.simulate("change",this,event,!0))});return!1}jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;rformElems.test(elem.nodeName)&&!elem._change_attached&&(jQuery.event.add(elem,"change._change",function(event){this.parentNode&&!event.isSimulated&&!event.isTrigger&&jQuery.event.simulate("change",this.parentNode,event,!0)}),elem._change_attached=!0)})},handle:function(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||elem.type!=="radio"&&elem.type!=="checkbox")return event.handleObj.handler.apply(this,arguments)},teardown:function(){return jQuery.event.remove(this,"._change"),rformElems.test(this.nodeName)}}),jQuery.support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var attaches=0,handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),!0)};jQuery.event.special[fix]={setup:function(){attaches++===0&&document.addEventListener(orig,handler,!0)},teardown:function(){--attaches===0&&document.removeEventListener(orig,handler,!0)}}}),jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if(typeof types=="object"){typeof selector!="string"&&(data=data||selector,selector=undefined);for(type in types)this.on(type,selector,data,types[type],one);return this}data==null&&fn==null?(fn=selector,data=selector=undefined):fn==null&&(typeof selector=="string"?(fn=data,data=undefined):(fn=data,data=selector,selector=undefined));if(fn===!1)fn=returnFalse;else if(!fn)return this;return one===1&&(origFn=fn,fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)},fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){if(types&&types.preventDefault&&types.handleObj){var handleObj=types.handleObj;return jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this}if(typeof types=="object"){for(var type in types)this.off(type,selector,types[type]);return this}if(selector===!1||typeof selector=="function")fn=selector,selector=undefined;return fn===!1&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},live:function(types,data,fn){return jQuery(this.context).on(types,this.selector,data,fn),this},die:function(types,fn){return jQuery(this.context).off(types,this.selector||"**",fn),this},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return arguments.length==1?this.off(selector,"**"):this.off(types,selector,fn)},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){if(this[0])return jQuery.event.trigger(type,data,this[0],!0)},toggle:function(fn){var args=arguments,guid=fn.guid||jQuery.guid++,i=0,toggler=function(event){var lastToggle=(jQuery._data(this,"lastToggle"+fn.guid)||0)%i;return jQuery._data(this,"lastToggle"+fn.guid,lastToggle+1),event.preventDefault(),args[lastToggle].apply(this,arguments)||!1};toggler.guid=guid;while(i<args.length)args[i++].guid=guid;return this.click(toggler)},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return fn==null&&(fn=data,data=null),arguments.length>0?this.on(name,null,data,fn):this.trigger(name)},jQuery.attrFn&&(jQuery.attrFn[name]=!0),rkeyEvent.test(name)&&(jQuery.event.fixHooks[name]=jQuery.event.keyHooks),rmouseEvent.test(name)&&(jQuery.event.fixHooks[name]=jQuery.event.mouseHooks)}),function(){function dirNodeCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){var match=!1;elem=elem[dir];while(elem){if(elem[expando]===doneName){match=checkSet[elem.sizset];break}elem.nodeType===1&&!isXML&&(elem[expando]=doneName,elem.sizset=i);if(elem.nodeName.toLowerCase()===cur){match=elem;break}elem=elem[dir]}checkSet[i]=match}}}function dirCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){var match=!1;elem=elem[dir];while(elem){if(elem[expando]===doneName){match=checkSet[elem.sizset];break}if(elem.nodeType===1){isXML||(elem[expando]=doneName,elem.sizset=i);if(typeof cur!="string"){if(elem===cur){match=!0;break}}else if(Sizzle.filter(cur,[elem]).length>0){match=elem;break}}elem=elem[dir]}checkSet[i]=match}}}var chunker=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,expando="sizcache"+(Math.random()+"").replace(".",""),done=0,toString=Object.prototype.toString,hasDuplicate=!1,baseHasDuplicate=!0,rBackslash=/\\/g,rReturn=/\r\n/g,rNonWord=/\W/;[0,0].sort(function(){return baseHasDuplicate=!1,0});var Sizzle=function(selector,context,results,seed){results=results||[],context=context||document;var origContext=context;if(context.nodeType!==1&&context.nodeType!==9)return[];if(!selector||typeof selector!="string")return results;var m,set,checkSet,extra,ret,cur,pop,i,prune=!0,contextXML=Sizzle.isXML(context),parts=[],soFar=selector;do{chunker.exec(""),m=chunker.exec(soFar);if(m){soFar=m[3],parts.push(m[1]);if(m[2]){extra=m[3];break}}}while(m);if(parts.length>1&&origPOS.exec(selector))if(parts.length===2&&Expr.relative[parts[0]])set=posProcess(parts[0]+parts[1],context,seed);else{set=Expr.relative[parts[0]]?[context]:Sizzle(parts.shift(),context);while(parts.length)selector=parts.shift(),Expr.relative[selector]&&(selector+=parts.shift()),set=posProcess(selector,set,seed)}else{!seed&&parts.length>1&&context.nodeType===9&&!contextXML&&Expr.match.ID.test(parts[0])&&!Expr.match.ID.test(parts[parts.length-1])&&(ret=Sizzle.find(parts.shift(),context,contextXML),context=ret.expr?Sizzle.filter(ret.expr,ret.set)[0]:ret.set[0]);if(context){ret=seed?{expr:parts.pop(),set:makeArray(seed)}:Sizzle.find(parts.pop(),parts.length!==1||parts[0]!=="~"&&parts[0]!=="+"||!context.parentNode?context:context.parentNode,contextXML),set=ret.expr?Sizzle.filter(ret.expr,ret.set):ret.set,parts.length>0?checkSet=makeArray(set):prune=!1;while(parts.length)cur=parts.pop(),pop=cur,Expr.relative[cur]?pop=parts.pop():cur="",pop==null&&(pop=context),Expr.relative[cur](checkSet,pop,contextXML)}else checkSet=parts=[]}checkSet||(checkSet=set),checkSet||Sizzle.error(cur||selector);if(toString.call(checkSet)==="[object Array]")if(!prune)results.push.apply(results,checkSet);else if(context&&context.nodeType===1)for(i=0;checkSet[i]!=null;i++)checkSet[i]&&(checkSet[i]===!0||checkSet[i].nodeType===1&&Sizzle.contains(context,checkSet[i]))&&results.push(set[i]);else for(i=0;checkSet[i]!=null;i++)checkSet[i]&&checkSet[i].nodeType===1&&results.push(set[i]);else makeArray(checkSet,results);return extra&&(Sizzle(extra,origContext,results,seed),Sizzle.uniqueSort(results)),results};Sizzle.uniqueSort=function(results){if(sortOrder){hasDuplicate=baseHasDuplicate,results.sort(sortOrder);if(hasDuplicate)for(var i=1;i<results.length;i++)results[i]===results[i-1]&&results.splice(i--,1)}return results},Sizzle.matches=function(expr,set){return Sizzle(expr,null,null,set)},Sizzle.matchesSelector=function(node,expr){return Sizzle(expr,null,null,[node]).length>0},Sizzle.find=function(expr,context,isXML){var set,i,len,match,type,left;if(!expr)return[];for(i=0,len=Expr.order.length;i<len;i++){type=Expr.order[i];if(match=Expr.leftMatch[type].exec(expr)){left=match[1],match.splice(1,1);if(left.substr(left.length-1)!=="\\"){match[1]=(match[1]||"").replace(rBackslash,""),set=Expr.find[type](match,context,isXML);if(set!=null){expr=expr.replace(Expr.match[type],"");break}}}}return set||(set=typeof context.getElementsByTagName!="undefined"?context.getElementsByTagName("*"):[]),{set:set,expr:expr}},Sizzle.filter=function(expr,set,inplace,not){var match,anyFound,type,found,item,filter,left,i,pass,old=expr,result=[],curLoop=set,isXMLFilter=set&&set[0]&&Sizzle.isXML(set[0]);while(expr&&set.length){for(type in Expr.filter)if((match=Expr.leftMatch[type].exec(expr))!=null&&match[2]){filter=Expr.filter[type],left=match[1],anyFound=!1,match.splice(1,1);if(left.substr(left.length-1)==="\\")continue;curLoop===result&&(result=[]);if(Expr.preFilter[type]){match=Expr.preFilter[type](match,curLoop,inplace,result,not,isXMLFilter);if(!match)anyFound=found=!0;else if(match===!0)continue}if(match)for(i=0;(item=curLoop[i])!=null;i++)item&&(found=filter(item,match,i,curLoop),pass=not^found,inplace&&found!=null?pass?anyFound=!0:curLoop[i]=!1:pass&&(result.push(item),anyFound=!0));if(found!==undefined){inplace||(curLoop=result),expr=expr.replace(Expr.match[type],"");if(!anyFound)return[];break}}if(expr===old){if(anyFound!=null)break;Sizzle.error(expr)}old=expr}return curLoop},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};var getText=Sizzle.getText=function(elem){var i,node,nodeType=elem.nodeType,ret="";if(nodeType){if(nodeType===1||nodeType===9||nodeType===11){if(typeof elem.textContent=="string")return elem.textContent;if(typeof elem.innerText=="string")return elem.innerText.replace(rReturn,"");for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(nodeType===3||nodeType===4)return elem.nodeValue}else for(i=0;node=elem[i];i++)node.nodeType!==8&&(ret+=getText(node));return ret},Expr=Sizzle.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(elem){return elem.getAttribute("href")},type:function(elem){return elem.getAttribute("type")}},relative:{"+":function(checkSet,part){var isPartStr=typeof part=="string",isTag=isPartStr&&!rNonWord.test(part),isPartStrNotTag=isPartStr&&!isTag;isTag&&(part=part.toLowerCase());for(var i=0,l=checkSet.length,elem;i<l;i++)if(elem=checkSet[i]){while((elem=elem.previousSibling)&&elem.nodeType!==1);checkSet[i]=isPartStrNotTag||elem&&elem.nodeName.toLowerCase()===part?elem||!1:elem===part}isPartStrNotTag&&Sizzle.filter(part,checkSet,!0)},">":function(checkSet,part){var elem,isPartStr=typeof part=="string",i=0,l=checkSet.length;if(isPartStr&&!rNonWord.test(part)){part=part.toLowerCase();for(;i<l;i++){elem=checkSet[i];if(elem){var parent=elem.parentNode;checkSet[i]=parent.nodeName.toLowerCase()===part?parent:!1}}}else{for(;i<l;i++)elem=checkSet[i],elem&&(checkSet[i]=isPartStr?elem.parentNode:elem.parentNode===part);isPartStr&&Sizzle.filter(part,checkSet,!0)}},"":function(checkSet,part,isXML){var nodeCheck,doneName=done++,checkFn=dirCheck;typeof part=="string"&&!rNonWord.test(part)&&(part=part.toLowerCase(),nodeCheck=part,checkFn=dirNodeCheck),checkFn("parentNode",part,doneName,checkSet,nodeCheck,isXML)},"~":function(checkSet,part,isXML){var nodeCheck,doneName=done++,checkFn=dirCheck;typeof part=="string"&&!rNonWord.test(part)&&(part=part.toLowerCase(),nodeCheck=part,checkFn=dirNodeCheck),checkFn("previousSibling",part,doneName,checkSet,nodeCheck,isXML)}},find:{ID:function(match,context,isXML){if(typeof context.getElementById!="undefined"&&!isXML){var m=context.getElementById(match[1]);return m&&m.parentNode?[m]:[]}},NAME:function(match,context){if(typeof context.getElementsByName!="undefined"){var ret=[],results=context.getElementsByName(match[1]);for(var i=0,l=results.length;i<l;i++)results[i].getAttribute("name")===match[1]&&ret.push(results[i]);return ret.length===0?null:ret}},TAG:function(match,context){if(typeof context.getElementsByTagName!="undefined")return context.getElementsByTagName(match[1])}},preFilter:{CLASS:function(match,curLoop,inplace,result,not,isXML){match=" "+match[1].replace(rBackslash,"")+" ";if(isXML)return match;for(var i=0,elem;(elem=curLoop[i])!=null;i++)elem&&(not^(elem.className&&(" "+elem.className+" ").replace(/[\t\n\r]/g," ").indexOf(match)>=0)?inplace||result.push(elem):inplace&&(curLoop[i]=!1));return!1},ID:function(match){return match[1].replace(rBackslash,"")},TAG:function(match,curLoop){return match[1].replace(rBackslash,"").toLowerCase()},CHILD:function(match){if(match[1]==="nth"){match[2]||Sizzle.error(match[0]),match[2]=match[2].replace(/^\+|\s*/g,"");var test=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(match[2]==="even"&&"2n"||match[2]==="odd"&&"2n+1"||!/\D/.test(match[2])&&"0n+"+match[2]||match[2]);match[2]=test[1]+(test[2]||1)-0,match[3]=test[3]-0}else match[2]&&Sizzle.error(match[0]);return match[0]=done++,match},ATTR:function(match,curLoop,inplace,result,not,isXML){var name=match[1]=match[1].replace(rBackslash,"");return!isXML&&Expr.attrMap[name]&&(match[1]=Expr.attrMap[name]),match[4]=(match[4]||match[5]||"").replace(rBackslash,""),match[2]==="~="&&(match[4]=" "+match[4]+" "),match},PSEUDO:function(match,curLoop,inplace,result,not){if(match[1]==="not"){if(!((chunker.exec(match[3])||"").length>1||/^\w/.test(match[3]))){var ret=Sizzle.filter(match[3],curLoop,inplace,!0^not);return inplace||result.push.apply(result,ret),!1}match[3]=Sizzle(match[3],null,null,curLoop)}else if(Expr.match.POS.test(match[0])||Expr.match.CHILD.test(match[0]))return!0;return match},POS:function(match){return match.unshift(!0),match}},filters:{enabled:function(elem){return elem.disabled===!1&&elem.type!=="hidden"},disabled:function(elem){return elem.disabled===!0},checked:function(elem){return elem.checked===!0},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,elem.selected===!0},parent:function(elem){return!!elem.firstChild},empty:function(elem){return!elem.firstChild},has:function(elem,i,match){return!!Sizzle(match[3],elem).length},header:function(elem){return/h\d/i.test(elem.nodeName)},text:function(elem){var attr=elem.getAttribute("type"),type=elem.type;return elem.nodeName.toLowerCase()==="input"&&"text"===type&&(attr===type||attr===null)},radio:function(elem){return elem.nodeName.toLowerCase()==="input"&&"radio"===elem.type},checkbox:function(elem){return elem.nodeName.toLowerCase()==="input"&&"checkbox"===elem.type},file:function(elem){return elem.nodeName.toLowerCase()==="input"&&"file"===elem.type},password:function(elem){return elem.nodeName.toLowerCase()==="input"&&"password"===elem.type},submit:function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&"submit"===elem.type},image:function(elem){return elem.nodeName.toLowerCase()==="input"&&"image"===elem.type},reset:function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&"reset"===elem.type},button:function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&"button"===elem.type||name==="button"},input:function(elem){return/input|select|textarea|button/i.test(elem.nodeName)},focus:function(elem){return elem===elem.ownerDocument.activeElement}},setFilters:{first:function(elem,i){return i===0},last:function(elem,i,match,array){return i===array.length-1},even:function(elem,i){return i%2===0},odd:function(elem,i){return i%2===1},lt:function(elem,i,match){return i<match[3]-0},gt:function(elem,i,match){return i>match[3]-0},nth:function(elem,i,match){return match[3]-0===i},eq:function(elem,i,match){return match[3]-0===i}},filter:{PSEUDO:function(elem,match,i,array){var name=match[1],filter=Expr.filters[name];if(filter)return filter(elem,i,match,array);if(name==="contains")return(elem.textContent||elem.innerText||getText([elem])||"").indexOf(match[3])>=0;if(name==="not"){var not=match[3];for(var j=0,l=not.length;j<l;j++)if(not[j]===elem)return!1;return!0}Sizzle.error(name)},CHILD:function(elem,match){var first,last,doneName,parent,cache,count,diff,type=match[1],node=elem;switch(type){case"only":case"first":while(node=node.previousSibling)if(node.nodeType===1)return!1;if(type==="first")return!0;node=elem;case"last":while(node=node.nextSibling)if(node.nodeType===1)return!1;return!0;case"nth":first=match[2],last=match[3];if(first===1&&last===0)return!0;doneName=match[0],parent=elem.parentNode;if(parent&&(parent[expando]!==doneName||!elem.nodeIndex)){count=0;for(node=parent.firstChild;node;node=node.nextSibling)node.nodeType===1&&(node.nodeIndex=++count);parent[expando]=doneName}return diff=elem.nodeIndex-last,first===0?diff===0:diff%first===0&&diff/first>=0}},ID:function(elem,match){return elem.nodeType===1&&elem.getAttribute("id")===match},TAG:function(elem,match){return match==="*"&&elem.nodeType===1||!!elem.nodeName&&elem.nodeName.toLowerCase()===match},CLASS:function(elem,match){return(" "+(elem.className||elem.getAttribute("class"))+" ").indexOf(match)>-1},ATTR:function(elem,match){var name=match[1],result=Sizzle.attr?Sizzle.attr(elem,name):Expr.attrHandle[name]?Expr.attrHandle[name](elem):elem[name]!=null?elem[name]:elem.getAttribute(name),value=result+"",type=match[2],check=match[4];return result==null?type==="!=":!type&&Sizzle.attr?result!=null:type==="="?value===check:type==="*="?value.indexOf(check)>=0:type==="~="?(" "+value+" ").indexOf(check)>=0:check?type==="!="?value!==check:type==="^="?value.indexOf(check)===0:type==="$="?value.substr(value.length-check.length)===check:type==="|="?value===check||value.substr(0,check.length+1)===check+"-":!1:value&&result!==!1},POS:function(elem,match,i,array){var name=match[2],filter=Expr.setFilters[name];if(filter)return filter(elem,i,match,array)}}},origPOS=Expr.match.POS,fescape=function(all,num){return"\\"+(num-0+1)};for(var type in Expr.match)Expr.match[type]=new RegExp(Expr.match[type].source+/(?![^\[]*\])(?![^\(]*\))/.source),Expr.leftMatch[type]=new RegExp(/(^(?:.|\r|\n)*?)/.source+Expr.match[type].source.replace(/\\(\d+)/g,fescape));Expr.match.globalPOS=origPOS;var makeArray=function(array,results){return array=Array.prototype.slice.call(array,0),results?(results.push.apply(results,array),results):array};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(e){makeArray=function(array,results){var i=0,ret=results||[];if(toString.call(array)==="[object Array]")Array.prototype.push.apply(ret,array);else if(typeof array.length=="number")for(var l=array.length;i<l;i++)ret.push(array[i]);else for(;array[i];i++)ret.push(array[i]);return ret}}var sortOrder,siblingCheck;document.documentElement.compareDocumentPosition?sortOrder=function(a,b){return a===b?(hasDuplicate=!0,0):!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition?-1:1:a.compareDocumentPosition(b)&4?-1:1}:(sortOrder=function(a,b){if(a===b)return hasDuplicate=!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var al,bl,ap=[],bp=[],aup=a.parentNode,bup=b.parentNode,cur=aup;if(aup===bup)return siblingCheck(a,b);if(!aup)return-1;if(!bup)return 1;while(cur)ap.unshift(cur),cur=cur.parentNode;cur=bup;while(cur)bp.unshift(cur),cur=cur.parentNode;al=ap.length,bl=bp.length;for(var i=0;i<al&&i<bl;i++)if(ap[i]!==bp[i])return siblingCheck(ap[i],bp[i]);return i===al?siblingCheck(a,bp[i],-1):siblingCheck(ap[i],b,1)},siblingCheck=function(a,b,ret){if(a===b)return ret;var cur=a.nextSibling;while(cur){if(cur===b)return-1;cur=cur.nextSibling}return 1}),function(){var form=document.createElement("div"),id="script"+(new Date).getTime(),root=document.documentElement;form.innerHTML="<a name='"+id+"'/>",root.insertBefore(form,root.firstChild),document.getElementById(id)&&(Expr.find.ID=function(match,context,isXML){if(typeof context.getElementById!="undefined"&&!isXML){var m=context.getElementById(match[1]);return m?m.id===match[1]||typeof m.getAttributeNode!="undefined"&&m.getAttributeNode("id").nodeValue===match[1]?[m]:undefined:[]}},Expr.filter.ID=function(elem,match){var node=typeof elem.getAttributeNode!="undefined"&&elem.getAttributeNode("id");return elem.nodeType===1&&node&&node.nodeValue===match}),root.removeChild(form),root=form=null}(),function(){var div=document.createElement("div");div.appendChild(document.createComment("")),div.getElementsByTagName("*").length>0&&(Expr.find.TAG=function(match,context){var results=context.getElementsByTagName(match[1]);if(match[1]==="*"){var tmp=[];for(var i=0;results[i];i++)results[i].nodeType===1&&tmp.push(results[i]);results=tmp}return results}),div.innerHTML="<a href='#'></a>",div.firstChild&&typeof div.firstChild.getAttribute!="undefined"&&div.firstChild.getAttribute("href")!=="#"&&(Expr.attrHandle.href=function(elem){return elem.getAttribute("href",2)}),div=null}(),document.querySelectorAll&&function(){var oldSizzle=Sizzle,div=document.createElement("div"),id="__sizzle__";div.innerHTML="<p class='TEST'></p>";if(div.querySelectorAll&&div.querySelectorAll(".TEST").length===0)return;Sizzle=function(query,context,extra,seed){context=context||document;if(!seed&&!Sizzle.isXML(context)){var match=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(query);if(match&&(context.nodeType===1||context.nodeType===9)){if(match[1])return makeArray(context.getElementsByTagName(query),extra);if(match[2]&&Expr.find.CLASS&&context.getElementsByClassName)return makeArray(context.getElementsByClassName(match[2]),extra)}if(context.nodeType===9){if(query==="body"&&context.body)return makeArray([context.body],extra);if(match&&match[3]){var elem=context.getElementById(match[3]);if(!elem||!elem.parentNode)return makeArray([],extra);if(elem.id===match[3])return makeArray([elem],extra)}try{return makeArray(context.querySelectorAll(query),extra)}catch(qsaError){}}else if(context.nodeType===1&&context.nodeName.toLowerCase()!=="object"){var oldContext=context,old=context.getAttribute("id"),nid=old||id,hasParent=context.parentNode,relativeHierarchySelector=/^\s*[+~]/.test(query);old?nid=nid.replace(/'/g,"\\$&"):context.setAttribute("id",nid),relativeHierarchySelector&&hasParent&&(context=context.parentNode);try{if(!relativeHierarchySelector||hasParent)return makeArray(context.querySelectorAll("[id='"+nid+"'] "+query),extra)}catch(pseudoError){}finally{old||oldContext.removeAttribute("id")}}}return oldSizzle(query,context,extra,seed)};for(var prop in oldSizzle)Sizzle[prop]=oldSizzle[prop];div=null}(),function(){var html=document.documentElement,matches=html.matchesSelector||html.mozMatchesSelector||html.webkitMatchesSelector||html.msMatchesSelector;if(matches){var disconnectedMatch=!matches.call(document.createElement("div"),"div"),pseudoWorks=!1;try{matches.call(document.documentElement,"[test!='']:sizzle")}catch(pseudoError){pseudoWorks=!0}Sizzle.matchesSelector=function(node,expr){expr=expr.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!Sizzle.isXML(node))try{if(pseudoWorks||!Expr.match.PSEUDO.test(expr)&&!/!=/.test(expr)){var ret=matches.call(node,expr);if(ret||!disconnectedMatch||node.document&&node.document.nodeType!==11)return ret}}catch(e){}return Sizzle(expr,null,null,[node]).length>0}}}(),function(){var div=document.createElement("div");div.innerHTML="<div class='test e'></div><div class='test'></div>";if(!div.getElementsByClassName||div.getElementsByClassName("e").length===0)return;div.lastChild.className="e";if(div.getElementsByClassName("e").length===1)return;Expr.order.splice(1,0,"CLASS"),Expr.find.CLASS=function(match,context,isXML){if(typeof context.getElementsByClassName!="undefined"&&!isXML)return context.getElementsByClassName(match[1])},div=null}(),document.documentElement.contains?Sizzle.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:document.documentElement.compareDocumentPosition?Sizzle.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:Sizzle.contains=function(){return!1},Sizzle.isXML=function(elem){var documentElement=(elem?elem.ownerDocument||elem:0).documentElement;return documentElement?documentElement.nodeName!=="HTML":!1};var posProcess=function(selector,context,seed){var match,tmpSet=[],later="",root=context.nodeType?[context]:context;while(match=Expr.match.PSEUDO.exec(selector))later+=match[0],selector=selector.replace(Expr.match.PSEUDO,"");selector=Expr.relative[selector]?selector+"*":selector;for(var i=0,l=root.length;i<l;i++)Sizzle(selector,root[i],tmpSet,seed);return Sizzle.filter(later,tmpSet)};Sizzle.attr=jQuery.attr,Sizzle.selectors.attrMap={},jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.filters,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains}();var runtil=/Until$/,rparentsprev=/^(?:parents|prevUntil|prevAll)/,rmultiselector=/,/,isSimple=/^.[^:#\[\.,]*$/,slice=Array.prototype.slice,POS=jQuery.expr.match.globalPOS,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.fn.extend({find:function(selector){var self=this,i,l;if(typeof selector!="string")return jQuery(selector).filter(function(){for(i=0,l=self.length;i<l;i++)if(jQuery.contains(self[i],this))return!0});var ret=this.pushStack("","find",selector),length,n,r;for(i=0,l=this.length;i<l;i++){length=ret.length,jQuery.find(selector,this[i],ret);if(i>0)for(n=length;n<ret.length;n++)for(r=0;r<length;r++)if(ret[r]===ret[n]){ret.splice(n--,1);break}}return ret},has:function(target){var targets=jQuery(target);return this.filter(function(){for(var i=0,l=targets.length;i<l;i++)if(jQuery.contains(this,targets[i]))return!0})},not:function(selector){return this.pushStack(winnow(this,selector,!1),"not",selector)},filter:function(selector){return this.pushStack(winnow(this,selector,!0),"filter",selector)},is:function(selector){return!!selector&&(typeof selector=="string"?POS.test(selector)?jQuery(selector,this.context).index(this[0])>=0:jQuery.filter(selector,this).length>0:this.filter(selector).length>0)},closest:function(selectors,context){var ret=[],i,l,cur=this[0];if(jQuery.isArray(selectors)){var level=1;while(cur&&cur.ownerDocument&&cur!==context){for(i=0;i<selectors.length;i++)jQuery(cur).is(selectors[i])&&ret.push({selector:selectors[i],elem:cur,level:level});cur=cur.parentNode,level++}return ret}var pos=POS.test(selectors)||typeof selectors!="string"?jQuery(selectors,context||this.context):0;for(i=0,l=this.length;i<l;i++){cur=this[i];while(cur){if(pos?pos.index(cur)>-1:jQuery.find.matchesSelector(cur,selectors)){ret.push(cur);break}cur=cur.parentNode;if(!cur||!cur.ownerDocument||cur===context||cur.nodeType===11)break}}return ret=ret.length>1?jQuery.unique(ret):ret,this.pushStack(ret,"closest",selectors)},index:function(elem){return elem?typeof elem=="string"?jQuery.inArray(this[0],jQuery(elem)):jQuery.inArray(elem.jquery?elem[0]:elem,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(selector,context){var set=typeof selector=="string"?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),set);return this.pushStack(isDisconnected(set[0])||isDisconnected(all[0])?all:jQuery.unique(all))},andSelf:function(){return this.add(this.prevObject)}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return jQuery.nth(elem,2,"nextSibling")},prev:function(elem){return jQuery.nth(elem,2,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);return runtil.test(name)||(selector=until),selector&&typeof selector=="string"&&(ret=jQuery.filter(selector,ret)),ret=this.length>1&&!guaranteedUnique[name]?jQuery.unique(ret):ret,(this.length>1||rmultiselector.test(selector))&&rparentsprev.test(name)&&(ret=ret.reverse()),this.pushStack(ret,name,slice.call(arguments).join(","))}}),jQuery.extend({filter:function(expr,elems,not){return not&&(expr=":not("+expr+")"),elems.length===1?jQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[]:jQuery.find.matches(expr,elems)},dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until)))cur.nodeType===1&&matched.push(cur),cur=cur[dir];return matched},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir])if(cur.nodeType===1&&++num===result)break;return cur},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling)n.nodeType===1&&n!==elem&&r.push(n);return r}});var nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:\d+|null)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style)/i,rnocache=/<(?:script|object|embed|option|style)/i,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/\/(java|ecma)script/i,rcleanScript=/^\s*<!(?:\[CDATA\[|\-\-)/,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},safeFragment=createSafeFragment(document);wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.support.htmlSerialize||(wrapMap._default=[1,"div<div>","</div>"]),jQuery.fn.extend({text:function(value){return jQuery.access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value))},null,value,arguments.length)},wrapAll:function(html){if(jQuery.isFunction(html))return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))});if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1)elem=elem.firstChild;return elem}).append(this)}return this},wrapInner:function(html){return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapInner(html.call(this,i))}):this.each(function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(elem){this.nodeType===1&&this.appendChild(elem)})},prepend:function(){return this.domManip(arguments,!0,function(elem){this.nodeType===1&&this.insertBefore(elem,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(elem){this.parentNode.insertBefore(elem,this)});if(arguments.length){var set=jQuery.clean(arguments);return set.push.apply(set,this.toArray()),this.pushStack(set,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)});if(arguments.length){var set=this.pushStack(this,"after",arguments);return set.push.apply(set,jQuery.clean(arguments)),set}},remove:function(selector,keepData){for(var i=0,elem;(elem=this[i])!=null;i++)if(!selector||jQuery.filter(selector,[elem]).length)!keepData&&elem.nodeType===1&&(jQuery.cleanData(elem.getElementsByTagName("*")),jQuery.cleanData([elem])),elem.parentNode&&elem.parentNode.removeChild(elem);return this},empty:function(){for(var i=0,elem;(elem=this[i])!=null;i++){elem.nodeType===1&&jQuery.cleanData(elem.getElementsByTagName("*"));while(elem.firstChild)elem.removeChild(elem.firstChild)}return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=dataAndEvents==null?!1:dataAndEvents,deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return jQuery.access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined)return elem.nodeType===1?elem.innerHTML.replace(rinlinejQuery,""):null;if(typeof value=="string"&&!rnoInnerhtml.test(value)&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;i<l;i++)elem=this[i]||{},elem.nodeType===1&&(jQuery.cleanData(elem.getElementsByTagName("*")),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(value){return this[0]&&this[0].parentNode?jQuery.isFunction(value)?this.each(function(i){var self=jQuery(this),old=self.html();self.replaceWith(value.call(this,i,old))}):(typeof value!="string"&&(value=jQuery(value).detach()),this.each(function(){var next=this.nextSibling,parent=this.parentNode;jQuery(this).remove(),next?jQuery(next).before(value):jQuery(parent).append(value)})):this.length?this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value):this},detach:function(selector){return this.remove(selector,!0)},domManip:function(args,table,callback){var results,first,fragment,parent,value=args[0],scripts=[];if(!jQuery.support.checkClone&&arguments.length===3&&typeof value=="string"&&rchecked.test(value))return this.each(function(){jQuery(this).domManip(args,table,callback,!0)});if(jQuery.isFunction(value))return this.each(function(i){var self=jQuery(this);args[0]=value.call(this,i,table?self.html():undefined),self.domManip(args,table,callback)});if(this[0]){parent=value&&value.parentNode,jQuery.support.parentNode&&parent&&parent.nodeType===11&&parent.childNodes.length===this.length?results={fragment:parent}:results=jQuery.buildFragment(args,this,scripts),fragment=results.fragment,fragment.childNodes.length===1?first=fragment=fragment.firstChild:first=fragment.firstChild;if(first){table=table&&jQuery.nodeName(first,"tr");for(var i=0,l=this.length,lastIndex=l-1;i<l;i++)callback.call(table?root(this[i],first):this[i],results.cacheable||l>1&&i<lastIndex?jQuery.clone(fragment,!0,!0):fragment)}scripts.length&&jQuery.each(scripts,function(i,elem){elem.src?jQuery.ajax({type:"GET",global:!1,url:elem.src,async:!1,dataType:"script"}):jQuery.globalEval((elem.text||elem.textContent||elem.innerHTML||"").replace(rcleanScript,"/*$0*/")),elem.parentNode&&elem.parentNode.removeChild(elem)})}return this}}),jQuery.buildFragment=function(args,nodes,scripts){var fragment,cacheable,cacheresults,doc,first=args[0];return nodes&&nodes[0]&&(doc=nodes[0].ownerDocument||nodes[0]),doc.createDocumentFragment||(doc=document),args.length===1&&typeof first=="string"&&first.length<512&&doc===document&&first.charAt(0)==="<"&&!rnocache.test(first)&&(jQuery.support.checkClone||!rchecked.test(first))&&(jQuery.support.html5Clone||!rnoshimcache.test(first))&&(cacheable=!0,cacheresults=jQuery.fragments[first],cacheresults&&cacheresults!==1&&(fragment=cacheresults)),fragment||(fragment=doc.createDocumentFragment(),jQuery.clean(args,doc,fragment,scripts)),cacheable&&(jQuery.fragments[first]=cacheresults?fragment:1),{fragment:fragment,cacheable:cacheable}},jQuery.fragments={},jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var ret=[],insert=jQuery(selector),parent=this.length===1&&this[0].parentNode;if(parent&&parent.nodeType===11&&parent.childNodes.length===1&&insert.length===1)return insert[original](this[0]),this;for(var i=0,l=insert.length;i<l;i++){var elems=(i>0?this.clone(!0):this).get();jQuery(insert[i])[original](elems),ret=ret.concat(elems)}return this.pushStack(ret,name,insert.selector)}}),jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var srcElements,destElements,i,clone=jQuery.support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("<"+elem.nodeName+">")?elem.cloneNode(!0):shimCloneNode(elem);if((!jQuery.support.noCloneEvent||!jQuery.support.noCloneChecked)&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){cloneFixAttributes(elem,clone),srcElements=getAll(elem),destElements=getAll(clone);for(i=0;srcElements[i];++i)destElements[i]&&cloneFixAttributes(srcElements[i],destElements[i])}if(dataAndEvents){cloneCopyEvent(elem,clone);if(deepDataAndEvents){srcElements=getAll(elem),destElements=getAll(clone);for(i=0;srcElements[i];++i)cloneCopyEvent(srcElements[i],destElements[i])}}return srcElements=destElements=null,clone},clean:function(elems,context,fragment,scripts){var checkScriptType,script,j,ret=[];context=context||document,typeof context.createElement=="undefined"&&(context=context.ownerDocument||context[0]&&context[0].ownerDocument||document);for(var i=0,elem;(elem=elems[i])!=null;i++){typeof elem=="number"&&(elem+="");if(!elem)continue;if(typeof elem=="string")if(!rhtml.test(elem))elem=context.createTextNode(elem);else{elem=elem.replace(rxhtmlTag,"<$1></$2>");var tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,depth=wrap[0],div=context.createElement("div"),safeChildNodes=safeFragment.childNodes,remove;context===document?safeFragment.appendChild(div):createSafeFragment(context).appendChild(div),div.innerHTML=wrap[1]+elem+wrap[2];while(depth--)div=div.lastChild;if(!jQuery.support.tbody){var hasBody=rtbody.test(elem),tbody=tag==="table"&&!hasBody?div.firstChild&&div.firstChild.childNodes:wrap[1]==="<table>"&&!hasBody?div.childNodes:[];for(j=tbody.length-1;j>=0;--j)jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length&&tbody[j].parentNode.removeChild(tbody[j])}!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)&&div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild),elem=div.childNodes,div&&(div.parentNode.removeChild(div),safeChildNodes.length>0&&(remove=safeChildNodes[safeChildNodes.length-1],remove&&remove.parentNode&&remove.parentNode.removeChild(remove)))}var len;if(!jQuery.support.appendChecked)if(elem[0]&&typeof (len=elem.length)=="number")for(j=0;j<len;j++)findInputs(elem[j]);else findInputs(elem);elem.nodeType?ret.push(elem):ret=jQuery.merge(ret,elem)}if(fragment){checkScriptType=function(elem){return!elem.type||rscriptType.test(elem.type)};for(i=0;ret[i];i++){script=ret[i];if(scripts&&jQuery.nodeName(script,"script")&&(!script.type||rscriptType.test(script.type)))scripts.push(script.parentNode?script.parentNode.removeChild(script):script);else{if(script.nodeType===1){var jsTags=jQuery.grep(script.getElementsByTagName("script"),checkScriptType);ret.splice.apply(ret,[i+1,0].concat(jsTags))}fragment.appendChild(script)}}}return ret},cleanData:function(elems){var data,id,cache=jQuery.cache,special=jQuery.event.special,deleteExpando=jQuery.support.deleteExpando;for(var i=0,elem;(elem=elems[i])!=null;i++){if(elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()])continue;id=elem[jQuery.expando];if(id){data=cache[id];if(data&&data.events){for(var type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);data.handle&&(data.handle.elem=null)}deleteExpando?delete elem[jQuery.expando]:elem.removeAttribute&&elem.removeAttribute(jQuery.expando),delete cache[id]}}}});var ralpha=/alpha\([^)]*\)/i,ropacity=/opacity=([^)]*)/,rupper=/([A-Z]|^ms)/g,rnum=/^[\-+]?(?:\d*\.)?\d+$/i,rnumnonpx=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,rrelNum=/^([\-+])=([\-+.\de]+)/,rmargin=/^margin/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssExpand=["Top","Right","Bottom","Left"],curCSS,getComputedStyle,currentStyle;jQuery.fn.css=function(name,value){return jQuery.access(this,function(elem,name,value){return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return ret===""?"1":ret}return elem.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style)return;var ret,type,origName=jQuery.camelCase(name),style=elem.style,hooks=jQuery.cssHooks[origName];name=jQuery.cssProps[origName]||origName;if(value===undefined)return hooks&&"get"in hooks&&(ret=hooks.get(elem,!1,extra))!==undefined?ret:style[name];type=typeof value,type==="string"&&(ret=rrelNum.exec(value))&&(value=+(ret[1]+1)*+ret[2]+parseFloat(jQuery.css(elem,name)),type="number");if(value==null||type==="number"&&isNaN(value))return;type==="number"&&!jQuery.cssNumber[origName]&&(value+="px");if(!hooks||!("set"in hooks)||(value=hooks.set(elem,value))!==undefined)try{style[name]=value}catch(e){}},css:function(elem,name,extra){var ret,hooks;name=jQuery.camelCase(name),hooks=jQuery.cssHooks[name],name=jQuery.cssProps[name]||name,name==="cssFloat"&&(name="float");if(hooks&&"get"in hooks&&(ret=hooks.get(elem,!0,extra))!==undefined)return ret;if(curCSS)return curCSS(elem,name)},swap:function(elem,options,callback){var old={},ret,name;for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];ret=callback.call(elem);for(name in options)elem.style[name]=old[name];return ret}}),jQuery.curCSS=jQuery.css,document.defaultView&&document.defaultView.getComputedStyle&&(getComputedStyle=function(elem,name){var ret,defaultView,computedStyle,width,style=elem.style;return name=name.replace(rupper,"-$1").toLowerCase(),(defaultView=elem.ownerDocument.defaultView)&&(computedStyle=defaultView.getComputedStyle(elem,null))&&(ret=computedStyle.getPropertyValue(name),ret===""&&!jQuery.contains(elem.ownerDocument.documentElement,elem)&&(ret=jQuery.style(elem,name))),!jQuery.support.pixelMargin&&computedStyle&&rmargin.test(name)&&rnumnonpx.test(ret)&&(width=style.width,style.width=ret,ret=computedStyle.width,style.width=width),ret}),document.documentElement.currentStyle&&(currentStyle=function(elem,name){var left,rsLeft,uncomputed,ret=elem.currentStyle&&elem.currentStyle[name],style=elem.style;return ret==null&&style&&(uncomputed=style[name])&&(ret=uncomputed),rnumnonpx.test(ret)&&(left=style.left,rsLeft=elem.runtimeStyle&&elem.runtimeStyle.left,rsLeft&&(elem.runtimeStyle.left=elem.currentStyle.left),style.left=name==="fontSize"?"1em":ret,ret=style.pixelLeft+"px",style.left=left,rsLeft&&(elem.runtimeStyle.left=rsLeft)),ret===""?"auto":ret}),curCSS=getComputedStyle||currentStyle,jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){if(computed)return elem.offsetWidth!==0?getWidthOrHeight(elem,name,extra):jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)})},set:function(elem,value){return rnum.test(value)?value+"px":value}}}),jQuery.support.opacity||(jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?parseFloat(RegExp.$1)/100+"":computed?"1":""},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+value*100+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";style.zoom=1;if(value>=1&&jQuery.trim(filter.replace(ralpha,""))===""){style.removeAttribute("filter");if(currentStyle&&!currentStyle.filter)return}style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity}}),jQuery(function(){jQuery.support.reliableMarginRight||(jQuery.cssHooks.marginRight={get:function(elem,computed){return jQuery.swap(elem,{display:"inline-block"},function(){return computed?curCSS(elem,"margin-right"):elem.style.marginRight})}})}),jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.hidden=function(elem){var width=elem.offsetWidth,height=elem.offsetHeight;return width===0&&height===0||!jQuery.support.reliableHiddenOffsets&&(elem.style&&elem.style.display||jQuery.css(elem,"display"))==="none"},jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){var i,parts=typeof value=="string"?value.split(" "):[value],expanded={};for(i=0;i<4;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}}});var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rhash=/#.*$/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,rinput=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,rlocalProtocol=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rquery=/\?/,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,rselectTextarea=/^(?:select|textarea)/i,rspacesAjax=/\s+/,rts=/([?&])_=[^&]*/,rurl=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,_load=jQuery.fn.load,prefilters={},transports={},ajaxLocation,ajaxLocParts,allTypes=["*/"]+["*"];try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a"),ajaxLocation.href="",ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],jQuery.fn.extend({load:function(url,params,callback){if(typeof url!="string"&&_load)return _load.apply(this,arguments);if(!this.length)return this;var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}var type="GET";params&&(jQuery.isFunction(params)?(callback=params,params=undefined):typeof params=="object"&&(params=jQuery.param(params,jQuery.ajaxSettings.traditional),type="POST"));var self=this;return jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(jqXHR,status,responseText){responseText=jqXHR.responseText,jqXHR.isResolved()&&(jqXHR.done(function(r){responseText=r}),self.html(selector?jQuery("<div>").append(responseText.replace(rscript,"")).find(selector):responseText)),callback&&self.each(callback,[responseText,status,jqXHR])}}),this},serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.on(o,f)}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=undefined),jQuery.ajax({type:method,url:url,data:data,success:callback,dataType:type})}}),jQuery.extend({getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},ajaxSetup:function(target,settings){return settings?ajaxExtend(target,jQuery.ajaxSettings):(settings=target,target=jQuery.ajaxSettings),ajaxExtend(target,settings),target},ajaxSettings:{url:ajaxLocation,isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":allTypes},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){function done(status,nativeStatusText,responses,headers){if(state===2)return;state=2,timeoutTimer&&clearTimeout(timeoutTimer),transport=undefined,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0;var isSuccess,success,error,statusText=nativeStatusText,response=responses?ajaxHandleResponses(s,jqXHR,responses):undefined,lastModified,etag;if(status>=200&&status<300||status===304){if(s.ifModified){if(lastModified=jqXHR.getResponseHeader("Last-Modified"))jQuery.lastModified[ifModifiedKey]=lastModified;if(etag=jqXHR.getResponseHeader("Etag"))jQuery.etag[ifModifiedKey]=etag}if(status===304)statusText="notmodified",isSuccess=!0;else try{success=ajaxConvert(s,response),statusText="success",isSuccess=!0}catch(e){statusText="parsererror",error=e}}else{error=statusText;if(!statusText||status)statusText="error",status<0&&(status=0)}jqXHR.status=status,jqXHR.statusText=""+(nativeStatusText||statusText),isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=undefined,fireGlobals&&globalEventContext.trigger("ajax"+(isSuccess?"Success":"Error"),[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop"))}typeof url=="object"&&(options=url,url=undefined),options=options||{};var s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=callbackContext!==s&&(callbackContext.nodeType||callbackContext instanceof jQuery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},ifModifiedKey,requestHeaders={},requestHeadersNames={},responseHeadersString,responseHeaders,transport,timeoutTimer,parts,state=0,fireGlobals,i,jqXHR={readyState:0,setRequestHeader:function(name,value){if(!state){var lname=name.toLowerCase();name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value}return this},getAllResponseHeaders:function(){return state===2?responseHeadersString:null},getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while(match=rheaders.exec(responseHeadersString))responseHeaders[match[1].toLowerCase()]=match[2]}match=responseHeaders[key.toLowerCase()]}return match===undefined?null:match},overrideMimeType:function(type){return state||(s.mimeType=type),this},abort:function(statusText){return statusText=statusText||"abort",transport&&transport.abort(statusText),done(0,statusText),this}};deferred.promise(jqXHR),jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,jqXHR.complete=completeDeferred.add,jqXHR.statusCode=function(map){if(map){var tmp;if(state<2)for(tmp in map)statusCode[tmp]=[statusCode[tmp],map[tmp]];else tmp=map[jqXHR.status],jqXHR.then(tmp,tmp)}return this},s.url=((url||s.url)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().split(rspacesAjax),s.crossDomain==null&&(parts=rurl.exec(s.url.toLowerCase()),s.crossDomain=!(!parts||parts[1]==ajaxLocParts[1]&&parts[2]==ajaxLocParts[2]&&(parts[3]||(parts[1]==="http:"?80:443))==(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?80:443)))),s.data&&s.processData&&typeof s.data!="string"&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2)return!1;fireGlobals=s.global,s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),fireGlobals&&jQuery.active++===0&&jQuery.event.trigger("ajaxStart");if(!s.hasContent){s.data&&(s.url+=(rquery.test(s.url)?"&":"?")+s.data,delete s.data),ifModifiedKey=s.url;if(s.cache===!1){var ts=jQuery.now(),ret=s.url.replace(rts,"$1_="+ts);s.url=ret+(ret===s.url?(rquery.test(s.url)?"&":"?")+"_="+ts:"")}}(s.data&&s.hasContent&&s.contentType!==!1||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),s.ifModified&&(ifModifiedKey=ifModifiedKey||s.url,jQuery.lastModified[ifModifiedKey]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[ifModifiedKey]),jQuery.etag[ifModifiedKey]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[ifModifiedKey])),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(!s.beforeSend||s.beforeSend.call(callbackContext,jqXHR,s)!==!1&&state!==2){for(i in{success:1,error:1,complete:1})jqXHR[i](s[i]);transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport)done(-1,"No Transport");else{jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),s.async&&s.timeout>0&&(timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){if(!(state<2))throw e;done(-1,e)}}return jqXHR}return jqXHR.abort(),!1},param:function(a,traditional){var s=[],add=function(key,value){value=jQuery.isFunction(value)?value():value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};traditional===undefined&&(traditional=jQuery.ajaxSettings.traditional);if(jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(var prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")}}),jQuery.extend({active:0,lastModified:{},etag:{}});var jsc=jQuery.now(),jsre=/(\=)\?(&|$)|\?\?/i;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return jQuery.expando+"_"+jsc++}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var inspectData=typeof s.data=="string"&&/^application\/x\-www\-form\-urlencoded/.test(s.contentType);if(s.dataTypes[0]==="jsonp"||s.jsonp!==!1&&(jsre.test(s.url)||inspectData&&jsre.test(s.data))){var responseContainer,jsonpCallback=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,previous=window[jsonpCallback],url=s.url,data=s.data,replace="$1"+jsonpCallback+"$2";return s.jsonp!==!1&&(url=url.replace(jsre,replace),s.url===url&&(inspectData&&(data=data.replace(jsre,replace)),s.data===data&&(url+=(/\?/.test(url)?"&":"?")+s.jsonp+"="+jsonpCallback))),s.url=url,s.data=data,window[jsonpCallback]=function(response){responseContainer=[response]},jqXHR.always(function(){window[jsonpCallback]=previous,responseContainer&&jQuery.isFunction(previous)&&window[jsonpCallback](responseContainer[0])}),s.converters["script json"]=function(){return responseContainer||jQuery.error(jsonpCallback+" was not called"),responseContainer[0]},s.dataTypes[0]="json","script"}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){s.cache===undefined&&(s.cache=!1),s.crossDomain&&(s.type="GET",s.global=!1)}),jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script"),script.async="async",s.scriptCharset&&(script.charset=s.scriptCharset),script.src=s.url,script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState))script.onload=script.onreadystatechange=null,head&&script.parentNode&&head.removeChild(script),script=undefined,isAbort||callback(200,"success")},head.insertBefore(script,head.firstChild)},abort:function(){script&&script.onload(0,1)}}}});var xhrOnUnloadAbort=window.ActiveXObject?function(){for(var key in xhrCallbacks)xhrCallbacks[key](0,1)}:!1,xhrId=0,xhrCallbacks;jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&createStandardXHR()||createActiveXHR()}:createStandardXHR,function(xhr){jQuery.extend(jQuery.support,{ajax:!!xhr,cors:!!xhr&&"withCredentials"in xhr})}(jQuery.ajaxSettings.xhr()),jQuery.support.ajax&&jQuery.ajaxTransport(function(s){if(!s.crossDomain||jQuery.support.cors){var callback;return{send:function(headers,complete){var xhr=s.xhr(),handle,i;s.username?xhr.open(s.type,s.url,s.async,s.username,s.password):xhr.open(s.type,s.url,s.async);if(s.xhrFields)for(i in s.xhrFields)xhr[i]=s.xhrFields[i];s.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(s.mimeType),!s.crossDomain&&!headers["X-Requested-With"]&&(headers["X-Requested-With"]="XMLHttpRequest");try{for(i in headers)xhr.setRequestHeader(i,headers[i])}catch(_){}xhr.send(s.hasContent&&s.data||null),callback=function(_,isAbort){var status,statusText,responseHeaders,responses,xml;try{if(callback&&(isAbort||xhr.readyState===4)){callback=undefined,handle&&(xhr.onreadystatechange=jQuery.noop,xhrOnUnloadAbort&&delete xhrCallbacks[handle]);if(isAbort)xhr.readyState!==4&&xhr.abort();else{status=xhr.status,responseHeaders=xhr.getAllResponseHeaders(),responses={},xml=xhr.responseXML,xml&&xml.documentElement&&(responses.xml=xml);try{responses.text=xhr.responseText}catch(_){}try{statusText=xhr.statusText}catch(e){statusText=""}!status&&s.isLocal&&!s.crossDomain?status=responses.text?200:404:status===1223&&(status=204)}}}catch(firefoxAccessException){isAbort||complete(-1,firefoxAccessException)}responses&&complete(status,statusText,responses,responseHeaders)},!s.async||xhr.readyState===4?callback():(handle=++xhrId,xhrOnUnloadAbort&&(xhrCallbacks||(xhrCallbacks={},jQuery(window).unload(xhrOnUnloadAbort)),xhrCallbacks[handle]=callback),xhr.onreadystatechange=callback)},abort:function(){callback&&callback(0,1)}}}});var elemdisplay={},iframe,iframeDoc,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,timerId,fxAttrs=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],fxNow;jQuery.fn.extend({show:function(speed,easing,callback){var elem,display;if(speed||speed===0)return this.animate(genFx("show",3),speed,easing,callback);for(var i=0,j=this.length;i<j;i++)elem=this[i],elem.style&&(display=elem.style.display,!jQuery._data(elem,"olddisplay")&&display==="none"&&(display=elem.style.display=""),(display===""&&jQuery.css(elem,"display")==="none"||!jQuery.contains(elem.ownerDocument.documentElement,elem))&&jQuery._data(elem,"olddisplay",defaultDisplay(elem.nodeName)));for(i=0;i<j;i++){elem=this[i];if(elem.style){display=elem.style.display;if(display===""||display==="none")elem.style.display=jQuery._data(elem,"olddisplay")||""}}return this},hide:function(speed,easing,callback){if(speed||speed===0)return this.animate(genFx("hide",3),speed,easing,callback);var elem,display,i=0,j=this.length;for(;i<j;i++)elem=this[i],elem.style&&(display=jQuery.css(elem,"display"),display!=="none"&&!jQuery._data(elem,"olddisplay")&&jQuery._data(elem,"olddisplay",display));for(i=0;i<j;i++)this[i].style&&(this[i].style.display="none");return this},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2,callback){var bool=typeof fn=="boolean";return jQuery.isFunction(fn)&&jQuery.isFunction(fn2)?this._toggle.apply(this,arguments):fn==null||bool?this.each(function(){var state=bool?fn:jQuery(this).is(":hidden");jQuery(this)[state?"show":"hide"]()}):this.animate(genFx("toggle",3),fn,fn2,callback),this},fadeTo:function(speed,to,easing,callback){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){function doAnimation(){optall.queue===!1&&jQuery._mark(this);var opt=jQuery.extend({},optall),isElement=this.nodeType===1,hidden=isElement&&jQuery(this).is(":hidden"),name,val,p,e,hooks,replace,parts,start,end,unit,method;opt.animatedProperties={};for(p in prop){name=jQuery.camelCase(p),p!==name&&(prop[name]=prop[p],delete prop[p]);if((hooks=jQuery.cssHooks[name])&&"expand"in hooks){replace=hooks.expand(prop[name]),delete prop[name];for(p in replace)p in prop||(prop[p]=replace[p])}}for(name in prop){val=prop[name],jQuery.isArray(val)?(opt.animatedProperties[name]=val[1],val=prop[name]=val[0]):opt.animatedProperties[name]=opt.specialEasing&&opt.specialEasing[name]||opt.easing||"swing";if(val==="hide"&&hidden||val==="show"&&!hidden)return opt.complete.call(this);isElement&&(name==="height"||name==="width")&&(opt.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],jQuery.css(this,"display")==="inline"&&jQuery.css(this,"float")==="none"&&(!jQuery.support.inlineBlockNeedsLayout||defaultDisplay(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}opt.overflow!=null&&(this.style.overflow="hidden");for(p in prop)e=new jQuery.fx(this,opt,p),val=prop[p],rfxtypes.test(val)?(method=jQuery._data(this,"toggle"+p)||(val==="toggle"?hidden?"show":"hide":0),method?(jQuery._data(this,"toggle"+p,method==="show"?"hide":"show"),e[method]()):e[val]()):(parts=rfxnum.exec(val),start=e.cur(),parts?(end=parseFloat(parts[2]),unit=parts[3]||(jQuery.cssNumber[p]?"":"px"),unit!=="px"&&(jQuery.style(this,p,(end||1)+unit),start=(end||1)/e.cur()*start,jQuery.style(this,p,start+unit)),parts[1]&&(end=(parts[1]==="-="?-1:1)*end+start),e.custom(start,end,unit)):e.custom(start,val,""));return!0}var optall=jQuery.speed(speed,easing,callback);return jQuery.isEmptyObject(prop)?this.each(optall.complete,[!1]):(prop=jQuery.extend({},prop),optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation))},stop:function(type,clearQueue,gotoEnd){return typeof type!="string"&&(gotoEnd=clearQueue,clearQueue=type,type=undefined),clearQueue&&type!==!1&&this.queue(type||"fx",[]),this.each(function(){function stopQueue(elem,data,index){var hooks=data[index];jQuery.removeData(elem,index,!0),hooks.stop(gotoEnd)}var index,hadTimers=!1,timers=jQuery.timers,data=jQuery._data(this);gotoEnd||jQuery._unmark(!0,this);if(type==null)for(index in data)data[index]&&data[index].stop&&index.indexOf(".run")===index.length-4&&stopQueue(this,data,index);else data[index=type+".run"]&&data[index].stop&&stopQueue(this,data,index);for(index=timers.length;index--;)timers[index].elem===this&&(type==null||timers[index].queue===type)&&(gotoEnd?timers[index](!0):timers[index].saveState(),hadTimers=!0,timers.splice(index,1));(!gotoEnd||!hadTimers)&&jQuery.dequeue(this,type)})}}),jQuery.each({slideDown:genFx("show",1),slideUp:genFx("hide",1),slideToggle:genFx("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.extend({speed:function(speed,easing,fn){var opt=speed&&typeof speed=="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration=="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===!0)opt.queue="fx";return opt.old=opt.complete,opt.complete=function(noUnmark){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue?jQuery.dequeue(this,opt.queue):noUnmark!==!1&&jQuery._unmark(this)},opt},easing:{linear:function(p){return p},swing:function(p){return-Math.cos(p*Math.PI)/2+.5}},timers:[],fx:function(elem,options,prop){this.options=options,this.elem=elem,this.prop=prop,options.orig=options.orig||{}}}),jQuery.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var parsed,r=jQuery.css(this.elem,this.prop);return isNaN(parsed=parseFloat(r))?!r||r==="auto"?0:r:parsed}return this.elem[this.prop]},custom:function(from,to,unit){function t(gotoEnd){return self.step(gotoEnd)}var self=this,fx=jQuery.fx;this.startTime=fxNow||createFxNow(),this.end=to,this.now=this.start=from,this.pos=this.state=0,this.unit=unit||this.unit||(jQuery.cssNumber[this.prop]?"":"px"),t.queue=this.options.queue,t.elem=this.elem,t.saveState=function(){jQuery._data(self.elem,"fxshow"+self.prop)===undefined&&(self.options.hide?jQuery._data(self.elem,"fxshow"+self.prop,self.start):self.options.show&&jQuery._data(self.elem,"fxshow"+self.prop,self.end))},t()&&jQuery.timers.push(t)&&!timerId&&(timerId=setInterval(fx.tick,fx.interval))},show:function(){var dataShow=jQuery._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=dataShow||jQuery.style(this.elem,this.prop),this.options.show=!0,dataShow!==undefined?this.custom(this.cur(),dataShow):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),jQuery(this.elem).show()},hide:function(){this.options.orig[this.prop]=jQuery._data(this.elem,"fxshow"+this.prop)||jQuery.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(gotoEnd){var p,n,complete,t=fxNow||createFxNow(),done=!0,elem=this.elem,options=this.options;if(gotoEnd||t>=options.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),options.animatedProperties[this.prop]=!0;for(p in options.animatedProperties)options.animatedProperties[p]!==!0&&(done=!1);if(done){options.overflow!=null&&!jQuery.support.shrinkWrapBlocks&&jQuery.each(["","X","Y"],function(index,value){elem.style["overflow"+value]=options.overflow[index]}),options.hide&&jQuery(elem).hide();if(options.hide||options.show)for(p in options.animatedProperties)jQuery.style(elem,p,options.orig[p]),jQuery.removeData(elem,"fxshow"+p,!0),jQuery.removeData(elem,"toggle"+p,!0);complete=options.complete,complete&&(options.complete=!1,complete.call(elem))}return!1}return options.duration==Infinity?this.now=t:(n=t-this.startTime,this.state=n/options.duration,this.pos=jQuery.easing[options.animatedProperties[this.prop]](this.state,n,0,1,options.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},jQuery.extend(jQuery.fx,{tick:function(){var timer,timers=jQuery.timers,i=0;for(;i<timers.length;i++)timer=timers[i],!timer()&&timers[i]===timer&&timers.splice(i--,1);timers.length||jQuery.fx.stop()},interval:13,stop:function(){clearInterval(timerId),timerId=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(fx){jQuery.style(fx.elem,"opacity",fx.now)},_default:function(fx){fx.elem.style&&fx.elem.style[fx.prop]!=null?fx.elem.style[fx.prop]=fx.now+fx.unit:fx.elem[fx.prop]=fx.now}}}),jQuery.each(fxAttrs.concat.apply([],fxAttrs),function(i,prop){prop.indexOf("margin")&&(jQuery.fx.step[prop]=function(fx){jQuery.style(fx.elem,prop,Math.max(0,fx.now)+fx.unit)})}),jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length});var getOffset,rtable=/^t(?:able|d|h)$/i,rroot=/^(?:body|html)$/i;"getBoundingClientRect"in document.documentElement?getOffset=function(elem,doc,docElem,box){try{box=elem.getBoundingClientRect()}catch(e){}if(!box||!jQuery.contains(docElem,elem))return box?{top:box.top,left:box.left}:{top:0,left:0};var body=doc.body,win=getWindow(doc),clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,scrollTop=win.pageYOffset||jQuery.support.boxModel&&docElem.scrollTop||body.scrollTop,scrollLeft=win.pageXOffset||jQuery.support.boxModel&&docElem.scrollLeft||body.scrollLeft,top=box.top+scrollTop-clientTop,left=box.left+scrollLeft-clientLeft;return{top:top,left:left}}:getOffset=function(elem,doc,docElem){var computedStyle,offsetParent=elem.offsetParent,prevOffsetParent=elem,body=doc.body,defaultView=doc.defaultView,prevComputedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle,top=elem.offsetTop,left=elem.offsetLeft;while((elem=elem.parentNode)&&elem!==body&&elem!==docElem){if(jQuery.support.fixedPosition&&prevComputedStyle.position==="fixed")break;computedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle,top-=elem.scrollTop,left-=elem.scrollLeft,elem===offsetParent&&(top+=elem.offsetTop,left+=elem.offsetLeft,jQuery.support.doesNotAddBorder&&(!jQuery.support.doesAddBorderForTableAndCells||!rtable.test(elem.nodeName))&&(top+=parseFloat(computedStyle.borderTopWidth)||0,left+=parseFloat(computedStyle.borderLeftWidth)||0),prevOffsetParent=offsetParent,offsetParent=elem.offsetParent),jQuery.support.subtractsBorderForOverflowNotVisible&&computedStyle.overflow!=="visible"&&(top+=parseFloat(computedStyle.borderTopWidth)||0,left+=parseFloat(computedStyle.borderLeftWidth)||0),prevComputedStyle=computedStyle}if(prevComputedStyle.position==="relative"||prevComputedStyle.position==="static")top+=body.offsetTop,left+=body.offsetLeft;return jQuery.support.fixedPosition&&prevComputedStyle.position==="fixed"&&(top+=Math.max(docElem.scrollTop,body.scrollTop),left+=Math.max(docElem.scrollLeft,body.scrollLeft)),{top:top,left:left}},jQuery.fn.offset=function(options){if(arguments.length)return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var elem=this[0],doc=elem&&elem.ownerDocument;return doc?elem===doc.body?jQuery.offset.bodyOffset(elem):getOffset(elem,doc,doc.documentElement):null},jQuery.offset={bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;return jQuery.support.doesNotIncludeMarginInBodyOffset&&(top+=parseFloat(jQuery.css(body,"marginTop"))||0,left+=parseFloat(jQuery.css(body,"marginLeft"))||0),{top:top,left:left}},setOffset:function(elem,options,i){var position=jQuery.css(elem,"position");position==="static"&&(elem.style.position="relative");var curElem=jQuery(elem),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=(position==="absolute"||position==="fixed")&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1,props={},curPosition={},curTop,curLeft;calculatePosition?(curPosition=curElem.position(),curTop=curPosition.top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&&(options=options.call(elem,i,curOffset)),options.top!=null&&(props.top=options.top-curOffset.top+curTop),options.left!=null&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({position:function(){if(!this[0])return null;var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=rroot.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();return offset.top-=parseFloat(jQuery.css(elem,"marginTop"))||0,offset.left-=parseFloat(jQuery.css(elem,"marginLeft"))||0,parentOffset.top+=parseFloat(jQuery.css(offsetParent[0],"borderTopWidth"))||0,parentOffset.left+=parseFloat(jQuery.css(offsetParent[0],"borderLeftWidth"))||0,{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||document.body;while(offsetParent&&!rroot.test(offsetParent.nodeName)&&jQuery.css(offsetParent,"position")==="static")offsetParent=offsetParent.offsetParent;return offsetParent})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top=/Y/.test(prop);jQuery.fn[method]=function(val){return jQuery.access(this,function(elem,method,val){var win=getWindow(elem);if(val===undefined)return win?prop in win?win[prop]:jQuery.support.boxModel&&win.document.documentElement[method]||win.document.body[method]:elem[method];win?win.scrollTo(top?jQuery(win).scrollLeft():val,top?val:jQuery(win).scrollTop()):elem[method]=val},method,val,arguments.length,null)}}),jQuery.each({Height:"height",Width:"width"},function(name,type){var clientProp="client"+name,scrollProp="scroll"+name,offsetProp="offset"+name;jQuery.fn["inner"+name]=function(){var elem=this[0];return elem?elem.style?parseFloat(jQuery.css(elem,type,"padding")):this[type]():null},jQuery.fn["outer"+name]=function(margin){var elem=this[0];return elem?elem.style?parseFloat(jQuery.css(elem,type,margin?"margin":"border")):this[type]():null},jQuery.fn[type]=function(value){return jQuery.access(this,function(elem,type,value){var doc,docElemProp,orig,ret;if(jQuery.isWindow(elem))return doc=elem.document,docElemProp=doc.documentElement[clientProp],jQuery.support.boxModel&&docElemProp||doc.body&&doc.body[clientProp]||docElemProp;if(elem.nodeType===9)return doc=elem.documentElement,doc[clientProp]>=doc[scrollProp]?doc[clientProp]:Math.max(elem.body[scrollProp],doc[scrollProp],elem.body[offsetProp],doc[offsetProp]);if(value===undefined)return orig=jQuery.css(elem,type),ret=parseFloat(orig),jQuery.isNumeric(ret)?ret:orig;jQuery(elem).css(type,value)},type,value,arguments.length,null)}}),window.jQuery=window.$=jQuery,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return jQuery})}(window),function(definition){typeof define=="function"?define("es5-shim",[],definition):typeof YUI=="function"?YUI.add("es5",definition):definition()}(function(){function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if(typeof target!="function")throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var F=function(){};F.prototype=target.prototype;var self=new F,result=target.apply(self,args.concat(slice.call(arguments)));return Object(result)===result?result:self}return target.apply(that,args.concat(slice.call(arguments)))};return bound});var call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty),defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors;if(supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__);Array.isArray||(Array.isArray=function(obj){return _toString(obj)=="[object Array]"}),Array.prototype.forEach||(Array.prototype.forEach=function(fun){var self=toObject(this),thisp=arguments[1],i=-1,length=self.length>>>0;if(_toString(fun)!="[object Function]")throw new TypeError;while(++i<length)i in self&&fun.call(thisp,self[i],i,self)}),Array.prototype.map||(Array.prototype.map=function(fun){var self=toObject(this),length=self.length>>>0,result=Array(length),thisp=arguments[1];if(_toString(fun)!="[object Function]")throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,self));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var self=toObject(this),length=self.length>>>0,result=[],value,thisp=arguments[1];if(_toString(fun)!="[object Function]")throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)i in self&&(value=self[i],fun.call(thisp,value,i,self)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var self=toObject(this),length=self.length>>>0,thisp=arguments[1];if(_toString(fun)!="[object Function]")throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)if(i in self&&!fun.call(thisp,self[i],i,self))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var self=toObject(this),length=self.length>>>0,thisp=arguments[1];if(_toString(fun)!="[object Function]")throw new TypeError(fun+" is not a function");for(var i=0;i<length;i++)if(i in self&&fun.call(thisp,self[i],i,self))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var self=toObject(this),length=self.length>>>0;if(_toString(fun)!="[object Function]")throw new TypeError(fun+" is not a function");if(!length&&arguments.length==1)throw new TypeError("reduce of empty array with no initial value");var i=0,result;if(arguments.length>=2)result=arguments[1];else do{if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}while(!0);for(;i<length;i++)i in self&&(result=fun.call(void 0,result,self[i],i,self));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var self=toObject(this),length=self.length>>>0;if(_toString(fun)!="[object Function]")throw new TypeError(fun+" is not a function");if(!length&&arguments.length==1)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else do{if(i in self){result=self[i--];break}if(--i<0)throw new TypeError("reduceRight of empty array with no initial value")}while(!0);do i in this&&(result=fun.call(void 0,result,self[i],i,self));while(i--);return result}),Array.prototype.indexOf||(Array.prototype.indexOf=function(sought){var self=toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);for(;i<length;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(sought){var self=toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);for(;i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)});if(!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if(typeof object!="object"&&typeof object!="function"||object===null)throw new TypeError(ERR_NON_OBJECT+object);if(!owns(object,property))return;var descriptor={enumerable:!0,configurable:!0};if(supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);object.__proto__=prototype;if(getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),Object.create||(Object.create=function(prototype,properties){var object;if(prototype===null)object={__proto__:null};else{if(typeof prototype!="object")throw new TypeError("typeof prototype["+typeof prototype+"] != 'object'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return properties!==void 0&&Object.defineProperties(object,properties),object});if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom=typeof document=="undefined"||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if(typeof object!="object"&&typeof object!="function"||object===null)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if(typeof descriptor!="object"&&typeof descriptor!="function"||descriptor===null)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&property!="__proto__"&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return typeof object=="function"?object:freezeObject(object)}}(Object.freeze)}Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(object){return!1}),Object.isFrozen||(Object.isFrozen=function(object){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)!==object)throw new TypeError;var name="";while(owns(object,name))name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue});if(!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function e(object){if(typeof object!="object"&&typeof object!="function"||object===null)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;i<ii;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}if(!Date.prototype.toISOString||(new Date(-621987552e5)).toISOString().indexOf("-000001")===-1)Date.prototype.toISOString=function(){var result,length,value,year;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");result=[this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],year=this.getUTCFullYear(),year=(year<0?"-":year>9999?"+":"")+("00000"+Math.abs(year)).slice(0<=year&&year<=9999?-4:-6),length=result.length;while(length--)value=result[length],value<10&&(result[length]="0"+value);return year+"-"+result.slice(0,2).join("-")+"T"+result.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"};Date.now||(Date.now=function(){return(new Date).getTime()}),Date.prototype.toJSON||(Date.prototype.toJSON=function(key){if(typeof this.toISOString!="function")throw new TypeError("toISOString property is not callable");return this.toISOString()});if(!Date.parse||Date.parse("+275760-09-13T00:00:00.000Z")!==864e13)Date=function(NativeDate){var Date=function e(Y,M,D,h,m,s,ms){var length=arguments.length;if(this instanceof NativeDate){var date=length==1&&String(Y)===Y?new NativeDate(Date.parse(Y)):length>=7?new NativeDate(Y,M,D,h,m,s,ms):length>=6?new NativeDate(Y,M,D,h,m,s):length>=5?new NativeDate(Y,M,D,h,m):length>=4?new NativeDate(Y,M,D,h):length>=3?new NativeDate(Y,M,D):length>=2?new NativeDate(Y,M):length>=1?new NativeDate(Y):new NativeDate;return date.constructor=Date,date}return NativeDate.apply(this,arguments)},isoDateExpression=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$");for(var key in NativeDate)Date[key]=NativeDate[key];return Date.now=NativeDate.now,Date.UTC=NativeDate.UTC,Date.prototype=NativeDate.prototype,Date.prototype.constructor=Date,Date.parse=function(string){var match=isoDateExpression.exec(string);if(match){match.shift();for(var i=1;i<7;i++)match[i]=+(match[i]||(i<3?1:0)),i==1&&match[i]--;var minuteOffset=+match.pop(),hourOffset=+match.pop(),sign=match.pop(),offset=0;if(sign){if(hourOffset>23||minuteOffset>59)return NaN;offset=(hourOffset*60+minuteOffset)*6e4*(sign=="+"?-1:1)}var year=+match[0];return 0<=year&&year<=99?(match[0]=year+400,NativeDate.UTC.apply(this,match)+offset-126227808e5):NativeDate.UTC.apply(this,match)+offset}return NativeDate.parse.apply(this,arguments)},Date}(Date);var ws="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=new RegExp("^"+ws+ws+"*"),trimEndRegexp=new RegExp(ws+ws+"*$");String.prototype.trim=function(){if(this===undefined||this===null)throw new TypeError("can't convert "+this+" to object");return String(this).replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toInteger=function(n){return n=+n,n!==n?n=0:n!==0&&n!==1/0&&n!==-Infinity&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n},prepareString="a"[0]!="a",toObject=function(o){if(o==null)throw new TypeError("can't convert "+o+" to object");return prepareString&&typeof o=="string"&&o?o.split(""):Object(o)}}),define("utils",["jquery","es5-shim"],function($){function isWidget(obj){return!!obj._widgetName}function inherits(ctor,superCtor){return ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}}),ctor}function log(){if(window.console&&console.log)switch(arguments.length){case 1:console.log(arguments[0]);break;case 2:console.log(arguments[0],arguments[1]);break;case 3:console.log(arguments[0],arguments[1],arguments[2]);break;case 4:console.log(arguments[0],arguments[1],arguments[2],arguments[3]);break;default:console.log(Array.prototype.join.call(arguments,", "))}}return{isWidget:isWidget,inherits:inherits,log:log,extend:$.extend}}),define("filters",["utils"],function(utils){function i18nDict(val){return val&&(i18nDict.val=val),i18nDict.val||(i18nDict.val={}),i18nDict.val}function i18nLocale(val){return val&&(i18nLocale.val=val),i18nDict.val}function i18nTrans(key,locale){return locale=locale||i18nLocale.val,!i18nDict.val||!i18nDict.val[locale]||!i18nDict.val[locale][key]?(utils.log('[filter:i18nTrans] "'+key+'" not found in locale "'+locale+'".'),key):i18nDict.val[locale][key]}function trunc(text,len){return text=text(),text.length<=len?text:text.substr(0,len)+"..."}function dateFormatFull(str){str=str();var arr=/^\D*(\d\d\d\d)\D(\d\d?)\D(\d\d?)\D(\d\d?)\D(\d\d?)\D(\d\d?).*$/.exec(str);if(!arr)throw"dateFormatFull filter input error!";return arr[3]+" "+i18nTrans("%i18n:dateFormat%").monthNamesShort[parseInt(arr[2],10)-1].toLowerCase()+" "+arr[1]+" - "+arr[4]+":"+arr[5]}function zz(n){return n<10?"0"+n:""+n}function formatTime(date){return date instanceof Date?zz(date.getHours())+":"+zz(date.getMinutes())+":"+zz(date.getSeconds()):""}return{i18nDict:i18nDict,i18nLocale:i18nLocale,i18nTrans:i18nTrans,trunc:trunc,dateFormatFull:dateFormatFull,formatTime:formatTime}}),function(window,document,navigator,undefined){var DEBUG=!0;!function(factory){if(typeof require=="function"&&typeof exports=="object"&&typeof module=="object"){var target=module.exports||exports;factory(target)}else typeof define=="function"&&define.amd?define("knockout",["exports"],factory):factory(window.ko={})}(function(koExports){function applyExtenders(requestedExtenders){var target=this;if(requestedExtenders)for(var key in requestedExtenders){var extenderHandler=ko.extenders[key];typeof extenderHandler=="function"&&(target=extenderHandler(target,requestedExtenders[key]))}return target}function ensureDropdownSelectionIsConsistentWithModelValue(element,modelValue,preferModelValue){preferModelValue&&modelValue!==ko.selectExtensions.readValue(element)&&ko.selectExtensions.writeValue(element,modelValue),modelValue!==ko.selectExtensions.readValue(element)&&ko.utils.triggerEvent(element,"change")}var ko=typeof koExports!="undefined"?koExports:{};ko.exportSymbol=function(koPath,object){var tokens=koPath.split("."),target=ko;for(var i=0;i<tokens.length-1;i++)target=target[tokens[i]];target[tokens[tokens.length-1]]=object},ko.exportProperty=function(owner,publicName,object){owner[publicName]=object},ko.version="2.1.0",ko.exportSymbol("version",ko.version),ko.utils=new function(){function isClickOnCheckableElement(element,eventType){if(ko.utils.tagNameLower(element)!=="input"||!element.type)return!1;if(eventType.toLowerCase()!="click")return!1;var inputType=element.type;return inputType=="checkbox"||inputType=="radio"}var stringTrimRegex=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,knownEvents={},knownEventTypesByEventName={},keyEventTypeName=/Firefox\/2/i.test(navigator.userAgent)?"KeyboardEvent":"UIEvents";knownEvents[keyEventTypeName]=["keyup","keydown","keypress"],knownEvents.MouseEvents=["click","dblclick","mousedown","mouseup","mousemove","mouseover","mouseout","mouseenter","mouseleave"];for(var eventType in knownEvents){var knownEventsForType=knownEvents[eventType];if(knownEventsForType.length)for(var i=0,j=knownEventsForType.length;i<j;i++)knownEventTypesByEventName[knownEventsForType[i]]=eventType}var eventsThatMustBeRegisteredUsingAttachEvent={propertychange:!0},ieVersion=function(){var version=3,div=document.createElement("div"),iElems=div.getElementsByTagName("i");while(div.innerHTML="<!--[if gt IE "+ ++version+"]><i></i><![endif]-->",iElems[0]);return version>4?version:undefined}(),isIe6=ieVersion===6,isIe7=ieVersion===7;return{fieldsIncludedWithJsonPost:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],arrayForEach:function(array,action){for(var i=0,j=array.length;i<j;i++)action(array[i])},arrayIndexOf:function(array,item){if(typeof Array.prototype.indexOf=="function")return Array.prototype.indexOf.call(array,item);for(var i=0,j=array.length;i<j;i++)if(array[i]===item)return i;return-1},arrayFirst:function(array,predicate,predicateOwner){for(var i=0,j=array.length;i<j;i++)if(predicate.call(predicateOwner,array[i]))return array[i];return null},arrayRemoveItem:function(array,itemToRemove){var index=ko.utils.arrayIndexOf(array,itemToRemove);index>=0&&array.splice(index,1)},arrayGetDistinctValues:function(array){array=array||[];var result=[];for(var i=0,j=array.length;i<j;i++)ko.utils.arrayIndexOf(result,array[i])<0&&result.push(array[i]);return result},arrayMap:function(array,mapping){array=array||[];var result=[];for(var i=0,j=array.length;i<j;i++)result.push(mapping(array[i]));return result},arrayFilter:function(array,predicate){array=array||[];var result=[];for(var i=0,j=array.length;i<j;i++)predicate(array[i])&&result.push(array[i]);return result},arrayPushAll:function(array,valuesToPush){if(valuesToPush instanceof Array)array.push.apply(array,valuesToPush);else for(var i=0,j=valuesToPush.length;i<j;i++)array.push(valuesToPush[i]);return array},extend:function(target,source){if(source)for(var prop in source)source.hasOwnProperty(prop)&&(target[prop]=source[prop]);return target},emptyDomNode:function(domNode){while(domNode.firstChild)ko.removeNode(domNode.firstChild)},moveCleanedNodesToContainerElement:function(nodes){var nodesArray=ko.utils.makeArray(nodes),container=document.createElement("div");for(var i=0,j=nodesArray.length;i<j;i++)ko.cleanNode(nodesArray[i]),container.appendChild(nodesArray[i]);return container},setDomNodeChildren:function(domNode,childNodes){ko.utils.emptyDomNode(domNode);if(childNodes)for(var i=0,j=childNodes.length;i<j;i++)domNode.appendChild(childNodes[i])},replaceDomNodes:function(nodeToReplaceOrNodeArray,newNodesArray){var nodesToReplaceArray=nodeToReplaceOrNodeArray.nodeType?[nodeToReplaceOrNodeArray]:nodeToReplaceOrNodeArray;if(nodesToReplaceArray.length>0){var insertionPoint=nodesToReplaceArray[0],parent=insertionPoint.parentNode;for(var i=0,j=newNodesArray.length;i<j;i++)parent.insertBefore(newNodesArray[i],insertionPoint);for(var i=0,j=nodesToReplaceArray.length;i<j;i++)ko.removeNode(nodesToReplaceArray[i])}},setOptionNodeSelectionState:function(optionNode,isSelected){navigator.userAgent.indexOf("MSIE 6")>=0?optionNode.setAttribute("selected",isSelected):optionNode.selected=isSelected},stringTrim:function(string){return(string||"").replace(stringTrimRegex,"")},stringTokenize:function(string,delimiter){var result=[],tokens=(string||"").split(delimiter);for(var i=0,j=tokens.length;i<j;i++){var trimmed=ko.utils.stringTrim(tokens[i]);trimmed!==""&&result.push(trimmed)}return result},stringStartsWith:function(string,startsWith){return string=string||"",startsWith.length>string.length?!1:string.substring(0,startsWith.length)===startsWith},buildEvalWithinScopeFunction:function(expression,scopeLevels){var functionBody="return ("+expression+")";for(var i=0;i<scopeLevels;i++)functionBody="with(sc["+i+"]) { "+functionBody+" } ";return new Function("sc",functionBody)},domNodeIsContainedBy:function(node,containedByNode){if(containedByNode.compareDocumentPosition)return(containedByNode.compareDocumentPosition(node)&16)==16;while(node!=null){if(node==containedByNode)return!0;node=node.parentNode}return!1},domNodeIsAttachedToDocument:function(node){return ko.utils.domNodeIsContainedBy(node,node.ownerDocument)},tagNameLower:function(element){return element&&element.tagName&&element.tagName.toLowerCase()},registerEventHandler:function(element,eventType,handler){var mustUseAttachEvent=ieVersion&&eventsThatMustBeRegisteredUsingAttachEvent[eventType];if(!mustUseAttachEvent&&typeof jQuery!="undefined"){if(isClickOnCheckableElement(element,eventType)){var originalHandler=handler;handler=function(event,eventData){var jQuerySuppliedCheckedState=this.checked;eventData&&(this.checked=eventData.checkedStateBeforeEvent!==!0),originalHandler.call(this,event),this.checked=jQuerySuppliedCheckedState}}jQuery(element).bind(eventType,handler)}else if(!mustUseAttachEvent&&typeof element.addEventListener=="function")element.addEventListener(eventType,handler,!1);else{if(typeof element.attachEvent=="undefined")throw new Error("Browser doesn't support addEventListener or attachEvent");element.attachEvent("on"+eventType,function(event){handler.call(element,event)})}},triggerEvent:function(element,eventType){if(!element||!element.nodeType)throw new Error("element must be a DOM node when calling triggerEvent");if(typeof jQuery!="undefined"){var eventData=[];isClickOnCheckableElement(element,eventType)&&eventData.push({checkedStateBeforeEvent:element.checked}),jQuery(element).trigger(eventType,eventData)}else if(typeof document.createEvent=="function"){if(typeof element.dispatchEvent!="function")throw new Error("The supplied element doesn't support dispatchEvent");var eventCategory=knownEventTypesByEventName[eventType]||"HTMLEvents",event=document.createEvent(eventCategory);event.initEvent(eventType,!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,element),element.dispatchEvent(event)}else{if(typeof element.fireEvent=="undefined")throw new Error("Browser doesn't support triggering events");isClickOnCheckableElement(element,eventType)&&(element.checked=element.checked!==!0),element.fireEvent("on"+eventType)}},unwrapObservable:function(value){return ko.isObservable(value)?value():value},toggleDomNodeCssClass:function(node,className,shouldHaveClass){var currentClassNames=(node.className||"").split(/\s+/),hasClass=ko.utils.arrayIndexOf(currentClassNames,className)>=0;if(shouldHaveClass&&!hasClass)node.className+=(currentClassNames[0]?" ":"")+className;else if(hasClass&&!shouldHaveClass){var newClassName="";for(var i=0;i<currentClassNames.length;i++)currentClassNames[i]!=className&&(newClassName+=currentClassNames[i]+" ");node.className=ko.utils.stringTrim(newClassName)}},setTextContent:function(element,textContent){var value=ko.utils.unwrapObservable(textContent);if(value===null||value===undefined)value="";"innerText"in element?element.innerText=value:element.textContent=value,ieVersion>=9&&(element.style.display=element.style.display)},ensureSelectElementIsRenderedCorrectly:function(selectElement){if(ieVersion>=9){var originalWidth=selectElement.style.width;selectElement.style.width=0,selectElement.style.width=originalWidth}},range:function(min,max){min=ko.utils.unwrapObservable(min),max=ko.utils.unwrapObservable(max);var result=[];for(var i=min;i<=max;i++)result.push(i);return result},makeArray:function(arrayLikeObject){var result=[];for(var i=0,j=arrayLikeObject.length;i<j;i++)result.push(arrayLikeObject[i]);return result},isIe6:isIe6,isIe7:isIe7,ieVersion:ieVersion,getFormFields:function(form,fieldName){var fields=ko.utils.makeArray(form.getElementsByTagName("input")).concat(ko.utils.makeArray(form.getElementsByTagName("textarea"))),isMatchingField=typeof fieldName=="string"?function(field){return field.name===fieldName}:function(field){return fieldName.test(field.name)},matches=[];for(var i=fields.length-1;i>=0;i--)isMatchingField(fields[i])&&matches.push(fields[i]);return matches},parseJson:function(jsonString){if(typeof jsonString=="string"){jsonString=ko.utils.stringTrim(jsonString);if(jsonString)return window.JSON&&window.JSON.parse?window.JSON.parse(jsonString):(new Function("return "+jsonString))()}return null},stringifyJson:function(data,replacer,space){if(typeof JSON=="undefined"||typeof JSON.stringify=="undefined")throw new Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return JSON.stringify(ko.utils.unwrapObservable(data),replacer,space)},postJson:function(urlOrForm,data,options){options=options||{};var params=options.params||{},includeFields=options.includeFields||this.fieldsIncludedWithJsonPost,url=urlOrForm;if(typeof urlOrForm=="object"&&ko.utils.tagNameLower(urlOrForm)==="form"){var originalForm=urlOrForm;url=originalForm.action;for(var i=includeFields.length-1;i>=0;i--){var fields=ko.utils.getFormFields(originalForm,includeFields[i]);for(var j=fields.length-1;j>=0;j--)params[fields[j].name]=fields[j].value}}data=ko.utils.unwrapObservable(data);var form=document.createElement("form");form.style.display="none",form.action=url,form.method="post";for(var key in data){var input=document.createElement("input");input.name=key,input.value=ko.utils.stringifyJson(ko.utils.unwrapObservable(data[key])),form.appendChild(input)}for(var key in params){var input=document.createElement("input");input.name=key,input.value=params[key],form.appendChild(input)}document.body.appendChild(form),options.submitter?options.submitter(form):form.submit(),setTimeout(function(){form.parentNode.removeChild(form)},0)}}},ko.exportSymbol("utils",ko.utils),ko.exportSymbol("utils.arrayForEach",ko.utils.arrayForEach),ko.exportSymbol("utils.arrayFirst",ko.utils.arrayFirst),ko.exportSymbol("utils.arrayFilter",ko.utils.arrayFilter),ko.exportSymbol("utils.arrayGetDistinctValues",ko.utils.arrayGetDistinctValues),ko.exportSymbol("utils.arrayIndexOf",ko.utils.arrayIndexOf),ko.exportSymbol("utils.arrayMap",ko.utils.arrayMap),ko.exportSymbol("utils.arrayPushAll",ko.utils.arrayPushAll),ko.exportSymbol("utils.arrayRemoveItem",ko.utils.arrayRemoveItem),ko.exportSymbol("utils.extend",ko.utils.extend),ko.exportSymbol("utils.fieldsIncludedWithJsonPost",ko.utils.fieldsIncludedWithJsonPost),ko.exportSymbol("utils.getFormFields",ko.utils.getFormFields),ko.exportSymbol("utils.postJson",ko.utils.postJson),ko.exportSymbol("utils.parseJson",ko.utils.parseJson),ko.exportSymbol("utils.registerEventHandler",ko.utils.registerEventHandler),ko.exportSymbol("utils.stringifyJson",ko.utils.stringifyJson),ko.exportSymbol("utils.range",ko.utils.range),ko.exportSymbol("utils.toggleDomNodeCssClass",ko.utils.toggleDomNodeCssClass),ko.exportSymbol("utils.triggerEvent",ko.utils.triggerEvent),ko.exportSymbol("utils.unwrapObservable",ko.utils.unwrapObservable),Function.prototype.bind||(Function.prototype.bind=function(object){var originalFunction=this,args=Array.prototype.slice.call(arguments),object=args.shift();return function(){return originalFunction.apply(object,args.concat(Array.prototype.slice.call(arguments)))}}),ko.utils.domData=new function(){var uniqueId=0,dataStoreKeyExpandoPropertyName="__ko__"+(new Date).getTime(),dataStore={};return{get:function(node,key){var allDataForNode=ko.utils.domData.getAll(node,!1);return allDataForNode===undefined?undefined:allDataForNode[key]},set:function(node,key,value){if(value===undefined&&ko.utils.domData.getAll(node,!1)===undefined)return;var allDataForNode=ko.utils.domData.getAll(node,!0);allDataForNode[key]=value},getAll:function(node,createIfNotFound){var dataStoreKey=node[dataStoreKeyExpandoPropertyName],hasExistingDataStore=dataStoreKey&&dataStoreKey!=="null";if(!hasExistingDataStore){if(!createIfNotFound)return undefined;dataStoreKey=node[dataStoreKeyExpandoPropertyName]="ko"+uniqueId++,dataStore[dataStoreKey]={}}return dataStore[dataStoreKey]},clear:function(node){var dataStoreKey=node[dataStoreKeyExpandoPropertyName];dataStoreKey&&(delete dataStore[dataStoreKey],node[dataStoreKeyExpandoPropertyName]=null)}}},ko.exportSymbol("utils.domData",ko.utils.domData),ko.exportSymbol("utils.domData.clear",ko.utils.domData.clear),ko.utils.domNodeDisposal=new function(){function getDisposeCallbacksCollection(node,createIfNotFound){var allDisposeCallbacks=ko.utils.domData.get(node,domDataKey);return allDisposeCallbacks===undefined&&createIfNotFound&&(allDisposeCallbacks=[],ko.utils.domData.set(node,domDataKey,allDisposeCallbacks)),allDisposeCallbacks}function destroyCallbacksCollection(node){ko.utils.domData.set(node,domDataKey,undefined)}function cleanSingleNode(node){var callbacks=getDisposeCallbacksCollection(node,!1);if(callbacks){callbacks=callbacks.slice(0);for(var i=0;i<callbacks.length;i++)callbacks[i](node)}ko.utils.domData.clear(node),typeof jQuery=="function"&&typeof jQuery["cleanData"]=="function"&&jQuery.cleanData([node]),cleanableNodeTypesWithDescendants[node.nodeType]&&cleanImmediateCommentTypeChildren(node)}function cleanImmediateCommentTypeChildren(nodeWithChildren){var child,nextChild=nodeWithChildren.firstChild;while(child=nextChild)nextChild=child.nextSibling,child.nodeType===8&&cleanSingleNode(child)}var domDataKey="__ko_domNodeDisposal__"+(new Date).getTime(),cleanableNodeTypes={1:!0,8:!0,9:!0},cleanableNodeTypesWithDescendants={1:!0,9:!0};return{addDisposeCallback:function(node,callback){if(typeof callback!="function")throw new Error("Callback must be a function");getDisposeCallbacksCollection(node,!0).push(callback)},removeDisposeCallback:function(node,callback){var callbacksCollection=getDisposeCallbacksCollection(node,!1);callbacksCollection&&(ko.utils.arrayRemoveItem(callbacksCollection,callback),callbacksCollection.length==0&&destroyCallbacksCollection(node))},cleanNode:function(node){if(cleanableNodeTypes[node.nodeType]){cleanSingleNode(node);if(cleanableNodeTypesWithDescendants[node.nodeType]){var descendants=[];ko.utils.arrayPushAll(descendants,node.getElementsByTagName("*"));for(var i=0,j=descendants.length;i<j;i++)cleanSingleNode(descendants[i])}}},removeNode:function(node){ko.cleanNode(node),node.parentNode&&node.parentNode.removeChild(node)}}},ko.cleanNode=ko.utils.domNodeDisposal.cleanNode,ko.removeNode=ko.utils.domNodeDisposal.removeNode,ko.exportSymbol("cleanNode",ko.cleanNode),ko.exportSymbol("removeNode",ko.removeNode),ko.exportSymbol("utils.domNodeDisposal",ko.utils.domNodeDisposal),ko.exportSymbol("utils.domNodeDisposal.addDisposeCallback",ko.utils.domNodeDisposal.addDisposeCallback),ko.exportSymbol("utils.domNodeDisposal.removeDisposeCallback",ko.utils.domNodeDisposal.removeDisposeCallback),function(){function simpleHtmlParse(html){var tags=ko.utils.stringTrim(html).toLowerCase(),div=document.createElement("div"),wrap=tags.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!tags.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!tags.indexOf("<td")||!tags.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],markup="ignored<div>"+wrap[1]+html+wrap[2]+"</div>";typeof window["innerShiv"]=="function"?div.appendChild(window.innerShiv(markup)):div.innerHTML=markup;while(wrap[0]--)div=div.lastChild;return ko.utils.makeArray(div.lastChild.childNodes)}function jQueryHtmlParse(html){var elems=jQuery.clean([html]);if(elems&&elems[0]){var elem=elems[0];while(elem.parentNode&&elem.parentNode.nodeType!==11)elem=elem.parentNode;elem.parentNode&&elem.parentNode.removeChild(elem)}return elems}var leadingCommentRegex=/^(\s*)<!--(.*?)-->/;ko.utils.parseHtmlFragment=function(html){return typeof jQuery!="undefined"?jQueryHtmlParse(html):simpleHtmlParse(html)},ko.utils.setHtml=function(node,html){ko.utils.emptyDomNode(node);if(html!==null&&html!==undefined){typeof html!="string"&&(html=html.toString());if(typeof jQuery!="undefined")jQuery(node).html(html);else{var parsedNodes=ko.utils.parseHtmlFragment(html);for(var i=0;i<parsedNodes.length;i++)node.appendChild(parsedNodes[i])}}}}(),ko.exportSymbol("utils.parseHtmlFragment",ko.utils.parseHtmlFragment),ko.exportSymbol("utils.setHtml",ko.utils.setHtml),ko.memoization=function(){function randomMax8HexChars(){return((1+Math.random())*4294967296|0).toString(16).substring(1)}function generateRandomId(){return randomMax8HexChars()+randomMax8HexChars()}function findMemoNodes(rootNode,appendToArray){if(!rootNode)return;if(rootNode.nodeType==8){var memoId=ko.memoization.parseMemoText(rootNode.nodeValue);memoId!=null&&appendToArray.push({domNode:rootNode,memoId:memoId})}else if(rootNode.nodeType==1)for(var i=0,childNodes=rootNode.childNodes,j=childNodes.length;i<j;i++)findMemoNodes(childNodes[i],appendToArray)}var memos={};return{memoize:function(callback){if(typeof callback!="function")throw new Error("You can only pass a function to ko.memoization.memoize()");var memoId=generateRandomId();return memos[memoId]=callback,"<!--[ko_memo:"+memoId+"]-->"},unmemoize:function(memoId,callbackParams){var callback=memos[memoId];if(callback===undefined)throw new Error("Couldn't find any memo with ID "+memoId+". Perhaps it's already been unmemoized.");try{return callback.apply(null,callbackParams||[]),!0}finally{delete memos[memoId]}},unmemoizeDomNodeAndDescendants:function(domNode,extraCallbackParamsArray){var memos=[];findMemoNodes(domNode,memos);for(var i=0,j=memos.length;i<j;i++){var node=memos[i].domNode,combinedParams=[node];extraCallbackParamsArray&&ko.utils.arrayPushAll(combinedParams,extraCallbackParamsArray),ko.memoization.unmemoize(memos[i].memoId,combinedParams),node.nodeValue="",node.parentNode&&node.parentNode.removeChild(node)}},parseMemoText:function(memoText){var match=memoText.match(/^\[ko_memo\:(.*?)\]$/);return match?match[1]:null}}}(),ko.exportSymbol("memoization",ko.memoization),ko.exportSymbol("memoization.memoize",ko.memoization.memoize),ko.exportSymbol("memoization.unmemoize",ko.memoization.unmemoize),ko.exportSymbol("memoization.parseMemoText",ko.memoization.parseMemoText),ko.exportSymbol("memoization.unmemoizeDomNodeAndDescendants",ko.memoization.unmemoizeDomNodeAndDescendants),ko.extenders={throttle:function(target,timeout){target.throttleEvaluation=timeout;var writeTimeoutInstance=null;return ko.dependentObservable({read:target,write:function(value){clearTimeout(writeTimeoutInstance),writeTimeoutInstance=setTimeout(function(){target(value)},timeout)}})},notify:function(target,notifyWhen){return target.equalityComparer=notifyWhen=="always"?function(){return!1}:ko.observable.fn.equalityComparer,target}},ko.exportSymbol("extenders",ko.extenders),ko.subscription=function(target,callback,disposeCallback){this.target=target,this.callback=callback,this.disposeCallback=disposeCallback,ko.exportProperty(this,"dispose",this.dispose)},ko.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},ko.subscribable=function(){this._subscriptions={},ko.utils.extend(this,ko.subscribable.fn),ko.exportProperty(this,"subscribe",this.subscribe),ko.exportProperty(this,"extend",this.extend),ko.exportProperty(this,"getSubscriptionsCount",this.getSubscriptionsCount)};var defaultEvent="change";ko.subscribable.fn={subscribe:function(callback,callbackTarget,event){event=event||defaultEvent;var boundCallback=callbackTarget?callback.bind(callbackTarget):callback,subscription=new ko.subscription(this,boundCallback,function(){ko.utils.arrayRemoveItem(this._subscriptions[event],subscription)}.bind(this));return this._subscriptions[event]||(this._subscriptions[event]=[]),this._subscriptions[event].push(subscription),subscription},notifySubscribers:function(valueToNotify,event){event=event||defaultEvent,this._subscriptions[event]&&ko.utils.arrayForEach(this._subscriptions[event].slice(0),function(subscription){subscription&&subscription.isDisposed!==!0&&subscription.callback(valueToNotify)})},getSubscriptionsCount:function(){var total=0;for(var eventName in this._subscriptions)this._subscriptions.hasOwnProperty(eventName)&&(total+=this._subscriptions[eventName].length);return total},extend:applyExtenders},ko.isSubscribable=function(instance){return typeof instance.subscribe=="function"&&typeof instance["notifySubscribers"]=="function"},ko.exportSymbol("subscribable",ko.subscribable),ko.exportSymbol("isSubscribable",ko.isSubscribable),ko.dependencyDetection=function(){var _frames=[];return{begin:function(callback){_frames.push({callback:callback,distinctDependencies:[]})},end:function(){_frames.pop()},registerDependency:function(subscribable){if(!ko.isSubscribable(subscribable))throw new Error("Only subscribable things can act as dependencies");if(_frames.length>0){var topFrame=_frames[_frames.length-1];if(ko.utils.arrayIndexOf(topFrame.distinctDependencies,subscribable)>=0)return;topFrame.distinctDependencies.push(subscribable),topFrame.callback(subscribable)}}}}();var primitiveTypes={"undefined":!0,"boolean":!0,number:!0,string:!0};ko.observable=function(initialValue){function observable(){if(arguments.length>0){if(!observable.equalityComparer||!observable.equalityComparer(_latestValue,arguments[0]))observable.valueWillMutate(),_latestValue=arguments[0],DEBUG&&(observable._latestValue=_latestValue),observable.valueHasMutated();return this}return ko.dependencyDetection.registerDependency(observable),_latestValue}var _latestValue=initialValue;return DEBUG&&(observable._latestValue=_latestValue),ko.subscribable.call(observable),observable.valueHasMutated=function(){observable.notifySubscribers(_latestValue)},observable.valueWillMutate=function(){observable.notifySubscribers(_latestValue,"beforeChange")},ko.utils.extend(observable,ko.observable.fn),ko.exportProperty(observable,"valueHasMutated",observable.valueHasMutated),ko.exportProperty(observable,"valueWillMutate",observable.valueWillMutate),observable},ko.observable.fn={equalityComparer:function(a,b){var oldValueIsPrimitive=a===null||typeof a in primitiveTypes;return oldValueIsPrimitive?a===b:!1}};var protoProperty=ko.observable.protoProperty="__ko_proto__";ko.observable.fn[protoProperty]=ko.observable,ko.hasPrototype=function(instance,prototype){return instance===null||instance===undefined||instance[protoProperty]===undefined?!1:instance[protoProperty]===prototype?!0:ko.hasPrototype(instance[protoProperty],prototype)},ko.isObservable=function(instance){return ko.hasPrototype(instance,ko.observable)},ko.isWriteableObservable=function(instance){return typeof instance=="function"&&instance[protoProperty]===ko.observable?!0:typeof instance=="function"&&instance[protoProperty]===ko.dependentObservable&&instance.hasWriteFunction?!0:!1},ko.exportSymbol("observable",ko.observable),ko.exportSymbol("isObservable",ko.isObservable),ko.exportSymbol("isWriteableObservable",ko.isWriteableObservable),ko.observableArray=function(initialValues){arguments.length==0&&(initialValues=[]);if(initialValues===null||initialValues===undefined||"length"in initialValues){var result=ko.observable(initialValues);return ko.utils.extend(result,ko.observableArray.fn),result}throw new Error("The argument passed when initializing an observable array must be an array, or null, or undefined.")},ko.observableArray.fn={remove:function(valueOrPredicate){var underlyingArray=this(),removedValues=[],predicate=typeof valueOrPredicate=="function"?valueOrPredicate:function(value){return value===valueOrPredicate};for(var i=0;i<underlyingArray.length;i++){var value=underlyingArray[i];predicate(value)&&(removedValues.length===0&&this.valueWillMutate(),removedValues.push(value),underlyingArray.splice(i,1),i--)}return removedValues.length&&this.valueHasMutated(),removedValues},removeAll:function(arrayOfValues){if(arrayOfValues===undefined){var underlyingArray=this(),allValues=underlyingArray.slice(0);return this.valueWillMutate(),underlyingArray.splice(0,underlyingArray.length),this.valueHasMutated(),allValues}return arrayOfValues?this.remove(function(value){return ko.utils.arrayIndexOf(arrayOfValues,value)>=0}):[]},destroy:function(valueOrPredicate){var underlyingArray=this(),predicate=typeof valueOrPredicate=="function"?valueOrPredicate:function(value){return value===valueOrPredicate};this.valueWillMutate();for(var i=underlyingArray.length-1;i>=0;i--){var value=underlyingArray[i];predicate(value)&&(underlyingArray[i]._destroy=!0)}this.valueHasMutated()},destroyAll:function(arrayOfValues){return arrayOfValues===undefined?this.destroy(function(){return!0}):arrayOfValues?this.destroy(function(value){return ko.utils.arrayIndexOf(arrayOfValues,value)>=0}):[]},indexOf:function(item){var underlyingArray=this();return ko.utils.arrayIndexOf(underlyingArray,item)},replace:function(oldItem,newItem){var index=this.indexOf(oldItem);index>=0&&(this.valueWillMutate(),this()[index]=newItem,this.valueHasMutated())}},ko.utils.arrayForEach(["pop","push","reverse","shift","sort","splice","unshift"],function(methodName){ko.observableArray.fn[methodName]=function(){var underlyingArray=this();this.valueWillMutate();var methodCallResult=underlyingArray[methodName].apply(underlyingArray,arguments);return this.valueHasMutated(),methodCallResult}}),ko.utils.arrayForEach(["slice"],function(methodName){ko.observableArray.fn[methodName]=function(){var underlyingArray=this();return underlyingArray[methodName].apply(underlyingArray,arguments)}}),ko.exportSymbol("observableArray",ko.observableArray),ko.dependentObservable=function(evaluatorFunctionOrOptions,evaluatorFunctionTarget,options){function disposeAllSubscriptionsToDependencies(){ko.utils.arrayForEach(_subscriptionsToDependencies,function(subscription){subscription.dispose()}),_subscriptionsToDependencies=[]}function evaluatePossiblyAsync(){var throttleEvaluationTimeout=dependentObservable.throttleEvaluation;throttleEvaluationTimeout&&throttleEvaluationTimeout>=0?(clearTimeout(evaluationTimeoutInstance),evaluationTimeoutInstance=setTimeout(evaluateImmediate,throttleEvaluationTimeout)):evaluateImmediate()}function evaluateImmediate(){if(_isBeingEvaluated)return;if(_hasBeenEvaluated&&disposeWhen()){dispose();return}_isBeingEvaluated=!0;try{var disposalCandidates=ko.utils.arrayMap(_subscriptionsToDependencies,function(item){return item.target});ko.dependencyDetection.begin(function(subscribable){var inOld;(inOld=ko.utils.arrayIndexOf(disposalCandidates,subscribable))>=0?disposalCandidates[inOld]=undefined:_subscriptionsToDependencies.push(subscribable.subscribe(evaluatePossiblyAsync))});var newValue=readFunction.call(evaluatorFunctionTarget);for(var i=disposalCandidates.length-1;i>=0;i--)disposalCandidates[i]&&_subscriptionsToDependencies.splice(i,1)[0].dispose();_hasBeenEvaluated=!0,dependentObservable.notifySubscribers(_latestValue,"beforeChange"),_latestValue=newValue,DEBUG&&(dependentObservable._latestValue=_latestValue)}finally{ko.dependencyDetection.end()}dependentObservable.notifySubscribers(_latestValue),_isBeingEvaluated=!1}function dependentObservable(){if(!(arguments.length>0))return get();set.apply(dependentObservable,arguments)}function set(){if(typeof writeFunction!="function")throw new Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");writeFunction.apply(evaluatorFunctionTarget,arguments)}function get(){return _hasBeenEvaluated||evaluateImmediate(),ko.dependencyDetection.registerDependency(dependentObservable),_latestValue}var _latestValue,_hasBeenEvaluated=!1,_isBeingEvaluated=!1,readFunction=evaluatorFunctionOrOptions;readFunction&&typeof readFunction=="object"?(options=readFunction,readFunction=options.read):(options=options||{},readFunction||(readFunction=options.read));if(typeof readFunction!="function")throw new Error("Pass a function that returns the value of the ko.computed");var writeFunction=options.write;evaluatorFunctionTarget||(evaluatorFunctionTarget=options.owner);var _subscriptionsToDependencies=[],dispose=disposeAllSubscriptionsToDependencies,disposeWhenNodeIsRemoved=typeof options["disposeWhenNodeIsRemoved"]=="object"?options.disposeWhenNodeIsRemoved:null,disposeWhen=options.disposeWhen||function(){return!1};if(disposeWhenNodeIsRemoved){dispose=function(){ko.utils.domNodeDisposal.removeDisposeCallback(disposeWhenNodeIsRemoved,arguments.callee),disposeAllSubscriptionsToDependencies()},ko.utils.domNodeDisposal.addDisposeCallback(disposeWhenNodeIsRemoved,dispose);var existingDisposeWhenFunction=disposeWhen;disposeWhen=function(){return!ko.utils.domNodeIsAttachedToDocument(disposeWhenNodeIsRemoved)||existingDisposeWhenFunction()}}var evaluationTimeoutInstance=null;return dependentObservable.getDependenciesCount=function(){return _subscriptionsToDependencies.length},dependentObservable.hasWriteFunction=typeof options.write=="function",dependentObservable.dispose=function(){dispose()},ko.subscribable.call(dependentObservable),ko.utils.extend(dependentObservable,ko.dependentObservable.fn),options.deferEvaluation!==!0&&evaluateImmediate(),ko.exportProperty(dependentObservable,"dispose",dependentObservable.dispose),ko.exportProperty(dependentObservable,"getDependenciesCount",dependentObservable.getDependenciesCount),dependentObservable},ko.isComputed=function(instance){return ko.hasPrototype(instance,ko.dependentObservable)};var protoProp=ko.observable.protoProperty;ko.dependentObservable[protoProp]=ko.observable,ko.dependentObservable.fn={},ko.dependentObservable.fn[protoProp]=ko.dependentObservable,ko.exportSymbol("dependentObservable",ko.dependentObservable),ko.exportSymbol("computed",ko.dependentObservable),ko.exportSymbol("isComputed",ko.isComputed),function(){function mapJsObjectGraph(rootObject,mapInputCallback,visitedObjects){visitedObjects=visitedObjects||new objectLookup,rootObject=mapInputCallback(rootObject);var canHaveProperties=typeof rootObject=="object"&&rootObject!==null&&rootObject!==undefined&&!(rootObject instanceof Date);if(!canHaveProperties)return rootObject;var outputProperties=rootObject instanceof Array?[]:{};return visitedObjects.save(rootObject,outputProperties),visitPropertiesOrArrayEntries(rootObject,function(indexer){var propertyValue=mapInputCallback(rootObject[indexer]);switch(typeof propertyValue){case"boolean":case"number":case"string":case"function":outputProperties[indexer]=propertyValue;break;case"object":case"undefined":var previouslyMappedValue=visitedObjects.get(propertyValue);outputProperties[indexer]=previouslyMappedValue!==undefined?previouslyMappedValue:mapJsObjectGraph(propertyValue,mapInputCallback,visitedObjects)}}),outputProperties}function visitPropertiesOrArrayEntries(rootObject,visitorCallback){if(rootObject instanceof Array){for(var i=0;i<rootObject.length;i++)visitorCallback(i);typeof rootObject["toJSON"]=="function"&&visitorCallback("toJSON")}else for(var propertyName in rootObject)visitorCallback(propertyName)}function objectLookup(){var keys=[],values=[];this.save=function(key,value){var existingIndex=ko.utils.arrayIndexOf(keys,key);existingIndex>=0?values[existingIndex]=value:(keys.push(key),values.push(value))},this.get=function(key){var existingIndex=ko.utils.arrayIndexOf(keys,key);return existingIndex>=0?values[existingIndex]:undefined}}var maxNestedObservableDepth=10;ko.toJS=function(rootObject){if(arguments.length==0)throw new Error("When calling ko.toJS, pass the object you want to convert.");return mapJsObjectGraph(rootObject,function(valueToMap){for(var i=0;ko.isObservable(valueToMap)&&i<maxNestedObservableDepth;i++)valueToMap=valueToMap();return valueToMap})},ko.toJSON=function(rootObject,replacer,space){var plainJavaScriptObject=ko.toJS(rootObject);return ko.utils.stringifyJson(plainJavaScriptObject,replacer,space)}}(),ko.exportSymbol("toJS",ko.toJS),ko.exportSymbol("toJSON",ko.toJSON),function(){var hasDomDataExpandoProperty="__ko__hasDomDataOptionValue__";ko.selectExtensions={readValue:function(element){switch(ko.utils.tagNameLower(element)){case"option":if(element[hasDomDataExpandoProperty]===!0)return ko.utils.domData.get(element,ko.bindingHandlers.options.optionValueDomDataKey);return element.getAttribute("value");case"select":return element.selectedIndex>=0?ko.selectExtensions.readValue(element.options[element.selectedIndex]):undefined;default:return element.value}},writeValue:function(element,value){switch(ko.utils.tagNameLower(element)){case"option":switch(typeof value){case"string":ko.utils.domData.set(element,ko.bindingHandlers.options.optionValueDomDataKey,undefined),hasDomDataExpandoProperty in element&&delete element[hasDomDataExpandoProperty],element.value=value;break;default:ko.utils.domData.set(element,ko.bindingHandlers.options.optionValueDomDataKey,value),element[hasDomDataExpandoProperty]=!0,element.value=typeof value=="number"?value:""}break;case"select":for(var i=element.options.length-1;i>=0;i--)if(ko.selectExtensions.readValue(element.options[i])==value){element.selectedIndex=i;break}break;default:if(value===null||value===undefined)value="";element.value=value}}}}(),ko.exportSymbol("selectExtensions",ko.selectExtensions),ko.exportSymbol("selectExtensions.readValue",ko.selectExtensions.readValue),ko.exportSymbol("selectExtensions.writeValue",ko.selectExtensions.writeValue),ko.jsonExpressionRewriting=function(){function restoreTokens(string,tokens){var prevValue=null;while(string!=prevValue)prevValue=string,string=string.replace(restoreCapturedTokensRegex,function(match,tokenIndex){return tokens[tokenIndex]});return string}function isWriteableValue(expression){return ko.utils.arrayIndexOf(javaScriptReservedWords,ko.utils.stringTrim(expression).toLowerCase())>=0?!1:expression.match(javaScriptAssignmentTarget)!==null}function ensureQuoted(key){var trimmedKey=ko.utils.stringTrim(key);switch(trimmedKey.length&&trimmedKey.charAt(0)){case"'":case'"':return key;default:return"'"+trimmedKey+"'"}}var restoreCapturedTokensRegex=/\@ko_token_(\d+)\@/g,javaScriptAssignmentTarget=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,javaScriptReservedWords=["true","false"];return{bindingRewriteValidators:[],parseObjectLiteral:function(objectLiteralString){var str=ko.utils.stringTrim(objectLiteralString);if(str.length<3)return[];str.charAt(0)==="{"&&(str=str.substring(1,str.length-1));var tokens=[],tokenStart=null,tokenEndChar;for(var position=0;position<str.length;position++){var c=str.charAt(position);if(tokenStart===null)switch(c){case'"':case"'":case"/":tokenStart=position,tokenEndChar=c}else if(c==tokenEndChar&&str.charAt(position-1)!=="\\"){var token=str.substring(tokenStart,position+1);tokens.push(token);var replacement="@ko_token_"+(tokens.length-1)+"@";str=str.substring(0,tokenStart)+replacement+str.substring(position+1),position-=token.length-replacement.length,tokenStart=null}}tokenStart=null,tokenEndChar=null;var tokenDepth=0,tokenStartChar=null;for(var position=0;position<str.length;position++){var c=str.charAt(position);if(tokenStart===null)switch(c){case"{":tokenStart=position,tokenStartChar=c,tokenEndChar="}";break;case"(":tokenStart=position,tokenStartChar=c,tokenEndChar=")";break;case"[":tokenStart=position,tokenStartChar=c,tokenEndChar="]"}if(c===tokenStartChar)tokenDepth++;else if(c===tokenEndChar){tokenDepth--;if(tokenDepth===0){var token=str.substring(tokenStart,position+1);tokens.push(token);var replacement="@ko_token_"+(tokens.length-1)+"@";str=str.substring(0,tokenStart)+replacement+str.substring(position+1),position-=token.length-replacement.length,tokenStart=null}}}var result=[],keyValuePairs=str.split(",");for(var i=0,j=keyValuePairs.length;i<j;i++){var pair=keyValuePairs[i],colonPos=pair.indexOf(":");if(colonPos>0&&colonPos<pair.length-1){var key=pair.substring(0,colonPos),value=pair.substring(colonPos+1);result.push({key:restoreTokens(key,tokens),value:restoreTokens(value,tokens)})}else result.push({unknown:restoreTokens(pair,tokens)})}return result},insertPropertyAccessorsIntoJson:function(objectLiteralStringOrKeyValueArray){var keyValueArray=typeof objectLiteralStringOrKeyValueArray=="string"?ko.jsonExpressionRewriting.parseObjectLiteral(objectLiteralStringOrKeyValueArray):objectLiteralStringOrKeyValueArray,resultStrings=[],propertyAccessorResultStrings=[],keyValueEntry;for(var i=0;keyValueEntry=keyValueArray[i];i++){resultStrings.length>0&&resultStrings.push(",");if(keyValueEntry.key){var quotedKey=ensureQuoted(keyValueEntry.key),val=keyValueEntry.value;resultStrings.push(quotedKey),resultStrings.push(":"),resultStrings.push(val),isWriteableValue(ko.utils.stringTrim(val))&&(propertyAccessorResultStrings.length>0&&propertyAccessorResultStrings.push(", "),propertyAccessorResultStrings.push(quotedKey+" : function(__ko_value) { "+val+" = __ko_value; }"))}else keyValueEntry.unknown&&resultStrings.push(keyValueEntry.unknown)}var combinedResult=resultStrings.join("");if(propertyAccessorResultStrings.length>0){var allPropertyAccessors=propertyAccessorResultStrings.join("");combinedResult=combinedResult+", '_ko_property_writers' : { "+allPropertyAccessors+" } "}return combinedResult},keyValueArrayContainsKey:function(keyValueArray,key){for(var i=0;i<keyValueArray.length;i++)if(ko.utils.stringTrim(keyValueArray[i]["key"])==key)return!0;return!1},writeValueToProperty:function(property,allBindingsAccessor,key,value,checkIfDifferent){if(!property||!ko.isWriteableObservable(property)){var propWriters=allBindingsAccessor()._ko_property_writers;propWriters&&propWriters[key]&&propWriters[key](value)}else(!checkIfDifferent||property()!==value)&&property(value)}}}(),ko.exportSymbol("jsonExpressionRewriting",ko.jsonExpressionRewriting),ko.exportSymbol("jsonExpressionRewriting.bindingRewriteValidators",ko.jsonExpressionRewriting.bindingRewriteValidators),ko.exportSymbol("jsonExpressionRewriting.parseObjectLiteral",ko.jsonExpressionRewriting.parseObjectLiteral),ko.exportSymbol("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",ko.jsonExpressionRewriting.insertPropertyAccessorsIntoJson),function(){function isStartComment(node){return node.nodeType==8&&(commentNodesHaveTextProperty?node.text:node.nodeValue).match(startCommentRegex)}function isEndComment(node){return node.nodeType==8&&(commentNodesHaveTextProperty?node.text:node.nodeValue).match(endCommentRegex)}function getVirtualChildren(startComment,allowUnbalanced){var currentNode=startComment,depth=1,children=[];while(currentNode=currentNode.nextSibling){if(isEndComment(currentNode)){depth--;if(depth===0)return children}children.push(currentNode),isStartComment(currentNode)&&depth++}if(!allowUnbalanced)throw new Error("Cannot find closing comment tag to match: "+startComment.nodeValue);return null}function getMatchingEndComment(startComment,allowUnbalanced){var allVirtualChildren=getVirtualChildren(startComment,allowUnbalanced);return allVirtualChildren?allVirtualChildren.length>0?allVirtualChildren[allVirtualChildren.length-1].nextSibling:startComment.nextSibling:null}function getUnbalancedChildTags(node){var childNode=node.firstChild,captureRemaining=null;if(childNode)do if(captureRemaining)captureRemaining.push(childNode);else if(isStartComment(childNode)){var matchingEndComment=getMatchingEndComment(childNode,!0);matchingEndComment?childNode=matchingEndComment:captureRemaining=[childNode]}else isEndComment(childNode)&&(captureRemaining=[childNode]);while(childNode=childNode.nextSibling);return captureRemaining}var commentNodesHaveTextProperty=document.createComment("test").text==="<!--test-->",startCommentRegex=commentNodesHaveTextProperty?/^<!--\s*ko\s+(.*\:.*)\s*-->$/:/^\s*ko\s+(.*\:.*)\s*$/,endCommentRegex=commentNodesHaveTextProperty?/^<!--\s*\/ko\s*-->$/:/^\s*\/ko\s*$/,htmlTagsWithOptionallyClosingChildren={ul:!0,ol:!0};ko.virtualElements={allowedBindings:{},childNodes:function(node){return isStartComment(node)?getVirtualChildren(node):node.childNodes},emptyNode:function(node){if(!isStartComment(node))ko.utils.emptyDomNode(node);else{var virtualChildren=ko.virtualElements.childNodes(node);for(var i=0,j=virtualChildren.length;i<j;i++)ko.removeNode(virtualChildren[i])}},setDomNodeChildren:function(node,childNodes){if(!isStartComment(node))ko.utils.setDomNodeChildren(node,childNodes);else{ko.virtualElements.emptyNode(node);var endCommentNode=node.nextSibling;for(var i=0,j=childNodes.length;i<j;i++)endCommentNode.parentNode.insertBefore(childNodes[i],endCommentNode)}},prepend:function(containerNode,nodeToPrepend){isStartComment(containerNode)?containerNode.parentNode.insertBefore(nodeToPrepend,containerNode.nextSibling):containerNode.firstChild?containerNode.insertBefore(nodeToPrepend,containerNode.firstChild):containerNode.appendChild(nodeToPrepend)},insertAfter:function(containerNode,nodeToInsert,insertAfterNode){isStartComment(containerNode)?containerNode.parentNode.insertBefore(nodeToInsert,insertAfterNode.nextSibling):insertAfterNode.nextSibling?containerNode.insertBefore(nodeToInsert,insertAfterNode.nextSibling):containerNode.appendChild(nodeToInsert)},firstChild:function(node){return isStartComment(node)?!node.nextSibling||isEndComment(node.nextSibling)?null:node.nextSibling:node.firstChild},nextSibling:function(node){return isStartComment(node)&&(node=getMatchingEndComment(node)),node.nextSibling&&isEndComment(node.nextSibling)?null:node.nextSibling},virtualNodeBindingValue:function(node){var regexMatch=isStartComment(node);return regexMatch?regexMatch[1]:null},normaliseVirtualElementDomStructure:function(elementVerified){if(!htmlTagsWithOptionallyClosingChildren[ko.utils.tagNameLower(elementVerified)])return;var childNode=elementVerified.firstChild;if(childNode)do if(childNode.nodeType===1){var unbalancedTags=getUnbalancedChildTags(childNode);if(unbalancedTags){var nodeToInsertBefore=childNode.nextSibling;for(var i=0;i<unbalancedTags.length;i++)nodeToInsertBefore?elementVerified.insertBefore(unbalancedTags[i],nodeToInsertBefore):elementVerified.appendChild(unbalancedTags[i])}}while(childNode=childNode.nextSibling)}}}(),ko.exportSymbol("virtualElements",ko.virtualElements),ko.exportSymbol("virtualElements.allowedBindings",ko.virtualElements.allowedBindings),ko.exportSymbol("virtualElements.emptyNode",ko.virtualElements.emptyNode),ko.exportSymbol("virtualElements.insertAfter",ko.virtualElements.insertAfter),ko.exportSymbol("virtualElements.prepend",ko.virtualElements.prepend),ko.exportSymbol("virtualElements.setDomNodeChildren",ko.virtualElements.setDomNodeChildren),function(){function createBindingsStringEvaluatorViaCache(bindingsString,scopesCount,cache){var cacheKey=scopesCount+"_"+bindingsString;return cache[cacheKey]||(cache[cacheKey]=createBindingsStringEvaluator(bindingsString,scopesCount))}function createBindingsStringEvaluator(bindingsString,scopesCount){var rewrittenBindings=" { "+ko.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(bindingsString)+" } ";return ko.utils.buildEvalWithinScopeFunction(rewrittenBindings,scopesCount)}var defaultBindingAttributeName="data-bind";ko.bindingProvider=function(){this.bindingCache={}},ko.utils.extend(ko.bindingProvider.prototype,{nodeHasBindings:function(node){switch(node.nodeType){case 1:return node.getAttribute(defaultBindingAttributeName)!=null;case 8:return ko.virtualElements.virtualNodeBindingValue(node)!=null;default:return!1}},getBindings:function(node,bindingContext){var bindingsString=this.getBindingsString(node,bindingContext);return bindingsString?this.parseBindingsString(bindingsString,bindingContext):null},getBindingsString:function(node,bindingContext){switch(node.nodeType){case 1:return node.getAttribute(defaultBindingAttributeName);case 8:return ko.virtualElements.virtualNodeBindingValue(node);default:return null}},parseBindingsString:function(bindingsString,bindingContext){try{var viewModel=bindingContext.$data,scopes=typeof viewModel=="object"&&viewModel!=null?[viewModel,bindingContext]:[bindingContext],bindingFunction=createBindingsStringEvaluatorViaCache(bindingsString,scopes.length,this.bindingCache);return bindingFunction(scopes)}catch(ex){throw new Error("Unable to parse bindings.\nMessage: "+ex+";\nBindings value: "+bindingsString)}}}),ko.bindingProvider.instance=new ko.bindingProvider}(),ko.exportSymbol("bindingProvider",ko.bindingProvider),function(){function validateThatBindingIsAllowedForVirtualElements(bindingName){var validator=ko.virtualElements.allowedBindings[bindingName];if(!validator)throw new Error("The binding '"+bindingName+"' cannot be used with virtual elements")}function applyBindingsToDescendantsInternal(viewModel,elementOrVirtualElement,bindingContextsMayDifferFromDomParentElement){var currentChild,nextInQueue=ko.virtualElements.firstChild(elementOrVirtualElement);while(currentChild=nextInQueue)nextInQueue=ko.virtualElements.nextSibling(currentChild),applyBindingsToNodeAndDescendantsInternal(viewModel,currentChild,bindingContextsMayDifferFromDomParentElement)}function applyBindingsToNodeAndDescendantsInternal(viewModel,nodeVerified,bindingContextMayDifferFromDomParentElement){var shouldBindDescendants=!0,isElement=nodeVerified.nodeType===1;isElement&&ko.virtualElements.normaliseVirtualElementDomStructure(nodeVerified);var shouldApplyBindings=isElement&&bindingContextMayDifferFromDomParentElement||ko.bindingProvider.instance.nodeHasBindings(nodeVerified);shouldApplyBindings&&(shouldBindDescendants=applyBindingsToNodeInternal(nodeVerified,null,viewModel,bindingContextMayDifferFromDomParentElement).shouldBindDescendants),shouldBindDescendants&&applyBindingsToDescendantsInternal(viewModel,nodeVerified,!isElement)}function applyBindingsToNodeInternal(node,bindings,viewModelOrBindingContext,bindingContextMayDifferFromDomParentElement){function makeValueAccessor(bindingKey){return function(){return parsedBindings[bindingKey]}}function parsedBindingsAccessor(){return parsedBindings}var initPhase=0,parsedBindings,bindingHandlerThatControlsDescendantBindings;return ko.dependentObservable(function(){var bindingContextInstance=viewModelOrBindingContext&&viewModelOrBindingContext instanceof ko.bindingContext?viewModelOrBindingContext:new ko.bindingContext(ko.utils.unwrapObservable(viewModelOrBindingContext)),viewModel=bindingContextInstance.$data;bindingContextMayDifferFromDomParentElement&&ko.storedBindingContextForNode(node,bindingContextInstance);var evaluatedBindings=typeof bindings=="function"?bindings():bindings;parsedBindings=evaluatedBindings||ko.bindingProvider.instance.getBindings(node,bindingContextInstance);if(parsedBindings){if(initPhase===0){initPhase=1;for(var bindingKey in parsedBindings){var binding=ko.bindingHandlers[bindingKey];binding&&node.nodeType===8&&validateThatBindingIsAllowedForVirtualElements(bindingKey);if(binding&&typeof binding["init"]=="function"){var handlerInitFn=binding.init,initResult=handlerInitFn(node,makeValueAccessor(bindingKey),parsedBindingsAccessor,viewModel,bindingContextInstance);if(initResult&&initResult.controlsDescendantBindings){if(bindingHandlerThatControlsDescendantBindings!==undefined)throw new Error("Multiple bindings ("+bindingHandlerThatControlsDescendantBindings+" and "+bindingKey+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");bindingHandlerThatControlsDescendantBindings=bindingKey}}}initPhase=2}if(initPhase===2)for(var bindingKey in parsedBindings){var binding=ko.bindingHandlers[bindingKey];if(binding&&typeof binding["update"]=="function"){var handlerUpdateFn=binding.update;handlerUpdateFn(node,makeValueAccessor(bindingKey),parsedBindingsAccessor,viewModel,bindingContextInstance)}}}},null,{disposeWhenNodeIsRemoved:node}),{shouldBindDescendants:bindingHandlerThatControlsDescendantBindings===undefined}}ko.bindingHandlers={},ko.bindingContext=function(dataItem,parentBindingContext){parentBindingContext?(ko.utils.extend(this,parentBindingContext),this.$parentContext=parentBindingContext,this.$parent=parentBindingContext.$data,this.$parents=(parentBindingContext.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=dataItem),this.$data=dataItem},ko.bindingContext.prototype.createChildContext=function(dataItem){return new ko.bindingContext(dataItem,this)},ko.bindingContext.prototype.extend=function(properties){var clone=ko.utils.extend(new ko.bindingContext,this);return ko.utils.extend(clone,properties)};var storedBindingContextDomDataKey="__ko_bindingContext__";ko.storedBindingContextForNode=function(node,bindingContext){if(arguments.length!=2)return ko.utils.domData.get(node,storedBindingContextDomDataKey);ko.utils.domData.set(node,storedBindingContextDomDataKey,bindingContext)},ko.applyBindingsToNode=function(node,bindings,viewModel){return node.nodeType===1&&ko.virtualElements.normaliseVirtualElementDomStructure(node),applyBindingsToNodeInternal(node,bindings,viewModel,!0)},ko.applyBindingsToDescendants=function(viewModel,rootNode){(rootNode.nodeType===1||rootNode.nodeType===8)&&applyBindingsToDescendantsInternal(viewModel,rootNode,!0)},ko.applyBindings=function(viewModel,rootNode){if(rootNode&&rootNode.nodeType!==1&&rootNode.nodeType!==8)throw new Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");rootNode=rootNode||window.document.body,applyBindingsToNodeAndDescendantsInternal(viewModel,rootNode,!0)},ko.contextFor=function(node){switch(node.nodeType){case 1:case 8:var context=ko.storedBindingContextForNode(node);if(context)return context;if(node.parentNode)return ko.contextFor(node.parentNode)}return undefined},ko.dataFor=function(node){var context=ko.contextFor(node);return context?context.$data:undefined},ko.exportSymbol("bindingHandlers",ko.bindingHandlers),ko.exportSymbol("applyBindings",ko.applyBindings),ko.exportSymbol("applyBindingsToDescendants",ko.applyBindingsToDescendants),ko.exportSymbol("applyBindingsToNode",ko.applyBindingsToNode),ko.exportSymbol("contextFor",ko.contextFor),ko.exportSymbol("dataFor",ko.dataFor)}();var eventHandlersWithShortcuts=["click"];ko.utils.arrayForEach(eventHandlersWithShortcuts,function(eventName){ko.bindingHandlers[eventName]={init:function(element,valueAccessor,allBindingsAccessor,viewModel){var newValueAccessor=function(){var result={};return result[eventName]=valueAccessor(),result};return ko.bindingHandlers.event.init.call(this,element,newValueAccessor,allBindingsAccessor,viewModel)}}}),ko.bindingHandlers.event={init:function(element,valueAccessor,allBindingsAccessor,viewModel){var eventsToHandle=valueAccessor()||{};for(var eventNameOutsideClosure in eventsToHandle)(function(){var eventName=eventNameOutsideClosure;typeof eventName=="string"&&ko.utils.registerEventHandler(element,eventName,function(event){var handlerReturnValue,handlerFunction=valueAccessor()[eventName];if(!handlerFunction)return;var allBindings=allBindingsAccessor();try{var argsForHandler=ko.utils.makeArray(arguments);argsForHandler.unshift(viewModel),handlerReturnValue=handlerFunction.apply(viewModel,argsForHandler)}finally{handlerReturnValue!==!0&&(event.preventDefault?event.preventDefault():event.returnValue=!1)}var bubble=allBindings[eventName+"Bubble"]!==!1;bubble||(event.cancelBubble=!0,event.stopPropagation&&event.stopPropagation())})})()}},ko.bindingHandlers.submit={init:function(element,valueAccessor,allBindingsAccessor,viewModel){if(typeof valueAccessor()!="function")throw new Error("The value for a submit binding must be a function");ko.utils.registerEventHandler(element,"submit",function(event){var handlerReturnValue,value=valueAccessor();try{handlerReturnValue=value.call(viewModel,element)}finally{handlerReturnValue!==!0&&(event.preventDefault?event.preventDefault():event.returnValue=!1)}})}},ko.bindingHandlers.visible={update:function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor()),isCurrentlyVisible=element.style.display!="none";value&&!isCurrentlyVisible?element.style.display="":!value&&isCurrentlyVisible&&(element.style.display="none")}},ko.bindingHandlers.enable={update:function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor());value&&element.disabled?element.removeAttribute("disabled"):!value&&!element.disabled&&(element.disabled=!0)}},ko.bindingHandlers.disable={update:function(element,valueAccessor){ko.bindingHandlers.enable.update(element,function(){return!ko.utils.unwrapObservable(valueAccessor())})}},ko.bindingHandlers.value={init:function(element,valueAccessor,allBindingsAccessor){var eventsToCatch=["change"],requestedEventsToCatch=allBindingsAccessor().valueUpdate;requestedEventsToCatch&&(typeof requestedEventsToCatch=="string"&&(requestedEventsToCatch=[requestedEventsToCatch]),ko.utils.arrayPushAll(eventsToCatch,requestedEventsToCatch),eventsToCatch=ko.utils.arrayGetDistinctValues(eventsToCatch));var valueUpdateHandler=function(){var modelValue=valueAccessor(),elementValue=ko.selectExtensions.readValue(element);ko.jsonExpressionRewriting.writeValueToProperty(modelValue,allBindingsAccessor,"value",elementValue,!0)},ieAutoCompleteHackNeeded=ko.utils.ieVersion&&element.tagName.toLowerCase()=="input"&&element.type=="text"&&element.autocomplete!="off"&&(!element.form||element.form.autocomplete!="off");if(ieAutoCompleteHackNeeded&&ko.utils.arrayIndexOf(eventsToCatch,"propertychange")==-1){var propertyChangedFired=!1;ko.utils.registerEventHandler(element,"propertychange",function(){propertyChangedFired=!0}),ko.utils.registerEventHandler(element,"blur",function(){propertyChangedFired&&(propertyChangedFired=!1,valueUpdateHandler())})}ko.utils.arrayForEach(eventsToCatch,function(eventName){var handler=valueUpdateHandler;ko.utils.stringStartsWith(eventName,"after")&&(handler=function(){setTimeout(valueUpdateHandler,0)},eventName=eventName.substring("after".length)),ko.utils.registerEventHandler(element,eventName,handler)})},update:function(element,valueAccessor){var valueIsSelectOption=ko.utils.tagNameLower(element)==="select",newValue=ko.utils.unwrapObservable(valueAccessor()),elementValue=ko.selectExtensions.readValue(element),valueHasChanged=newValue!=elementValue;newValue===0&&elementValue!==0&&elementValue!=="0"&&(valueHasChanged=!0);if(valueHasChanged){var applyValueAction=function(){ko.selectExtensions.writeValue(element,newValue)};applyValueAction();var alsoApplyAsynchronously=valueIsSelectOption;alsoApplyAsynchronously&&setTimeout(applyValueAction,0)}valueIsSelectOption&&element.length>0&&ensureDropdownSelectionIsConsistentWithModelValue(element,newValue,!1)}},ko.bindingHandlers.options={update:function(element,valueAccessor,allBindingsAccessor){if(ko.utils.tagNameLower(element)!=="select")throw new Error("options binding applies only to SELECT elements");var selectWasPreviouslyEmpty=element.length==0,previousSelectedValues=ko.utils.arrayMap(ko.utils.arrayFilter(element.childNodes,function(node){return node.tagName&&ko.utils.tagNameLower(node)==="option"&&node.selected}),function(node){return ko.selectExtensions.readValue(node)||node.innerText||node.textContent}),previousScrollTop=element.scrollTop,value=ko.utils.unwrapObservable(valueAccessor()),selectedValue=element.value;while(element.length>0)ko.cleanNode(element.options[0]),element.remove(0);if(value){var allBindings=allBindingsAccessor();typeof value.length!="number"&&(value=[value]);if(allBindings.optionsCaption){var option=document.createElement("option");ko.utils.setHtml(option,allBindings.optionsCaption),ko.selectExtensions.writeValue(option,undefined),element.appendChild(option)}for(var i=0,j=value.length;i<j;i++){var option=document.createElement("option"),optionValue=typeof allBindings["optionsValue"]=="string"?value[i][allBindings.optionsValue]:value[i];optionValue=ko.utils.unwrapObservable(optionValue),ko.selectExtensions.writeValue(option,optionValue);var optionsTextValue=allBindings.optionsText,optionText;typeof optionsTextValue=="function"?optionText=optionsTextValue(value[i]):typeof optionsTextValue=="string"?optionText=value[i][optionsTextValue]:optionText=optionValue;if(optionText===null||optionText===undefined)optionText="";ko.utils.setTextContent(option,optionText),element.appendChild(option)}var newOptions=element.getElementsByTagName("option"),countSelectionsRetained=0;for(var i=0,j=newOptions.length;i<j;i++)ko.utils.arrayIndexOf(previousSelectedValues,ko.selectExtensions.readValue(newOptions[i]))>=0&&(ko.utils.setOptionNodeSelectionState(newOptions[i],!0),countSelectionsRetained++);element.scrollTop=previousScrollTop,selectWasPreviouslyEmpty&&"value"in allBindings&&ensureDropdownSelectionIsConsistentWithModelValue(element,ko.utils.unwrapObservable(allBindings.value),!0),ko.utils.ensureSelectElementIsRenderedCorrectly(element)}}},ko.bindingHandlers.options.optionValueDomDataKey="__ko.optionValueDomData__",ko.bindingHandlers.selectedOptions={getSelectedValuesFromSelectNode:function(selectNode){var result=[],nodes=selectNode.childNodes;for(var i=0,j=nodes.length;i<j;i++){var node=nodes[i],tagName=ko.utils.tagNameLower(node);if(tagName=="option"&&node.selected)result.push(ko.selectExtensions.readValue(node));else if(tagName=="optgroup"){var selectedValuesFromOptGroup=ko.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(node);Array.prototype.splice.apply(result,[result.length,0].concat(selectedValuesFromOptGroup))}}return result},init:function(element,valueAccessor,allBindingsAccessor){ko.utils.registerEventHandler(element,"change",function(){var value=valueAccessor(),valueToWrite=ko.bindingHandlers.selectedOptions.getSelectedValuesFromSelectNode(this);ko.jsonExpressionRewriting.writeValueToProperty(value,allBindingsAccessor,"value",valueToWrite)})},update:function(element,valueAccessor){if(ko.utils.tagNameLower(element)!="select")throw new Error("values binding applies only to SELECT elements");var newValue=ko.utils.unwrapObservable(valueAccessor());if(newValue&&typeof newValue.length=="number"){var nodes=element.childNodes;for(var i=0,j=nodes.length;i<j;i++){var node=nodes[i];ko.utils.tagNameLower(node)==="option"&&ko.utils.setOptionNodeSelectionState(node,ko.utils.arrayIndexOf(newValue,ko.selectExtensions.readValue(node))>=0)}}}},ko.bindingHandlers.text={update:function(element,valueAccessor){ko.utils.setTextContent(element,valueAccessor())}},ko.bindingHandlers.html={init:function(){return{controlsDescendantBindings:!0}},update:function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor());ko.utils.setHtml(element,value)}},ko.bindingHandlers.css={update:function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor()||{});for(var className in value)if(typeof className=="string"){var shouldHaveClass=ko.utils.unwrapObservable(value[className]);ko.utils.toggleDomNodeCssClass(element,className,shouldHaveClass)}}},ko.bindingHandlers.style={update:function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor()||{});for(var styleName in value)if(typeof styleName=="string"){var styleValue=ko.utils.unwrapObservable(value[styleName]);element.style[styleName]=styleValue||""}}},ko.bindingHandlers.uniqueName={init:function(element,valueAccessor){valueAccessor()&&(element.name="ko_unique_"+ ++ko.bindingHandlers.uniqueName.currentIndex,(ko.utils.isIe6||ko.utils.isIe7)&&element.mergeAttributes(document.createElement("<input name='"+element.name+"'/>"),!1))}},ko.bindingHandlers.uniqueName.currentIndex=0,ko.bindingHandlers.checked={init:function(element,valueAccessor,allBindingsAccessor){var updateHandler=function(){var valueToWrite;if(element.type=="checkbox")valueToWrite=element.checked;else{if(element.type!="radio"||!element.checked)return;valueToWrite=element.value}var modelValue=valueAccessor();if(element.type=="checkbox"&&ko.utils.unwrapObservable(modelValue)instanceof Array){var existingEntryIndex=ko.utils.arrayIndexOf(ko.utils.unwrapObservable(modelValue),element.value);element.checked&&existingEntryIndex<0?modelValue.push(element.value):!element.checked&&existingEntryIndex>=0&&modelValue.splice(existingEntryIndex,1)}else ko.jsonExpressionRewriting.writeValueToProperty(modelValue,allBindingsAccessor,"checked",valueToWrite,!0)};ko.utils.registerEventHandler(element,"click",updateHandler),element.type=="radio"&&!element.name&&ko.bindingHandlers.uniqueName.init(element,function(){return!0})},update:function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor());element.type=="checkbox"?value instanceof Array?element.checked=ko.utils.arrayIndexOf(value,element.value)>=0:element.checked=value:element.type=="radio"&&(element.checked=element.value==value)}};var attrHtmlToJavascriptMap={"class":"className","for":"htmlFor"};ko.bindingHandlers.attr={update:function(element,valueAccessor,allBindingsAccessor){var value=ko.utils.unwrapObservable(valueAccessor())||{};for(var attrName in value)if(typeof attrName=="string"){var attrValue=ko.utils.unwrapObservable(value[attrName]),toRemove=attrValue===!1||attrValue===null||attrValue===undefined;toRemove&&element.removeAttribute(attrName),ko.utils.ieVersion<=8&&attrName in attrHtmlToJavascriptMap?(attrName=attrHtmlToJavascriptMap[attrName],toRemove?element.removeAttribute(attrName):element[attrName]=attrValue):toRemove||element.setAttribute(attrName,attrValue.toString())}}},ko.bindingHandlers.hasfocus={init:function(element,valueAccessor,allBindingsAccessor){var writeValue=function(valueToWrite){var modelValue=valueAccessor();ko.jsonExpressionRewriting.writeValueToProperty(modelValue,allBindingsAccessor,"hasfocus",valueToWrite,!0)};ko.utils.registerEventHandler(element,"focus",function(){writeValue(!0)}),ko.utils.registerEventHandler(element,"focusin",function(){writeValue(!0)}),ko.utils.registerEventHandler(element,"blur",function(){writeValue(!1)}),ko.utils.registerEventHandler(element,"focusout",function(){writeValue(!1)})},update:function(element,valueAccessor){var value=ko.utils.unwrapObservable(valueAccessor());value?element.focus():element.blur(),ko.utils.triggerEvent(element,value?"focusin":"focusout")}},ko.bindingHandlers["with"]={makeTemplateValueAccessor:function(valueAccessor){return function(){var value=valueAccessor();return{"if":value,data:value,templateEngine:ko.nativeTemplateEngine.instance}}},init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){return ko.bindingHandlers.template.init(element,ko.bindingHandlers["with"].makeTemplateValueAccessor(valueAccessor))},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){return ko.bindingHandlers.template.update(element,ko.bindingHandlers["with"].makeTemplateValueAccessor(valueAccessor),allBindingsAccessor,viewModel,bindingContext)}},ko.jsonExpressionRewriting.bindingRewriteValidators["with"]=!1,ko.virtualElements.allowedBindings["with"]=!0,ko.bindingHandlers["if"]={makeTemplateValueAccessor:function(valueAccessor){return function(){return{"if":valueAccessor(),templateEngine:ko.nativeTemplateEngine.instance}}},init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){return ko.bindingHandlers.template.init(element,ko.bindingHandlers["if"].makeTemplateValueAccessor(valueAccessor))},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){return ko.bindingHandlers.template.update(element,ko.bindingHandlers["if"].makeTemplateValueAccessor(valueAccessor),allBindingsAccessor,viewModel,bindingContext)}},ko.jsonExpressionRewriting.bindingRewriteValidators["if"]=!1,ko.virtualElements.allowedBindings["if"]=!0,ko.bindingHandlers.ifnot={makeTemplateValueAccessor:function(valueAccessor){return function(){return{ifnot:valueAccessor(),templateEngine:ko.nativeTemplateEngine.instance}}},init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){return ko.bindingHandlers.template.init(element,ko.bindingHandlers.ifnot.makeTemplateValueAccessor(valueAccessor))},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){return ko.bindingHandlers.template.update(element,ko.bindingHandlers.ifnot.makeTemplateValueAccessor(valueAccessor),allBindingsAccessor,viewModel,bindingContext)}},ko.jsonExpressionRewriting.bindingRewriteValidators.ifnot=!1,ko.virtualElements.allowedBindings.ifnot=!0,ko.bindingHandlers.foreach={makeTemplateValueAccessor:function(valueAccessor){return function(){var bindingValue=ko.utils.unwrapObservable(valueAccessor());return!bindingValue||typeof bindingValue.length=="number"?{foreach:bindingValue,templateEngine:ko.nativeTemplateEngine.instance}:{foreach:bindingValue.data,includeDestroyed:bindingValue.includeDestroyed,afterAdd:bindingValue.afterAdd,beforeRemove:bindingValue.beforeRemove,afterRender:bindingValue.afterRender,templateEngine:ko.nativeTemplateEngine.instance}}},init:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){return ko.bindingHandlers.template.init(element,ko.bindingHandlers.foreach.makeTemplateValueAccessor(valueAccessor))},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){return ko.bindingHandlers.template.update(element,ko.bindingHandlers.foreach.makeTemplateValueAccessor(valueAccessor),allBindingsAccessor,viewModel,bindingContext)}},ko.jsonExpressionRewriting.bindingRewriteValidators.foreach=!1,ko.virtualElements.allowedBindings.foreach=!0,ko.templateEngine=function(){},ko.templateEngine.prototype.renderTemplateSource=function(templateSource,bindingContext,options){throw new Error("Override renderTemplateSource")},ko.templateEngine.prototype.createJavaScriptEvaluatorBlock=function(script){throw new Error("Override createJavaScriptEvaluatorBlock")},ko.templateEngine.prototype.makeTemplateSource=function(template,templateDocument){if(typeof template=="string"){templateDocument=templateDocument||document;var elem=templateDocument.getElementById(template);if(!elem)throw new Error("Cannot find template with ID "+template);return new ko.templateSources.domElement(elem)}if(template.nodeType==1||template.nodeType==8)return new ko.templateSources.anonymousTemplate(template);throw new Error("Unknown template type: "+template)},ko.templateEngine.prototype.renderTemplate=function(template,bindingContext,options,templateDocument){var templateSource=this.makeTemplateSource(template,templateDocument);return this.renderTemplateSource(templateSource,bindingContext,options)},ko.templateEngine.prototype.isTemplateRewritten=function(template,templateDocument){if(this.allowTemplateRewriting===!1)return!0;var templateIsInExternalDocument=templateDocument&&templateDocument!=document;return!templateIsInExternalDocument&&this.knownRewrittenTemplates&&this.knownRewrittenTemplates[template]?!0:this.makeTemplateSource(template,templateDocument).data("isRewritten")},ko.templateEngine.prototype.rewriteTemplate=function(template,rewriterCallback,templateDocument){var templateSource=this.makeTemplateSource(template,templateDocument),rewritten=rewriterCallback(templateSource.text());templateSource.text(rewritten),templateSource.data("isRewritten",!0);var templateIsInExternalDocument=templateDocument&&templateDocument!=document;!templateIsInExternalDocument&&typeof template=="string"&&(this.knownRewrittenTemplates=this.knownRewrittenTemplates||{},this.knownRewrittenTemplates[template]=!0)},ko.exportSymbol("templateEngine",ko.templateEngine),ko.templateRewriting=function(){function validateDataBindValuesForRewriting(keyValueArray){var allValidators=ko.jsonExpressionRewriting.bindingRewriteValidators;for(var i=0;i<keyValueArray.length;i++){var key=keyValueArray[i].key;if(allValidators.hasOwnProperty(key)){var validator=allValidators[key];if(typeof validator=="function"){var possibleErrorMessage=validator(keyValueArray[i].value);if(possibleErrorMessage)throw new Error(possibleErrorMessage)}else if(!validator)throw new Error("This template engine does not support the '"+key+"' binding within its templates")}}}function constructMemoizedTagReplacement(dataBindAttributeValue,tagToRetain,templateEngine){var dataBindKeyValueArray=ko.jsonExpressionRewriting.parseObjectLiteral(dataBindAttributeValue);validateDataBindValuesForRewriting(dataBindKeyValueArray);var rewrittenDataBindAttributeValue=ko.jsonExpressionRewriting.insertPropertyAccessorsIntoJson(dataBindKeyValueArray),applyBindingsToNextSiblingScript="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+rewrittenDataBindAttributeValue+" } })()         })";return templateEngine.createJavaScriptEvaluatorBlock(applyBindingsToNextSiblingScript)+tagToRetain}var memoizeDataBindingAttributeSyntaxRegex=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,memoizeVirtualContainerBindingSyntaxRegex=/<!--\s*ko\b\s*([\s\S]*?)\s*-->/g;return{ensureTemplateIsRewritten:function(template,templateEngine,templateDocument){templateEngine.isTemplateRewritten(template,templateDocument)||templateEngine.rewriteTemplate(template,function(htmlString){return ko.templateRewriting.memoizeBindingAttributeSyntax(htmlString,templateEngine)},templateDocument)},memoizeBindingAttributeSyntax:function(htmlString,templateEngine){return htmlString.replace(memoizeDataBindingAttributeSyntaxRegex,function(){return constructMemoizedTagReplacement(arguments[6],arguments[1],templateEngine)}).replace(memoizeVirtualContainerBindingSyntaxRegex,function(){return constructMemoizedTagReplacement(arguments[1],"<!-- ko -->",templateEngine)})},applyMemoizedBindingsToNextSibling:function(bindings){return ko.memoization.memoize(function(domNode,bindingContext){domNode.nextSibling&&ko.applyBindingsToNode(domNode.nextSibling,bindings,bindingContext)})}}}(),ko.exportSymbol("templateRewriting",ko.templateRewriting),ko.exportSymbol("templateRewriting.applyMemoizedBindingsToNextSibling",ko.templateRewriting.applyMemoizedBindingsToNextSibling),function(){ko.templateSources={},ko.templateSources.domElement=function(element){this.domElement=element},ko.templateSources.domElement.prototype.text=function(){var tagNameLower=ko.utils.tagNameLower(this.domElement),elemContentsProperty=tagNameLower==="script"?"text":tagNameLower==="textarea"?"value":"innerHTML";if(arguments.length==0)return this.domElement[elemContentsProperty];var valueToWrite=arguments[0];elemContentsProperty==="innerHTML"?ko.utils.setHtml(this.domElement,valueToWrite):this.domElement[elemContentsProperty]=valueToWrite},ko.templateSources.domElement.prototype.data=function(key){if(arguments.length===1)return ko.utils.domData.get(this.domElement,"templateSourceData_"+key);ko.utils.domData.set(this.domElement,"templateSourceData_"+key,arguments[1])};var anonymousTemplatesDomDataKey="__ko_anon_template__";ko.templateSources.anonymousTemplate=function(element){this.domElement=element},ko.templateSources.anonymousTemplate.prototype=new ko.templateSources.domElement,ko.templateSources.anonymousTemplate.prototype.text=function(){if(arguments.length==0){var templateData=ko.utils.domData.get(this.domElement,anonymousTemplatesDomDataKey)||{};return templateData.textData===undefined&&templateData.containerData&&(templateData.textData=templateData.containerData.innerHTML),templateData.textData}var valueToWrite=arguments[0];ko.utils.domData.set(this.domElement,anonymousTemplatesDomDataKey,{textData:valueToWrite})},ko.templateSources.domElement.prototype.nodes=function(){if(arguments.length==0){var templateData=ko.utils.domData.get(this.domElement,anonymousTemplatesDomDataKey)||{};return templateData.containerData}var valueToWrite=arguments[0];ko.utils.domData.set(this.domElement,anonymousTemplatesDomDataKey,{containerData:valueToWrite})},ko.exportSymbol("templateSources",ko.templateSources),ko.exportSymbol("templateSources.domElement",ko.templateSources.domElement),ko.exportSymbol("templateSources.anonymousTemplate",ko.templateSources.anonymousTemplate)}(),function(){function invokeForEachNodeOrCommentInContinuousRange(firstNode,lastNode,action){var node,nextInQueue=firstNode,firstOutOfRangeNode=ko.virtualElements.nextSibling(lastNode);while(nextInQueue&&(node=nextInQueue)!==firstOutOfRangeNode)nextInQueue=ko.virtualElements.nextSibling(node),(node.nodeType===1||node.nodeType===8)&&action(node)}function activateBindingsOnContinuousNodeArray(continuousNodeArray,bindingContext){if(continuousNodeArray.length){var firstNode=continuousNodeArray[0],lastNode=continuousNodeArray[continuousNodeArray.length-1];invokeForEachNodeOrCommentInContinuousRange(firstNode,lastNode,function(node){ko.applyBindings(bindingContext,node)}),invokeForEachNodeOrCommentInContinuousRange(firstNode,lastNode,function(node){ko.memoization.unmemoizeDomNodeAndDescendants(node,[bindingContext])})}}function getFirstNodeFromPossibleArray(nodeOrNodeArray){return nodeOrNodeArray.nodeType?nodeOrNodeArray:nodeOrNodeArray.length>0?nodeOrNodeArray[0]:null}function executeTemplate(targetNodeOrNodeArray,renderMode,template,bindingContext,options){options=options||{};var firstTargetNode=targetNodeOrNodeArray&&getFirstNodeFromPossibleArray(targetNodeOrNodeArray),templateDocument=firstTargetNode&&firstTargetNode.ownerDocument,templateEngineToUse=options.templateEngine||_templateEngine;ko.templateRewriting.ensureTemplateIsRewritten(template,templateEngineToUse,templateDocument);var renderedNodesArray=templateEngineToUse.renderTemplate(template,bindingContext,options,templateDocument);if(typeof renderedNodesArray.length!="number"||renderedNodesArray.length>0&&typeof renderedNodesArray[0].nodeType!="number")throw new Error("Template engine must return an array of DOM nodes");var haveAddedNodesToParent=!1;switch(renderMode){case"replaceChildren":ko.virtualElements.setDomNodeChildren(targetNodeOrNodeArray,renderedNodesArray),haveAddedNodesToParent=!0;break;case"replaceNode":ko.utils.replaceDomNodes(targetNodeOrNodeArray,renderedNodesArray),haveAddedNodesToParent=!0;break;case"ignoreTargetNode":break;default:throw new Error("Unknown renderMode: "+renderMode)}return haveAddedNodesToParent&&(activateBindingsOnContinuousNodeArray(renderedNodesArray,bindingContext),options.afterRender&&options.afterRender(renderedNodesArray,bindingContext.$data)),renderedNodesArray}function disposeOldSubscriptionAndStoreNewOne(element,newSubscription){var oldSubscription=ko.utils.domData.get(element,templateSubscriptionDomDataKey);oldSubscription&&typeof oldSubscription.dispose=="function"&&oldSubscription.dispose(),ko.utils.domData.set(element,templateSubscriptionDomDataKey,newSubscription)}var _templateEngine;ko.setTemplateEngine=function(templateEngine){if(!(templateEngine==undefined||templateEngine instanceof ko.templateEngine))throw new Error("templateEngine must inherit from ko.templateEngine");_templateEngine=templateEngine},ko.renderTemplate=function(template,dataOrBindingContext,options,targetNodeOrNodeArray,renderMode){options=options||{};if((options["templateEngine"]||_templateEngine)==undefined)throw new Error("Set a template engine before calling renderTemplate");renderMode=renderMode||"replaceChildren";if(targetNodeOrNodeArray){var firstTargetNode=getFirstNodeFromPossibleArray(targetNodeOrNodeArray),whenToDispose=function(){return!firstTargetNode||!ko.utils.domNodeIsAttachedToDocument(firstTargetNode)},activelyDisposeWhenNodeIsRemoved=firstTargetNode&&renderMode=="replaceNode"?firstTargetNode.parentNode:firstTargetNode;return ko.dependentObservable(function(){var bindingContext=dataOrBindingContext&&dataOrBindingContext instanceof ko.bindingContext?dataOrBindingContext:new ko.bindingContext(ko.utils.unwrapObservable(dataOrBindingContext)),templateName=typeof template=="function"?template(bindingContext.$data):template,renderedNodesArray=executeTemplate(targetNodeOrNodeArray,renderMode,templateName,bindingContext,options);renderMode=="replaceNode"&&(targetNodeOrNodeArray=renderedNodesArray,firstTargetNode=getFirstNodeFromPossibleArray(targetNodeOrNodeArray))},null,{disposeWhen:whenToDispose,disposeWhenNodeIsRemoved:activelyDisposeWhenNodeIsRemoved})}return ko.memoization.memoize(function(domNode){ko.renderTemplate(template,dataOrBindingContext,options,domNode,"replaceNode")})},ko.renderTemplateForEach=function(template,arrayOrObservableArray,options,targetNode,parentBindingContext){var arrayItemContext,executeTemplateForArrayItem=function(arrayValue,index){var templateName=typeof template=="function"?template(arrayValue):template;return arrayItemContext=parentBindingContext.createChildContext(ko.utils.unwrapObservable(arrayValue)),arrayItemContext.$index=index,executeTemplate(null,"ignoreTargetNode",templateName,arrayItemContext,options)},activateBindingsCallback=function(arrayValue,addedNodesArray,index){activateBindingsOnContinuousNodeArray(addedNodesArray,arrayItemContext),options.afterRender&&options.afterRender(addedNodesArray,arrayValue)};return ko.dependentObservable(function(){var unwrappedArray=ko.utils.unwrapObservable(arrayOrObservableArray)||[];typeof unwrappedArray.length=="undefined"&&(unwrappedArray=[unwrappedArray]);var filteredArray=ko.utils.arrayFilter(unwrappedArray,function(item){return options.includeDestroyed||item===undefined||item===null||!ko.utils.unwrapObservable(item._destroy)});ko.utils.setDomNodeChildrenFromArrayMapping(targetNode,filteredArray,executeTemplateForArrayItem,options,activateBindingsCallback)},null,{disposeWhenNodeIsRemoved:targetNode})};var templateSubscriptionDomDataKey="__ko__templateSubscriptionDomDataKey__";ko.bindingHandlers.template={init:function(element,valueAccessor){var bindingValue=ko.utils.unwrapObservable(valueAccessor());if(typeof bindingValue!="string"&&!bindingValue.name&&(element.nodeType==1||element.nodeType==8)){var templateNodes=element.nodeType==1?element.childNodes:ko.virtualElements.childNodes(element),container=ko.utils.moveCleanedNodesToContainerElement(templateNodes);(new ko.templateSources.anonymousTemplate(element)).nodes(container)}return{controlsDescendantBindings:!0}},update:function(element,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var bindingValue=ko.utils.unwrapObservable(valueAccessor()),templateName,shouldDisplay=!0;typeof bindingValue=="string"?templateName=bindingValue:(templateName=bindingValue.name,"if"in bindingValue&&(shouldDisplay=shouldDisplay&&ko.utils.unwrapObservable(bindingValue["if"])),"ifnot"in bindingValue&&(shouldDisplay=shouldDisplay&&!ko.utils.unwrapObservable(bindingValue.ifnot)));var templateSubscription=null;if(typeof bindingValue=="object"&&"foreach"in bindingValue){var dataArray=shouldDisplay&&bindingValue.foreach||[];templateSubscription=ko.renderTemplateForEach(templateName||element,dataArray,bindingValue,element,bindingContext)}else if(shouldDisplay){var innerBindingContext=typeof bindingValue=="object"&&"data"in bindingValue?bindingContext.createChildContext(ko.utils.unwrapObservable(bindingValue.data)):bindingContext;templateSubscription=ko.renderTemplate(templateName||element,innerBindingContext,bindingValue,element)}else ko.virtualElements.emptyNode(element);disposeOldSubscriptionAndStoreNewOne(element,templateSubscription)}},ko.jsonExpressionRewriting.bindingRewriteValidators.template=function(bindingValue){var parsedBindingValue=ko.jsonExpressionRewriting.parseObjectLiteral(bindingValue);return parsedBindingValue.length==1&&parsedBindingValue[0].unknown?null:ko.jsonExpressionRewriting.keyValueArrayContainsKey(parsedBindingValue,"name")?null:"This template engine does not support anonymous templates nested within its templates"},ko.virtualElements.allowedBindings.template=!0}(),ko.exportSymbol("setTemplateEngine",ko.setTemplateEngine),ko.exportSymbol("renderTemplate",ko.renderTemplate),function(){function calculateEditDistanceMatrix(oldArray,newArray,maxAllowedDistance){var distances=[];for(var i=0;i<=newArray.length;i++)distances[i]=[];for(var i=0,j=Math.min(oldArray.length,maxAllowedDistance);i<=j;i++)distances[0][i]=i;for(var i=1,j=Math.min(newArray.length,maxAllowedDistance);i<=j;i++)distances[i][0]=i;var oldIndex,oldIndexMax=oldArray.length,newIndex,newIndexMax=newArray.length,distanceViaAddition,distanceViaDeletion;for(oldIndex=1;oldIndex<=oldIndexMax;oldIndex++){var newIndexMinForRow=Math.max(1,oldIndex-maxAllowedDistance),newIndexMaxForRow=Math.min(newIndexMax,oldIndex+maxAllowedDistance);for(newIndex=newIndexMinForRow;newIndex<=newIndexMaxForRow;newIndex++)if(oldArray[oldIndex-1]===newArray[newIndex-1])distances[newIndex][oldIndex]=distances[newIndex-1][oldIndex-1];else{var northDistance=distances[newIndex-1][oldIndex]===undefined?Number.MAX_VALUE:distances[newIndex-1][oldIndex]+1,westDistance=distances[newIndex][oldIndex-1]===undefined?Number.MAX_VALUE:distances[newIndex][oldIndex-1]+1;distances[newIndex][oldIndex]=Math.min(northDistance,westDistance)}}return distances}function findEditScriptFromEditDistanceMatrix(editDistanceMatrix,oldArray,newArray){var oldIndex=oldArray.length,newIndex=newArray.length,editScript=[],maxDistance=editDistanceMatrix[newIndex][oldIndex];if(maxDistance===undefined)return null;while(oldIndex>0||newIndex>0){var me=editDistanceMatrix[newIndex][oldIndex],distanceViaAdd=newIndex>0?editDistanceMatrix[newIndex-1][oldIndex]:maxDistance+1,distanceViaDelete=oldIndex>0?editDistanceMatrix[newIndex][oldIndex-1]:maxDistance+1,distanceViaRetain=newIndex>0&&oldIndex>0?editDistanceMatrix[newIndex-1][oldIndex-1]:maxDistance+1;if(distanceViaAdd===undefined||distanceViaAdd<me-1)distanceViaAdd=maxDistance+1;if(distanceViaDelete===undefined||distanceViaDelete<me-1)distanceViaDelete=maxDistance+1;distanceViaRetain<me-1&&(distanceViaRetain=maxDistance+1),distanceViaAdd<=distanceViaDelete&&distanceViaAdd<distanceViaRetain?(editScript.push({status:"added",value:newArray[newIndex-1]}),newIndex--):distanceViaDelete<distanceViaAdd&&distanceViaDelete<distanceViaRetain?(editScript.push({status:"deleted",value:oldArray[oldIndex-1]}),oldIndex--):(editScript.push({status:"retained",value:oldArray[oldIndex-1]}),newIndex--,oldIndex--)}return editScript.reverse()}ko.utils.compareArrays=function(oldArray,newArray,maxEditsToConsider){if(maxEditsToConsider===undefined)return ko.utils.compareArrays(oldArray,newArray,1)||ko.utils.compareArrays(oldArray,newArray,10)||ko.utils.compareArrays(oldArray,newArray,Number.MAX_VALUE);oldArray=oldArray||[],newArray=newArray||[];var editDistanceMatrix=calculateEditDistanceMatrix(oldArray,newArray,maxEditsToConsider);return findEditScriptFromEditDistanceMatrix(editDistanceMatrix,oldArray,newArray)}}(),ko.exportSymbol("utils.compareArrays",ko.utils.compareArrays),function(){function fixUpVirtualElements(contiguousNodeArray){if(contiguousNodeArray.length>2){var current=contiguousNodeArray[0],last=contiguousNodeArray[contiguousNodeArray.length-1],newContiguousSet=[current];while(current!==last){current=current.nextSibling;if(!current)return;newContiguousSet.push(current)}Array.prototype.splice.apply(contiguousNodeArray,[0,contiguousNodeArray.length].concat(newContiguousSet))}}function mapNodeAndRefreshWhenChanged(containerNode,mapping,valueToMap,callbackAfterAddingNodes,index){var mappedNodes=[],dependentObservable=ko.dependentObservable(function(){var newMappedNodes=mapping(valueToMap,index)||[];mappedNodes.length>0&&(fixUpVirtualElements(mappedNodes),ko.utils.replaceDomNodes(mappedNodes,newMappedNodes),callbackAfterAddingNodes&&callbackAfterAddingNodes(valueToMap,newMappedNodes)),mappedNodes.splice(0,mappedNodes.length),ko.utils.arrayPushAll(mappedNodes,newMappedNodes)},null,{disposeWhenNodeIsRemoved:containerNode,disposeWhen:function(){return mappedNodes.length==0||!ko.utils.domNodeIsAttachedToDocument(mappedNodes[0])}});return{mappedNodes:mappedNodes,dependentObservable:dependentObservable}}var lastMappingResultDomDataKey="setDomNodeChildrenFromArrayMapping_lastMappingResult";ko.utils.setDomNodeChildrenFromArrayMapping=function(domNode,array,mapping,options,callbackAfterAddingNodes){array=array||[],options=options||{};var isFirstExecution=ko.utils.domData.get(domNode,lastMappingResultDomDataKey)===undefined,lastMappingResult=ko.utils.domData.get(domNode,lastMappingResultDomDataKey)||[],lastArray=ko.utils.arrayMap(lastMappingResult,function(x){return x.arrayEntry}),editScript=ko.utils.compareArrays(lastArray,array),newMappingResult=[],lastMappingResultIndex=0,nodesToDelete=[],newMappingResultIndex=0,nodesAdded=[],insertAfterNode=null;for(var i=0,j=editScript.length;i<j;i++)switch(editScript[i].status){case"retained":var dataToRetain=lastMappingResult[lastMappingResultIndex];dataToRetain.indexObservable(newMappingResultIndex),newMappingResultIndex=newMappingResult.push(dataToRetain),dataToRetain.domNodes.length>0&&(insertAfterNode=dataToRetain.domNodes[dataToRetain.domNodes.length-1]),lastMappingResultIndex++;break;case"deleted":lastMappingResult[lastMappingResultIndex].dependentObservable.dispose(),fixUpVirtualElements(lastMappingResult[lastMappingResultIndex].domNodes),ko.utils.arrayForEach(lastMappingResult[lastMappingResultIndex].domNodes,function(node){nodesToDelete.push({element:node,index:i,value:editScript[i].value}),insertAfterNode=node}),lastMappingResultIndex++;break;case"added":var valueToMap=editScript[i].value,indexObservable=ko.observable(newMappingResultIndex),mapData=mapNodeAndRefreshWhenChanged(domNode,mapping,valueToMap,callbackAfterAddingNodes,indexObservable),mappedNodes=mapData.mappedNodes;newMappingResultIndex=newMappingResult.push({arrayEntry:editScript[i].value,domNodes:mappedNodes,dependentObservable:mapData.dependentObservable,indexObservable:indexObservable});for(var nodeIndex=0,nodeIndexMax=mappedNodes.length;nodeIndex<nodeIndexMax;nodeIndex++){var node=mappedNodes[nodeIndex];nodesAdded.push({element:node,index:i,value:editScript[i].value}),insertAfterNode==null?ko.virtualElements.prepend(domNode,node):ko.virtualElements.insertAfter(domNode,node,insertAfterNode),insertAfterNode=node}callbackAfterAddingNodes&&callbackAfterAddingNodes(valueToMap,mappedNodes,indexObservable)}ko.utils.arrayForEach(nodesToDelete,function(node){ko.cleanNode(node.element)});var invokedBeforeRemoveCallback=!1;if(!isFirstExecution){if(options.afterAdd)for(var i=0;i<nodesAdded.length;i++)options.afterAdd(nodesAdded[i].element,nodesAdded[i].index,nodesAdded[i].value);if(options.beforeRemove){for(var i=0;i<nodesToDelete.length;i++)options.beforeRemove(nodesToDelete[i].element,nodesToDelete[i].index,nodesToDelete[i].value);invokedBeforeRemoveCallback=!0}}if(!invokedBeforeRemoveCallback&&nodesToDelete.length)for(var i=0;i<nodesToDelete.length;i++){var element=nodesToDelete[i].element;element.parentNode&&element.parentNode.removeChild(element)}ko.utils.domData.set(domNode,lastMappingResultDomDataKey,newMappingResult)}}(),ko.exportSymbol("utils.setDomNodeChildrenFromArrayMapping",ko.utils.setDomNodeChildrenFromArrayMapping),ko.nativeTemplateEngine=function(){this.allowTemplateRewriting=!1},ko.nativeTemplateEngine.prototype=new ko.templateEngine,ko.nativeTemplateEngine.prototype.renderTemplateSource=function(templateSource,bindingContext,options){var useNodesIfAvailable=!(ko.utils.ieVersion<9),templateNodesFunc=useNodesIfAvailable?templateSource.nodes:null,templateNodes=templateNodesFunc?templateSource.nodes():null;if(templateNodes)return ko.utils.makeArray(templateNodes.cloneNode(!0).childNodes);var templateText=templateSource.text();return ko.utils.parseHtmlFragment(templateText)},ko.nativeTemplateEngine.instance=new ko.nativeTemplateEngine,ko.setTemplateEngine(ko.nativeTemplateEngine.instance),ko.exportSymbol("nativeTemplateEngine",ko.nativeTemplateEngine),function(){ko.jqueryTmplTemplateEngine=function(){function ensureHasReferencedJQueryTemplates(){if(jQueryTmplVersion<2)throw new Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.")}function executeTemplate(compiledTemplate,data,jQueryTemplateOptions){return jQuery.tmpl(compiledTemplate,data,jQueryTemplateOptions)}var jQueryTmplVersion=this.jQueryTmplVersion=function(){if(typeof jQuery=="undefined"||!jQuery.tmpl)return 0;try{if(jQuery.tmpl.tag.tmpl.open.toString().indexOf("__")>=0)return 2}catch(ex){}return 1}();this.renderTemplateSource=function(templateSource,bindingContext,options){options=options||{},ensureHasReferencedJQueryTemplates();var precompiled=templateSource.data("precompiled");if(!precompiled){var templateText=templateSource.text()||"";templateText="{{ko_with $item.koBindingContext}}"+templateText+"{{/ko_with}}",precompiled=jQuery.template(null,templateText),templateSource.data("precompiled",precompiled)}var data=[bindingContext.$data],jQueryTemplateOptions=jQuery.extend({koBindingContext:bindingContext},options.templateOptions),resultNodes=executeTemplate(precompiled,data,jQueryTemplateOptions);return resultNodes.appendTo(document.createElement("div")),jQuery.fragments={},resultNodes},this.createJavaScriptEvaluatorBlock=function(script){return"{{ko_code ((function() { return "+script+" })()) }}"},this.addTemplate=function(templateName,templateMarkup){document.write("<script type='text/html' id='"+templateName+"'>"+templateMarkup+"</script>")},jQueryTmplVersion>0&&(jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},ko.jqueryTmplTemplateEngine.prototype=new ko.templateEngine;var jqueryTmplTemplateEngineInstance=new ko.jqueryTmplTemplateEngine;jqueryTmplTemplateEngineInstance.jQueryTmplVersion>0&&ko.setTemplateEngine(jqueryTmplTemplateEngineInstance),ko.exportSymbol("jqueryTmplTemplateEngine",ko.jqueryTmplTemplateEngine)}()})}(window,document,navigator),function(factory){typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?factory(require("knockout"),exports):typeof define=="function"&&define.amd?define("knockout.mapping",["knockout","exports"],factory):factory(ko,ko.mapping={})}(function(ko,exports){function unionArrays(x,y){var obj={};for(var i=x.length-1;i>=0;--i)obj[x[i]]=x[i];for(var i=y.length-1;i>=0;--i)obj[y[i]]=y[i];var res=[];for(var k in obj)res.push(obj[k]);return res}function extendObject(destination,source){for(var key in source)if(source.hasOwnProperty(key)&&source[key])if(key&&destination[key]&&exports.getType(destination[key])!=="array")extendObject(destination[key],source[key]);else{var bothArrays=exports.getType(destination[key])==="array"&&exports.getType(source[key])==="array";bothArrays?destination[key]=unionArrays(destination[key],source[key]):destination[key]=source[key]}}function merge(obj1,obj2){var merged={};return extendObject(merged,obj1),extendObject(merged,obj2),merged}function fillOptions(rawOptions,otherOptions){var options=merge({},rawOptions);for(var i=recognizedRootProperties.length-1;i>=0;i--){var property=recognizedRootProperties[i];if(!options[property])continue;options[""]instanceof Object||(options[""]={}),options[""][property]=options[property],delete options[property]}return otherOptions&&(options.ignore=mergeArrays(otherOptions.ignore,options.ignore),options.include=mergeArrays(otherOptions.include,options.include),options.copy=mergeArrays(otherOptions.copy,options.copy)),options.ignore=mergeArrays(options.ignore,defaultOptions.ignore),options.include=mergeArrays(options.include,defaultOptions.include),options.copy=mergeArrays(options.copy,defaultOptions.copy),options.mappedProperties=options.mappedProperties||{},options}function mergeArrays(a,b){return exports.getType(a)!=="array"&&(exports.getType(a)==="undefined"?a=[]:a=[a]),exports.getType(b)!=="array"&&(exports.getType(b)==="undefined"?b=[]:b=[b]),ko.utils.arrayGetDistinctValues(a.concat(b))}function withProxyDependentObservable(dependentObservables,callback){var localDO=ko.dependentObservable;ko.dependentObservable=function(read,owner,options){options=options||{},read&&typeof read=="object"&&(options=read);var realDeferEvaluation=options.deferEvaluation,isRemoved=!1,wrap=function(DO){var tmp=ko.dependentObservable;ko.dependentObservable=realKoDependentObservable;var isWriteable=ko.isWriteableObservable(DO);ko.dependentObservable=tmp;var wrapped=realKoDependentObservable({read:function(){return isRemoved||(ko.utils.arrayRemoveItem(dependentObservables,DO),isRemoved=!0),DO.apply(DO,arguments)},write:isWriteable&&function(val){return DO(val)},deferEvaluation:!0});return DEBUG&&(wrapped._wrapper=!0),wrapped};options.deferEvaluation=!0;var realDependentObservable=new realKoDependentObservable(read,owner,options);return realDeferEvaluation||(realDependentObservable=wrap(realDependentObservable),dependentObservables.push(realDependentObservable)),realDependentObservable},ko.dependentObservable.fn=realKoDependentObservable.fn,ko.computed=ko.dependentObservable;var result=callback();return ko.dependentObservable=localDO,ko.computed=ko.dependentObservable,result}function updateViewModel(mappedRootObject,rootObject,options,parentName,parent,parentPropertyName,mappedParent){var isArray=exports.getType(ko.utils.unwrapObservable(rootObject))==="array";parentPropertyName=parentPropertyName||"";if(exports.isMapped(mappedRootObject)){var previousMapping=ko.utils.unwrapObservable(mappedRootObject)[mappingProperty];options=merge(previousMapping,options)}var callbackParams={data:rootObject,parent:mappedParent},hasCreateCallback=function(){return options[parentName]&&options[parentName].create instanceof Function},createCallback=function(data){return withProxyDependentObservable(dependentObservables,function(){return ko.utils.unwrapObservable(parent)instanceof Array?options[parentName].create({data:data||callbackParams.data,parent:callbackParams.parent,skip:emptyReturn}):options[parentName].create({data:data||callbackParams.data,parent:callbackParams.parent})})},hasUpdateCallback=function(){return options[parentName]&&options[parentName].update instanceof Function},updateCallback=function(obj,data){var params={data:data||callbackParams.data,parent:callbackParams.parent,target:ko.utils.unwrapObservable(obj)};return ko.isWriteableObservable(obj)&&(params.observable=obj),options[parentName].update(params)},alreadyMapped=visitedObjects.get(rootObject);if(alreadyMapped)return alreadyMapped;parentName=parentName||"";if(!isArray)if(!canHaveProperties(rootObject))switch(exports.getType(rootObject)){case"function":hasUpdateCallback()?ko.isWriteableObservable(rootObject)?(rootObject(updateCallback(rootObject)),mappedRootObject=rootObject):mappedRootObject=updateCallback(rootObject):mappedRootObject=rootObject;break;default:if(ko.isWriteableObservable(mappedRootObject)){if(hasUpdateCallback()){var valueToWrite=updateCallback(mappedRootObject);return mappedRootObject(valueToWrite),valueToWrite}var valueToWrite=ko.utils.unwrapObservable(rootObject);return mappedRootObject(valueToWrite),valueToWrite}return hasCreateCallback()?(mappedRootObject=createCallback(),mappedRootObject):(mappedRootObject=ko.observable(ko.utils.unwrapObservable(rootObject)),mappedRootObject)}else{mappedRootObject=ko.utils.unwrapObservable(mappedRootObject);if(!mappedRootObject){if(hasCreateCallback()){var result=createCallback();return hasUpdateCallback()&&(result=updateCallback(result)),result}if(hasUpdateCallback())return updateCallback(result);mappedRootObject={}}hasUpdateCallback()&&(mappedRootObject=updateCallback(mappedRootObject)),visitedObjects.save(rootObject,mappedRootObject);if(hasUpdateCallback())return mappedRootObject;visitPropertiesOrArrayEntries(rootObject,function(indexer){var fullPropertyName=parentPropertyName.length?parentPropertyName+"."+indexer:indexer;if(ko.utils.arrayIndexOf(options.ignore,fullPropertyName)!=-1)return;if(ko.utils.arrayIndexOf(options.copy,fullPropertyName)!=-1){mappedRootObject[indexer]=rootObject[indexer];return}var prevMappedProperty=visitedObjects.get(rootObject[indexer]),retval=updateViewModel(mappedRootObject[indexer],rootObject[indexer],options,indexer,mappedRootObject,fullPropertyName,mappedRootObject),value=prevMappedProperty||retval;ko.isWriteableObservable(mappedRootObject[indexer])?mappedRootObject[indexer](ko.utils.unwrapObservable(value)):mappedRootObject[indexer]=value,options.mappedProperties[fullPropertyName]=!0})}else{var changes=[],hasKeyCallback=!1,keyCallback=function(x){return x};options[parentName]&&options[parentName].key&&(keyCallback=options[parentName].key,hasKeyCallback=!0),ko.isObservable(mappedRootObject)||(mappedRootObject=ko.observableArray([]),mappedRootObject.mappedRemove=function(valueOrPredicate){var predicate=typeof valueOrPredicate=="function"?valueOrPredicate:function(value){return value===keyCallback(valueOrPredicate)};return mappedRootObject.remove(function(item){return predicate(keyCallback(item))})},mappedRootObject.mappedRemoveAll=function(arrayOfValues){var arrayOfKeys=filterArrayByKey(arrayOfValues,keyCallback);return mappedRootObject.remove(function(item){return ko.utils.arrayIndexOf(arrayOfKeys,keyCallback(item))!=-1})},mappedRootObject.mappedDestroy=function(valueOrPredicate){var predicate=typeof valueOrPredicate=="function"?valueOrPredicate:function(value){return value===keyCallback(valueOrPredicate)};return mappedRootObject.destroy(function(item){return predicate(keyCallback(item))})},mappedRootObject.mappedDestroyAll=function(arrayOfValues){var arrayOfKeys=filterArrayByKey(arrayOfValues,keyCallback);return mappedRootObject.destroy(function(item){return ko.utils.arrayIndexOf(arrayOfKeys,keyCallback(item))!=-1})},mappedRootObject.mappedIndexOf=function(item){var keys=filterArrayByKey(mappedRootObject(),keyCallback),key=keyCallback(item);return ko.utils.arrayIndexOf(keys,key)},mappedRootObject.mappedCreate=function(value){if(mappedRootObject.mappedIndexOf(value)!==-1)throw new Error("There already is an object with the key that you specified.");var item=hasCreateCallback()?createCallback(value):value;if(hasUpdateCallback()){var newValue=updateCallback(item,value);ko.isWriteableObservable(item)?item(newValue):item=newValue}return mappedRootObject.push(item),item});var currentArrayKeys=filterArrayByKey(ko.utils.unwrapObservable(mappedRootObject),keyCallback).sort(),newArrayKeys=filterArrayByKey(rootObject,keyCallback);hasKeyCallback&&newArrayKeys.sort();var editScript=ko.utils.compareArrays(currentArrayKeys,newArrayKeys),ignoreIndexOf={},i,j,unwrappedRootObject=ko.utils.unwrapObservable(rootObject),itemsByKey={},optimizedKeys=!0;for(i=0,j=unwrappedRootObject.length;i<j;i++){var key=keyCallback(unwrappedRootObject[i]);if(key===undefined||key instanceof Object){optimizedKeys=!1;break}itemsByKey[key]=unwrappedRootObject[i]}var newContents=[],passedOver=0;for(i=0,j=editScript.length;i<j;i++){var key=editScript[i],mappedItem,fullPropertyName=parentPropertyName+"["+i+"]";switch(key.status){case"added":var item=optimizedKeys?itemsByKey[key.value]:getItemByKey(ko.utils.unwrapObservable(rootObject),key.value,keyCallback);mappedItem=updateViewModel(undefined,item,options,parentName,mappedRootObject,fullPropertyName,parent),hasCreateCallback()||(mappedItem=ko.utils.unwrapObservable(mappedItem));var index=ignorableIndexOf(ko.utils.unwrapObservable(rootObject),item,ignoreIndexOf);mappedItem===emptyReturn?passedOver++:newContents[index-passedOver]=mappedItem,ignoreIndexOf[index]=!0;break;case"retained":var item=optimizedKeys?itemsByKey[key.value]:getItemByKey(ko.utils.unwrapObservable(rootObject),key.value,keyCallback);mappedItem=getItemByKey(mappedRootObject,key.value,keyCallback),updateViewModel(mappedItem,item,options,parentName,mappedRootObject,fullPropertyName,parent);var index=ignorableIndexOf(ko.utils.unwrapObservable(rootObject),item,ignoreIndexOf);newContents[index]=mappedItem,ignoreIndexOf[index]=!0;break;case"deleted":mappedItem=getItemByKey(mappedRootObject,key.value,keyCallback)}changes.push({event:key.status,item:mappedItem})}mappedRootObject(newContents),options[parentName]&&options[parentName].arrayChanged&&ko.utils.arrayForEach(changes,function(change){options[parentName].arrayChanged(change.event,change.item)})}return mappedRootObject}function ignorableIndexOf(array,item,ignoreIndices){for(var i=0,j=array.length;i<j;i++){if(ignoreIndices[i]===!0)continue;if(array[i]===item)return i}return null}function mapKey(item,callback){var mappedItem;return callback&&(mappedItem=callback(item)),exports.getType(mappedItem)==="undefined"&&(mappedItem=item),ko.utils.unwrapObservable(mappedItem)}function getItemByKey(array,key,callback){array=ko.utils.unwrapObservable(array);for(var i=0,j=array.length;i<j;i++){var item=array[i];if(mapKey(item,callback)===key)return item}throw new Error("When calling ko.update*, the key '"+key+"' was not found!")}function filterArrayByKey(array,callback){return ko.utils.arrayMap(ko.utils.unwrapObservable(array),function(item){return callback?mapKey(item,callback):item})}function visitPropertiesOrArrayEntries(rootObject,visitorCallback){if(exports.getType(rootObject)==="array")for(var i=0;i<rootObject.length;i++)visitorCallback(i);else for(var propertyName in rootObject)visitorCallback(propertyName)}function canHaveProperties(object){var type=exports.getType(object);return(type==="object"||type==="array")&&object!==null}function getPropertyName(parentName,parent,indexer){var propertyName=parentName||"";return exports.getType(parent)==="array"?parentName&&(propertyName+="["+indexer+"]"):(parentName&&(propertyName+="."),propertyName+=indexer),propertyName}function simpleObjectLookup(){var keys=[],values=[];this.save=function(key,value){var existingIndex=ko.utils.arrayIndexOf(keys,key);existingIndex>=0?values[existingIndex]=value:(keys.push(key),values.push(value))},this.get=function(key){var existingIndex=ko.utils.arrayIndexOf(keys,key),value=existingIndex>=0?values[existingIndex]:undefined;return value}}function objectLookup(){var buckets={},findBucket=function(key){var bucketKey;try{bucketKey=key}catch(e){bucketKey="$$$"}var bucket=buckets[bucketKey];return bucket===undefined&&(bucket=new simpleObjectLookup,buckets[bucketKey]=bucket),bucket};this.save=function(key,value){findBucket(key).save(key,value)},this.get=function(key){return findBucket(key).get(key)}}var DEBUG=!0,mappingProperty="__ko_mapping__",realKoDependentObservable=ko.dependentObservable,mappingNesting=0,dependentObservables,visitedObjects,recognizedRootProperties=["create","update","key","arrayChanged"],emptyReturn={},_defaultOptions={include:["_destroy"],ignore:[],copy:[]},defaultOptions=_defaultOptions;exports.isMapped=function(viewModel){var unwrapped=ko.utils.unwrapObservable(viewModel);return unwrapped&&unwrapped[mappingProperty]},exports.fromJS=function(jsObject){if(arguments.length==0)throw new Error("When calling ko.fromJS, pass the object you want to convert.");window.setTimeout(function(){mappingNesting=0},0),mappingNesting++||(dependentObservables=[],visitedObjects=new objectLookup);var options,target;arguments.length==2&&(arguments[1][mappingProperty]?target=arguments[1]:options=arguments[1]),arguments.length==3&&(options=arguments[1],target=arguments[2]),target&&(options=merge(options,target[mappingProperty])),options=fillOptions(options);var result=updateViewModel(target,jsObject,options);return target&&(result=target),--mappingNesting||window.setTimeout(function(){while(dependentObservables.length){var DO=dependentObservables.pop();DO&&DO()}},0),result[mappingProperty]=merge(result[mappingProperty],options),result},exports.fromJSON=function(jsonString){var parsed=ko.utils.parseJson(jsonString);return arguments[0]=parsed,exports.fromJS.apply(this,arguments)},exports.updateFromJS=function(viewModel){throw new Error("ko.mapping.updateFromJS, use ko.mapping.fromJS instead. Please note that the order of parameters is different!")},exports.updateFromJSON=function(viewModel){throw new Error("ko.mapping.updateFromJSON, use ko.mapping.fromJSON instead. Please note that the order of parameters is different!")},exports.toJS=function(rootObject,options){defaultOptions||exports.resetDefaultOptions();if(arguments.length==0)throw new Error("When calling ko.mapping.toJS, pass the object you want to convert.");if(exports.getType(defaultOptions.ignore)!=="array")throw new Error("ko.mapping.defaultOptions().ignore should be an array.");if(exports.getType(defaultOptions.include)!=="array")throw new Error("ko.mapping.defaultOptions().include should be an array.");if(exports.getType(defaultOptions.copy)!=="array")throw new Error("ko.mapping.defaultOptions().copy should be an array.");return options=fillOptions(options,rootObject[mappingProperty]),exports.visitModel(rootObject,function(x){return ko.utils.unwrapObservable(x)},options)},exports.toJSON=function(rootObject,options){var plainJavaScriptObject=exports.toJS(rootObject,options);return ko.utils.stringifyJson(plainJavaScriptObject)},exports.defaultOptions=function(){if(!(arguments.length>0))return defaultOptions;defaultOptions=arguments[0]},exports.resetDefaultOptions=function(){defaultOptions={include:_defaultOptions.include.slice(0),ignore:_defaultOptions.ignore.slice(0),copy:_defaultOptions.copy.slice(0)}},exports.getType=function(x){if(x&&typeof x=="object"){if(x.constructor==(new Date).constructor)return"date";if(Object.prototype.toString.call(x)==="[object Array]")return"array"}return typeof x},exports.visitModel=function(rootObject,callback,options){options=options||{},options.visitedObjects=options.visitedObjects||new objectLookup;var mappedRootObject,unwrappedRootObject=ko.utils.unwrapObservable(rootObject);if(!canHaveProperties(unwrappedRootObject))return callback(rootObject,options.parentName);options=fillOptions(options,unwrappedRootObject[mappingProperty]),callback(rootObject,options.parentName),mappedRootObject=exports.getType(unwrappedRootObject)==="array"?[]:{},options.visitedObjects.save(rootObject,mappedRootObject);var parentName=options.parentName;return visitPropertiesOrArrayEntries(unwrappedRootObject,function(indexer){if(options.ignore&&ko.utils.arrayIndexOf(options.ignore,indexer)!=-1)return;var propertyValue=unwrappedRootObject[indexer];options.parentName=getPropertyName(parentName,unwrappedRootObject,indexer);if(ko.utils.arrayIndexOf(options.copy,indexer)===-1&&ko.utils.arrayIndexOf(options.include,indexer)===-1&&unwrappedRootObject[mappingProperty]&&unwrappedRootObject[mappingProperty].mappedProperties&&!unwrappedRootObject[mappingProperty].mappedProperties[indexer]&&exports.getType(unwrappedRootObject)!=="array")return;var outputProperty;switch(exports.getType(ko.utils.unwrapObservable(propertyValue))){case"object":case"array":case"undefined":var previouslyMappedValue=options.visitedObjects.get(propertyValue);mappedRootObject[indexer]=exports.getType(previouslyMappedValue)!=="undefined"?previouslyMappedValue:exports.visitModel(propertyValue,callback,options);break;default:mappedRootObject[indexer]=callback(propertyValue,options.parentName)}}),mappedRootObject}}),define("core",["utils","filters","knockout","knockout.mapping","jquery"],function(utils,filters,ko,komap,$){function koWidgetBindingInit(){function init(elem,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var val=valueAccessor(),widget=ko.utils.unwrapObservable(val.data);if(!utils.isWidget(widget))throw new TypeError("Model property is not widget!");if(val.type&&val.type!=widget._widgetName)throw new TypeError("Widget type is not equal to declaration! ("+val.type+" != "+widget._widgetName+")");return elem._widget=widget,ko.renderTemplate("main",bindingContext.extend({$data:widget,$root:widget,filters:filters,templates:widget.templates}),{},elem,"replaceChildren"),widget.domDestroy&&ko.utils.domNodeDisposal.addDisposeCallback(elem,function(){widget.domDestroy(elem,val),delete elem._widget}),widget.domInit&&widget.domInit(elem,val),{controlsDescendantBindings:!0}}function update(elem,valueAccessor,allBindingsAccessor,viewModel,bindingContext){var val=valueAccessor(),widget=ko.utils.unwrapObservable(val.data);elem._widget!==widget&&(elem._widget.domDestroy(elem,val),init(elem,valueAccessor,allBindingsAccessor,viewModel))}ko.bindingHandlers.widget={init:init,update:update},ko.virtualElements.allowedBindings.widget=!0}function koTemplateEngineInit(){var WidgetTemplate=function(template){this.name=template};WidgetTemplate.prototype.text=function(){return this.templates?this.templates[this.name]:""};var WidgetTemplateEngine=function(){WidgetTemplateEngine.super_.apply(this)};utils.inherits(WidgetTemplateEngine,ko.nativeTemplateEngine),WidgetTemplateEngine.prototype.makeTemplateSource=function(template){return new WidgetTemplate(template)},WidgetTemplateEngine.prototype._origRenderTemplateSource=WidgetTemplateEngine.prototype.renderTemplateSource,WidgetTemplateEngine.prototype.renderTemplateSource=function(templateSource,bindingContext,options){return templateSource.templates=bindingContext.templates,this._origRenderTemplateSource(templateSource,bindingContext,options)},ko.setTemplateEngine(new WidgetTemplateEngine)}function appInit(widget,doc){koWidgetBindingInit(),koTemplateEngineInit(),ko.applyBindings(widget,doc.documentElement),widget.domInit&&widget.domInit(doc.documentElement)}return{appInit:appInit}}),define("domReady",[],function(){function runCallbacks(callbacks){var i;for(i=0;i<callbacks.length;i++)callbacks[i](doc)}function callReady(){var callbacks=readyCalls;isPageLoaded&&callbacks.length&&(readyCalls=[],runCallbacks(callbacks))}function pageLoaded(){isPageLoaded||(isPageLoaded=!0,scrollIntervalId&&clearInterval(scrollIntervalId),callReady())}function domReady(callback){return isPageLoaded?callback(doc):readyCalls.push(callback),domReady}var isBrowser=typeof window!="undefined"&&window.document,isPageLoaded=!isBrowser,doc=isBrowser?document:null,readyCalls=[],isTop,testDiv,scrollIntervalId;if(isBrowser){if(document.addEventListener)document.addEventListener("DOMContentLoaded",pageLoaded,!1),window.addEventListener("load",pageLoaded,!1);else if(window.attachEvent){window.attachEvent("onload",pageLoaded),testDiv=document.createElement("div");try{isTop=window.frameElement===null}catch(e){}testDiv.doScroll&&isTop&&window.external&&(scrollIntervalId=setInterval(function(){try{testDiv.doScroll(),pageLoaded()}catch(e){}},30))}(document.readyState==="complete"||document.readyState==="interactive")&&pageLoaded()}return domReady.version="2.0.0",domReady.load=function(name,req,onLoad,config){config.isBuild?onLoad(null):domReady(onLoad)},domReady}),define("widget",{load:function(name,req,load,config){if(config.isBuild){var libs=["walk","domReady!","widgets/"+name+"/main","EventEmitter","utils"],fs=require.nodeRequire("fs"),path=require.nodeRequire("path");fs.readdirSync(path.dirname(req.toUrl("widgets/"+name+"/main"))).forEach(function(file){path.extname(file)==".html"&&libs.push("text!widgets/"+name+"/"+file)}),req(libs,function(){load()});return}req(["widgets/"+name+"/main","EventEmitter","utils"],function(widget,EventEmitter,utils){widget.prototype._widgetName=name,widget.prototype.templates?req(["walk","domReady!"],function(walk,doc){var tmpls=widget.prototype.templates,tmplHtml={},w=walk(tmplHtml);for(var i=0;i<tmpls.length;i++)(function(i){var node=doc.getElementById("template_"+name+"_"+tmpls[i]);node?(tmplHtml[tmpls[i]]=node.innerHTML,node.parentNode.removeChild(node)):w.step(function(step){req(["text!widgets/"+name+"/"+tmpls[i]+".html"],function(html){step.val[tmpls[i]]=html,step.next()})})})(i);w.wait(function(){widget.prototype.templates=tmplHtml,utils.extend(widget.prototype,EventEmitter.prototype),load(widget)})}):load(widget)})}}),function(global,undefined){function hasMicrosoftImplementation(){return!!global.msSetImmediate&&!!global.msClearImmediate}function canUseMessageChannel(){return!!global.MessageChannel}function canUsePostMessage(){if(!global.postMessage||global.importScripts)return!1;var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;return global.onmessage=function(){postMessageIsAsynchronous=!1},global.postMessage("","*"),global.onmessage=oldOnMessage,postMessageIsAsynchronous}function canUseReadyStateChange(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")}function aliasMicrosoftImplementation(attachTo){attachTo.setImmediate=global.msSetImmediate,attachTo.clearImmediate=global.msClearImmediate}function installMessageChannelImplementation(attachTo){var channel=new global.MessageChannel;channel.port1.onmessage=function(event){var handle=event.data;tasks.runIfPresent(handle)},attachTo.setImmediate=function(){var handle=tasks.addFromSetImmediateArguments(arguments);return channel.port2.postMessage(handle),handle}}function installPostMessageImplementation(attachTo){function isStringAndStartsWith(string,putativeStart){return typeof string=="string"&&string.substring(0,putativeStart.length)===putativeStart}function onGlobalMessage(event){if(event.source===global&&isStringAndStartsWith(event.data,MESSAGE_PREFIX)){var handle=event.data.substring(MESSAGE_PREFIX.length);tasks.runIfPresent(handle)}}var MESSAGE_PREFIX="com.bn.NobleJS.setImmediate"+Math.random();global.addEventListener?global.addEventListener("message",onGlobalMessage,!1):global.attachEvent("onmessage",onGlobalMessage),attachTo.setImmediate=function(){var handle=tasks.addFromSetImmediateArguments(arguments);return global.postMessage(MESSAGE_PREFIX+handle,"*"),handle}}function installReadyStateChangeImplementation(attachTo){attachTo.setImmediate=function(){var handle=tasks.addFromSetImmediateArguments(arguments),scriptEl=global.document.createElement("script");return scriptEl.onreadystatechange=function(){tasks.runIfPresent(handle),scriptEl.onreadystatechange=null,scriptEl.parentNode.removeChild(scriptEl),scriptEl=null},global.document.documentElement.appendChild(scriptEl),handle}}function installSetTimeoutImplementation(attachTo){attachTo.setImmediate=function(){var handle=tasks.addFromSetImmediateArguments(arguments);return global.setTimeout(function(){tasks.runIfPresent(handle)},0),handle}}var tasks=function(){function Task(handler,args){this.handler=handler,this.args=Array.prototype.slice.call(args)}Task.prototype.run=function(){if(typeof this.handler=="function")this.handler.apply(undefined,this.args);else{var scriptSource=""+this.handler;eval(scriptSource)}};var nextHandle=1,tasksByHandle={},currentlyRunningATask=!1;return{addFromSetImmediateArguments:function(args){var handler=args[0],argsToHandle=Array.prototype.slice.call(args,1),task=new Task(handler,argsToHandle),thisHandle=nextHandle++;return tasksByHandle[thisHandle]=task,thisHandle},runIfPresent:function(handle){if(!currentlyRunningATask){var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{task.run()}finally{delete tasksByHandle[handle],currentlyRunningATask=!1}}}else global.setTimeout(function(){tasks.runIfPresent(handle)},0)},remove:function(handle){delete tasksByHandle[handle]}}}();if(!global.setImmediate){var attachTo=typeof Object.getPrototypeOf=="function"&&"setTimeout"in Object.getPrototypeOf(global)?Object.getPrototypeOf(global):global;hasMicrosoftImplementation()?aliasMicrosoftImplementation(attachTo):(canUsePostMessage()?installPostMessageImplementation(attachTo):canUseMessageChannel()?installMessageChannelImplementation(attachTo):canUseReadyStateChange()?installReadyStateChangeImplementation(attachTo):installSetTimeoutImplementation(attachTo),attachTo.clearImmediate=tasks.remove)}}(this),define("setImmediate",function(global){return function(){return global.window.setImmediate}}(this)),define("walk",["setImmediate"],function(setImmediate){function Walk(val){this._task={procs:[]},this._lastTask=this._task,this._count=0,this._val=val,this._errProcs=[]}function walk(val){return new Walk(val)}var nextTick=setImmediate;return Walk.prototype._updateTasks=function(){function procWrap(){var stepData={walk:self,val:self._val};stepData.next=function(err){if(self._err)return;err?self._err=err:(self._val=stepData.val,self._count--),self._updateTasks()},this.call(stepData,stepData)}if(this._err){for(var i=0;i<this._errProcs.length;i++)this._count++,nextTick(this._errProcs[i].bind(this,this._err));this._errProcs=[];return}var self=this;for(var i=0;i<this._task.procs.length;i++)this._count++,nextTick(procWrap.bind(this._task.procs[i]));this._task.procs=[],!this._count&&this._task.next&&(this._task=this._task.next,this._updateTasks())},Walk.prototype.step=function(proc){return this._err?this:(this._lastTask.procs.push(proc),this._updateTasks(),this)},Walk.prototype._waitPrevTask=function(){var prevTask=this._lastTask;return this._lastTask={procs:[]},prevTask.next=this._lastTask,this},Walk.prototype.error=function(proc){return this._errProcs.push(proc),this._updateTasks(),this},Walk.prototype.wait=function(proc){return this._err?this:(this._waitPrevTask(),proc&&(this.step(proc),this._waitPrevTask()),this)},walk}),define("widgets/Button/main",["knockout"],function(ko){var Button=function(){this.title=ko.observable("...")};return Button.prototype.domInit=function(elem,params){params.title&&this.title(params.title)},Button.prototype.click=function(){this.emit("click")},Button.prototype.templates=["main"],Button}),define("EventEmitter",[],function(){var EventsEmitter=function(){};return EventsEmitter.prototype.listeners=function(type){return!this._listeners||!this._listeners[type]?[]:this._listeners[type]},EventsEmitter.prototype.removeListener=function(type,proc){if(!this._listeners||!this._listeners[type])return this;var listeners=this._listeners[type],i=listeners.indexOf(proc);return i!=-1&&listeners.splice(i,1),this},EventsEmitter.prototype.on=function(type,proc){return this._listeners||(this._listeners={}),this._listeners[type]||(this._listeners[type]=[]),this._listeners[type].push(proc),this},EventsEmitter.prototype.emit=function(type){if(this._listeners&&this._listeners[type]){var listeners=this._listeners[type],args=Array.prototype.slice.call(arguments,1);for(var i=0;i<listeners.length;i++)listeners[i].apply(this,args)}return this},EventsEmitter}),define("text",["module"],function(module){var progIds=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],xmlRegExp=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,bodyRegExp=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,hasLocation=typeof location!="undefined"&&location.href,defaultProtocol=hasLocation&&location.protocol&&location.protocol.replace(/\:/,""),defaultHostName=hasLocation&&location.hostname,defaultPort=hasLocation&&(location.port||undefined),buildMap=[],masterConfig=module.config(),text,fs;return text={version:"2.0.0",strip:function(content){if(content){content=content.replace(xmlRegExp,"");var matches=content.match(bodyRegExp);matches&&(content=matches[1])}else content="";return content},jsEscape:function(content){return content.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")},createXhr:function(){var xhr,i,progId;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(i=0;i<3;i++){progId=progIds[i];try{xhr=new ActiveXObject(progId)}catch(e){}if(xhr){progIds=[progId];break}}return xhr},parseName:function(name){var strip=!1,index=name.indexOf("."),modName=name.substring(0,index),ext=name.substring(index+1,name.length);return index=ext.indexOf("!"),index!==-1&&(strip=ext.substring(index+1,ext.length),strip=strip==="strip",ext=ext.substring(0,index)),{moduleName:modName,ext:ext,strip:strip}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(url,protocol,hostname,port){var match=text.xdRegExp.exec(url),uProtocol,uHostName,uPort;return match?(uProtocol=match[2],uHostName=match[3],uHostName=uHostName.split(":"),uPort=uHostName[1],uHostName=uHostName[0],(!uProtocol||uProtocol===protocol)&&(!uHostName||uHostName===hostname)&&(!uPort&&!uHostName||uPort===port)):!0},finishLoad:function(name,strip,content,onLoad){content=strip?text.strip(content):content,masterConfig.isBuild&&(buildMap[name]=content),onLoad(content)},load:function(name,req,onLoad,config){if(config.isBuild&&!config.inlineText){onLoad();return}masterConfig.isBuild=config.isBuild;var parsed=text.parseName(name),nonStripName=parsed.moduleName+"."+parsed.ext,url=req.toUrl(nonStripName),useXhr=masterConfig.useXhr||text.useXhr;!hasLocation||useXhr(url,defaultProtocol,defaultHostName,defaultPort)?text.get(url,function(content){text.finishLoad(name,parsed.strip,content,onLoad)},function(err){onLoad.error&&onLoad.error(err)}):req([nonStripName],function(content){text.finishLoad(parsed.moduleName+"."+parsed.ext,parsed.strip,content,onLoad)})},write:function(pluginName,moduleName,write,config){if(buildMap.hasOwnProperty(moduleName)){var content=text.jsEscape(buildMap[moduleName]);write.asModule(pluginName+"!"+moduleName,"define(function () { return '"+content+"';});\n")}},writeFile:function(pluginName,moduleName,req,write,config){var parsed=text.parseName(moduleName),nonStripName=parsed.moduleName+"."+parsed.ext,fileName=req.toUrl(parsed.moduleName+"."+parsed.ext)+".js";text.load(nonStripName,req,function(value){var textWrite=function(contents){return write(fileName,contents)};textWrite.asModule=function(moduleName,contents){return write.asModule(moduleName,fileName,contents)},text.write(pluginName,nonStripName,textWrite,config)},config)}},typeof process!="undefined"&&process.versions&&!!process.versions.node?(fs=require.nodeRequire("fs"),text.get=function(url,callback){var file=fs.readFileSync(url,"utf8");file.indexOf("﻿")===0&&(file=file.substring(1)),callback(file)}):text.createXhr()?text.get=function(url,callback,errback){var xhr=text.createXhr();xhr.open("GET",url,!0),masterConfig.onXhr&&masterConfig.onXhr(xhr,url),xhr.onreadystatechange=function(evt){var status,err;xhr.readyState===4&&(status=xhr.status,status>399&&status<600?(err=new Error(url+" HTTP status: "+status),err.xhr=xhr,errback(err)):callback(xhr.responseText))},xhr.send(null)}:typeof Packages!="undefined"&&(text.get=function(url,callback){var encoding="utf-8",file=new java.io.File(url),lineSeparator=java.lang.System.getProperty("line.separator"),input=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file),encoding)),stringBuffer,line,content="";try{stringBuffer=new java.lang.StringBuffer,line=input.readLine(),line&&line.length()&&line.charAt(0)===65279&&(line=line.substring(1)),stringBuffer.append(line);while((line=input.readLine())!==null)stringBuffer.append(lineSeparator),stringBuffer.append(line);content=String(stringBuffer.toString())}finally{input.close()}callback(content)}),text}),define("text!widgets/Button/main.html",[],function(){return'<button data-bind="text: title, click: click"/>'}),define("async",[],function(){function injectScript(src){var s,t;s=document.createElement("script"),s.type="text/javascript",s.async=!0,s.src=src,t=document.getElementsByTagName("script")[0],t.parentNode.insertBefore(s,t)}function formatUrl(name,id){var paramRegex=/!(.+)/,url=name.replace(paramRegex,""),param=paramRegex.test(name)?name.replace(/.+!/,""):DEFAULT_PARAM_NAME;return url+=url.indexOf("?")<0?"?":"&",url+param+"="+id}function uid(){return _uid+=1,"__async_req_"+_uid+"__"}var DEFAULT_PARAM_NAME="callback",_uid=0;return{load:function(name,req,onLoad,config){if(config.isBuild)onLoad(null);else{var id=uid();window[id]=onLoad,injectScript(formatUrl(name,id))}}}}),define("google.maps",["async!http://maps.google.com/maps/api/js?sensor=false"],function(){return google.maps}),define("widgets/GoogleMap/main",["knockout","google.maps","utils","EventEmitter"],function(ko,gmaps,utils,EventEmitter){var MapFloatElem=function(params){this._params=params};MapFloatElem.prototype=new gmaps.OverlayView,MapFloatElem.prototype.onRemove=function(){ko.cleanNode(this._div),this._div.parentNode.removeChild(this._div)},MapFloatElem.prototype.draw=function(){if(!this._coords)return;var proj=this.getProjection();if(!proj)return;var coords=proj.fromLatLngToDivPixel(this._coords);this._div.style.left=coords.x+"px",this._div.style.top=coords.y+"px"},MapFloatElem.prototype.onAdd=function(){var div=document.createElement("div");div.style.position="absolute",div.style.left="99999px",div.style.top="99999px",div.innerHTML=this._params.template;var panes=this.getPanes();panes.floatPane.appendChild(div),this._div=div,ko.applyBindings(this._params.data,div)},MapFloatElem.prototype.move=function(coords){this._coords=coords,this.draw()};var Ufo=function(params){this._params=params,this._track=new gmaps.Polyline({strokeColor:params.color,strokeOpacity:1,strokeWeight:1}),this._path=this._track.getPath(),this._pathTime=[],this._marker=new gmaps.Marker({flat:!0,title:params.title}),this._titleElem=new MapFloatElem({template:params.titleTemplate,data:{title:params.title,color:params.color}}),this._hintTitleHide=params.hintTitleHide};utils.extend(Ufo.prototype,EventEmitter.prototype),Ufo.prototype.icon=function(params){return this._marker.setIcon(new gmaps.MarkerImage(params.url,new gmaps.Size(params.width,params.height),new gmaps.Point(0,0),new gmaps.Point(params.x,params.y))),this},Ufo.prototype._visibilityUpdate=function(){this._track.setMap(this._visible&&this._trackVisible?this._params.map:null),this._marker.setMap(this._visible?this._params.map:null),this._titleElem.setMap(this._visible&&this._titleVisible&&!this._hintTitleHide?this._params.map:null)},Ufo.prototype.move=function(coords){if(this._coords&&this._coords.lat==coords.lat&&this._coords.lng==coords.lat)return;var latLng=new gmaps.LatLng(coords.lat,coords.lng);return this._coords=latLng,this._path.push(latLng),this._pathTime.push(coords.time),this._path.getLength()>2e3&&(this._path.removeAt(0),this._pathTime.splice(0,1)),this._marker.setPosition(latLng),this._titleElem.move(latLng),this},Ufo.prototype.trackFilter=function(time){var self=this,delNum=0;this._pathTime.every(function(item){var deleted=item<=time;return deleted&&(delNum++,self._path.removeAt(0)),deleted}),delNum&&self._pathTime.splice(0,delNum)},Ufo.prototype.visible=function(flag){return this._visible!=flag&&(this._visible=flag,this._visibilityUpdate()),this},Ufo.prototype.trackVisible=function(flag){return this._trackVisible!=flag&&(this._trackVisible=flag,this._visibilityUpdate()),this},Ufo.prototype.titleVisible=function(flag){return this._titleVisible!=flag&&(this._titleVisible=flag,this._visibilityUpdate()),this},Ufo.prototype.hintTitleHide=function(flag){return this._hintTitleHide!=flag&&(this._hintTitleHide=flag,this._visibilityUpdate()),this},Ufo.prototype.destroy=function(flag){this._track.setMap(null),this._titleElem.setMap(null),this._marker.setMap(null),this.emit("destroy")};var Waypoint=function(map,params){this._params=params;var coords=new gmaps.LatLng(params.lat,params.lng),color;switch(params.type){case"start":color="#FF0000";break;case"waypoint":color="#00FF00";break;case"finish":color="#0000FF";break;default:throw new Error("GoogleMap: type of waypoint is invalid!")}var circle=new gmaps.Circle({strokeColor:color,strokeOpacity:.8,strokeWeight:1,fillColor:color,fillOpacity:.2,map:map,center:coords,radius:params.radius});this.circleBounds=circle.getBounds(),this._titleElem=new MapFloatElem({template:params.titleTemplate,data:{title:params.title,color:color}}),this._titleElem.setMap(map),this._titleElem.move(this.circleBounds.getNorthEast())},GoogleMap=function(){function updateSize(){self.map&&gmaps.event.trigger(self.map,"resize")}this.width=ko.observable("320px"),this.height=ko.observable("240px");var self=this;this.width.subscribe(updateSize),this.height.subscribe(updateSize),this._ufos=[],this._titlesHideByZoom=!0};return GoogleMap.prototype.domInit=function(elem,params){params.width&&this.width(params.width),params.height&&this.height(params.height);var div=ko.virtualElements.firstChild(elem);while(div&&div.nodeType!=1)div=ko.virtualElements.nextSibling(div);ko.virtualElements.prepend(elem,div),this._map=new gmaps.Map(div,{zoom:8,center:new gmaps.LatLng(55.748758,37.6174),mapTypeId:gmaps.MapTypeId.TERRAIN}),gmaps.event.addListener(this._map,"zoom_changed",this._zoomedUpdate.bind(this)),this._zoomedUpdate()},GoogleMap.prototype._zoomedUpdate=function(){this._zoomed=this._map.getZoom()>11,this._hintsUpdate()},GoogleMap.prototype._hintsUpdate=function(){var flag=this._titlesHideByZoom&&!this._zoomed;if(this._hintsUpdateFlag!=flag){this._hintsUpdateFlag=flag;var self=this;this._ufos.forEach(function(ufo){ufo.hintTitleHide(self._titlesHideByZoom&&!self._zoomed)})}},GoogleMap.prototype.titlesHideByZoom=function(flag){this._titlesHideByZoom=flag,this._hintsUpdate()},GoogleMap.prototype.domDestroy=function(elem,params){delete this._map},GoogleMap.prototype.waypoints=function(waypoints){var self=this,track=new gmaps.Polyline({strokeColor:"#FF0000",strokeWeight:1,map:this._map,strokeOpacity:0,icons:[{icon:{path:"M 0,-1 0,1",strokeOpacity:.8,strokeWeight:2},offset:"0",repeat:"6px"}]}),path=track.getPath(),centered=!1;this._waypoints=[];var bounds=new gmaps.LatLngBounds;waypoints.forEach(function(wpParams){var coords=new gmaps.LatLng(wpParams.lat,wpParams.lng);centered||(self._map.setCenter(coords),centered=!0);var params=wpParams;params.titleTemplate=self.templates.waypointTitle;var wp=new Waypoint(self._map,params);bounds=bounds.union(wp.circleBounds),self._waypoints.push(wp),path.push(coords)}),this._map.fitBounds(bounds)},GoogleMap.prototype.ufo=function(params){var ufo=new Ufo({map:this._map,title:params.title,color:params.color,titleTemplate:this.templates.markerTitle,hintTitleHide:this._titlesHideByZoom&&!this._zoomed});this._ufos.push(ufo);var self=this;return ufo.on("destroy",function(){var i=self._ufos.indexOf(ufo);i!=-1&&self._ufos.splice(i,1)}),ufo},GoogleMap.prototype.templates=["main","markerTitle","waypointTitle"],GoogleMap}),define("text!widgets/GoogleMap/markerTitle.html",[],function(){return'<div style="white-space: nowrap;" data-bind="text: title, style: {color: color}"></div>'}),define("text!widgets/GoogleMap/waypointTitle.html",[],function(){return'<div style="white-space: nowrap; font-weight: bold;" data-bind="text: title, style: {color: color}"></div>'}),define("text!widgets/GoogleMap/main.html",[],function(){return'<div data-bind="style: { width: width(), height: height() }"></div>'}),function($,undefined){function focusable(element,isTabIndexNotNaN){var nodeName=element.nodeName.toLowerCase();if("area"===nodeName){var map=element.parentNode,mapName=map.name,img;return!element.href||!mapName||map.nodeName.toLowerCase()!=="map"?!1:(img=$("img[usemap=#"+mapName+"]")[0],!!img&&visible(img))}return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"==nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element)}function visible(element){return!$(element).parents().andSelf().filter(function(){return $.curCSS(this,"visibility")==="hidden"||$.expr.filters.hidden(this)}).length}$.ui=$.ui||{};if($.ui.version)return;$.extend($.ui,{version:"1.8.23",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),$.fn.extend({propAttr:$.fn.prop||$.fn.attr,_focus:$.fn.focus,focus:function(delay,fn){return typeof delay=="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus(),fn&&fn.call(elem)},delay)}):this._focus.apply(this,arguments)},scrollParent:function(){var scrollParent;return $.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?scrollParent=this.parents().filter(function(){return/(relative|absolute|fixed)/.test($.curCSS(this,"position",1))&&/(auto|scroll)/.test($.curCSS(this,"overflow",1)+$.curCSS(this,"overflow-y",1)+$.curCSS(this,"overflow-x",1))}).eq(0):scrollParent=this.parents().filter(function(){return/(auto|scroll)/.test($.curCSS(this,"overflow",1)+$.curCSS(this,"overflow-y",1)+$.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!scrollParent.length?$(document):scrollParent},zIndex:function(zIndex){if(zIndex!==undefined)return this.css("zIndex",zIndex);if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0)return value}elem=elem.parent()}}return 0},disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(event){event.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),$("<a>").outerWidth(1).jquery||$.each(["Width","Height"],function(i,name){function reduce(elem,size,border,margin){return $.each(side,function(){size-=parseFloat($.curCSS(elem,"padding"+this,!0))||0,border&&(size-=parseFloat($.curCSS(elem,"border"+this+"Width",!0))||0),margin&&(size-=parseFloat($.curCSS(elem,"margin"+this,!0))||0)}),size}var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};$.fn["inner"+name]=function(size){return size===undefined?orig["inner"+name].call(this):this.each(function(){$(this).css(type,reduce(this,size)+"px")})},$.fn["outer"+name]=function(size,margin){return typeof size!="number"?orig["outer"+name].call(this,size):this.each(function(){$(this).css(type,reduce(this,size,!0,margin)+"px")})}}),$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName)}}):function(elem,i,match){return!!$.data(elem,match[3])},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")))},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN)}}),$(function(){var body=document.body,div=body.appendChild(div=document.createElement("div"));div.offsetHeight,$.extend(div.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),$.support.minHeight=div.offsetHeight===100,$.support.selectstart="onselectstart"in div,body.removeChild(div).style.display="none"}),$.curCSS||($.curCSS=$.css),$.extend($.ui,{plugin:{add:function(module,option,set){var proto=$.ui[module].prototype;for(var i in set)proto.plugins[i]=proto.plugins[i]||[],proto.plugins[i].push([option,set[i]])},call:function(instance,name,args){var set=instance.plugins[name];if(!set||!instance.element[0].parentNode)return;for(var i=0;i<set.length;i++)instance.options[set[i][0]]&&set[i][1].apply(instance.element,args)}},contains:function(a,b){return document.compareDocumentPosition?a.compareDocumentPosition(b)&16:a!==b&&a.contains(b)},hasScroll:function(el,a){if($(el).css("overflow")==="hidden")return!1;var scroll=a&&a==="left"?"scrollLeft":"scrollTop",has=!1;return el[scroll]>0?!0:(el[scroll]=1,has=el[scroll]>0,el[scroll]=0,has)},isOverAxis:function(x,reference,size){return x>reference&&x<reference+size},isOver:function(y,x,top,left,height,width){return $.ui.isOverAxis(y,top,height)&&$.ui.isOverAxis(x,left,width)}})}(jQuery),function($,undefined){if($.cleanData){var _cleanData=$.cleanData;$.cleanData=function(elems){for(var i=0,elem;(elem=elems[i])!=null;i++)try{$(elem).triggerHandler("remove")}catch(e){}_cleanData(elems)}}else{var _remove=$.fn.remove;$.fn.remove=function(selector,keepData){return this.each(function(){return keepData||(!selector||$.filter(selector,[this]).length)&&$("*",this).add([this]).each(function(){try{$(this).triggerHandler("remove")}catch(e){}}),_remove.call($(this),selector,keepData)})}}$.widget=function(name,base,prototype){var namespace=name.split(".")[0],fullName;name=name.split(".")[1],fullName=namespace+"-"+name,prototype||(prototype=base,base=$.Widget),$.expr[":"][fullName]=function(elem){return!!$.data(elem,name)},$[namespace]=$[namespace]||{},$[namespace][name]=function(options,element){arguments.length&&this._createWidget(options,element)};var basePrototype=new base;basePrototype.options=$.extend(!0,{},basePrototype.options),$[namespace][name].prototype=$.extend(!0,basePrototype,{namespace:namespace,widgetName:name,widgetEventPrefix:$[namespace][name].prototype.widgetEventPrefix||name,widgetBaseClass:fullName},prototype),$.widget.bridge(name,$[namespace][name])},$.widget.bridge=function(name,object){$.fn[name]=function(options){var isMethodCall=typeof options=="string",args=Array.prototype.slice.call(arguments,1),returnValue=this;return options=!isMethodCall&&args.length?$.extend.apply(null,[!0,options].concat(args)):options,isMethodCall&&options.charAt(0)==="_"?returnValue:(isMethodCall?this.each(function(){var instance=$.data(this,name),methodValue=instance&&$.isFunction(instance[options])?instance[options].apply(instance,args):instance;if(methodValue!==instance&&methodValue!==undefined)return returnValue=methodValue,!1}):this.each(function(){var instance=$.data(this,name);instance?instance.option(options||{})._init():$.data(this,name,new object(options,this))}),returnValue)}},$.Widget=function(options,element){arguments.length&&this._createWidget(options,element)},$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(options,element){$.data(element,this.widgetName,this),this.element=$(element),this.options=$.extend(!0,{},this.options,this._getCreateOptions(),options);var self=this;this.element.bind("remove."+this.widgetName,function(){self.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return $.metadata&&$.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled "+"ui-state-disabled")},widget:function(){return this.element},option:function(key,value){var options=key;if(arguments.length===0)return $.extend({},this.options);if(typeof key=="string"){if(value===undefined)return this.options[key];options={},options[key]=value}return this._setOptions(options),this},_setOptions:function(options){var self=this;return $.each(options,function(key,value){self._setOption(key,value)}),this},_setOption:function(key,value){return this.options[key]=value,key==="disabled"&&this.widget()[value?"addClass":"removeClass"](this.widgetBaseClass+"-disabled"+" "+"ui-state-disabled").attr("aria-disabled",value),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{},event=$.Event(event),event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase(),event.target=this.element[0],orig=event.originalEvent;if(orig)for(prop in orig)prop in event||(event[prop]=orig[prop]);return this.element.trigger(event,data),!($.isFunction(callback)&&callback.call(this.element[0],event,data)===!1||event.isDefaultPrevented())}}}(jQuery),function($,undefined){var mouseHandled=!1;$(document).mouseup(function(e){mouseHandled=!1}),$.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var self=this;this.element.bind("mousedown."+this.widgetName,function(event){return self._mouseDown(event)}).bind("click."+this.widgetName,function(event){if(!0===$.data(event.target,self.widgetName+".preventClickEvent"))return $.removeData(event.target,self.widgetName+".preventClickEvent"),event.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(event){if(mouseHandled)return;this._mouseStarted&&this._mouseUp(event),this._mouseDownEvent=event;var self=this,btnIsLeft=event.which==1,elIsCancel=typeof this.options.cancel=="string"&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:!1;if(!btnIsLeft||elIsCancel||!this._mouseCapture(event))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){self.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=this._mouseStart(event)!==!1;if(!this._mouseStarted)return event.preventDefault(),!0}return!0===$.data(event.target,this.widgetName+".preventClickEvent")&&$.removeData(event.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(event){return self._mouseMove(event)},this._mouseUpDelegate=function(event){return self._mouseUp(event)},$(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),event.preventDefault(),mouseHandled=!0,!0},_mouseMove:function(event){return!$.browser.msie||document.documentMode>=9||!!event.button?this._mouseStarted?(this._mouseDrag(event),event.preventDefault()):(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,event)!==!1,this._mouseStarted?this._mouseDrag(event):this._mouseUp(event)),!this._mouseStarted):this._mouseUp(event)},_mouseUp:function(event){return $(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,event.target==this._mouseDownEvent.target&&$.data(event.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(event)),!1},_mouseDistanceMet:function(event){return Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance},_mouseDelayMet:function(event){return this.mouseDelayMet},_mouseStart:function(event){},_mouseDrag:function(event){},_mouseStop:function(event){},_mouseCapture:function(event){return!0}})}(jQuery),function($,undefined){var numPages=5;$.widget("ui.slider",$.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var self=this,o=this.options,existingHandles=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),handle="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",handleCount=o.values&&o.values.length||1,handles=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"+(o.disabled?" ui-slider-disabled ui-disabled":"")),this.range=$([]),o.range&&(o.range===!0&&(o.values||(o.values=[this._valueMin(),this._valueMin()]),o.values.length&&o.values.length!==2&&(o.values=[o.values[0],o.values[0]])),this.range=$("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(o.range==="min"||o.range==="max"?" ui-slider-range-"+o.range:"")));for(var i=existingHandles.length;i<handleCount;i+=1)handles.push(handle);this.handles=existingHandles.add($(handles.join("")).appendTo(self.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(event){event.preventDefault()}).hover(function(){o.disabled||$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).focus(function(){o.disabled?$(this).blur():($(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),$(this).addClass("ui-state-focus"))}).blur(function(){$(this).removeClass("ui-state-focus")}),this.handles.each(function(i){$(this).data("index.ui-slider-handle",i)}),this.handles.keydown(function(event){var index=$(this).data("index.ui-slider-handle"),allowed,curVal,newVal,step;if(self.options.disabled)return;switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:event.preventDefault();if(!self._keySliding){self._keySliding=!0,$(this).addClass("ui-state-active"),allowed=self._start(event,index);if(allowed===!1)return}}step=self.options.step,self.options.values&&self.options.values.length?curVal=newVal=self.values(index):curVal=newVal=self.value();switch(event.keyCode){case $.ui.keyCode.HOME:newVal=self._valueMin();break;case $.ui.keyCode.END:newVal=self._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=self._trimAlignValue(curVal+(self._valueMax()-self._valueMin())/numPages);break;case $.ui.keyCode.PAGE_DOWN:newVal=self._trimAlignValue(curVal-(self._valueMax()-self._valueMin())/numPages);break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===self._valueMax())return;newVal=self._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===self._valueMin())return;newVal=self._trimAlignValue(curVal-step)}self._slide(event,index,newVal)}).keyup(function(event){var index=$(this).data("index.ui-slider-handle");self._keySliding&&(self._keySliding=!1,self._stop(event,index),self._change(event,index),$(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(event){var o=this.options,position,normValue,distance,closestHandle,self,index,allowed,offset,mouseOverHandle;return o.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position),distance=this._valueMax()-this._valueMin()+1,self=this,this.handles.each(function(i){var thisDistance=Math.abs(normValue-self.values(i));distance>thisDistance&&(distance=thisDistance,closestHandle=$(this),index=i)}),o.range===!0&&this.values(1)===o.min&&(index+=1,closestHandle=$(this.handles[index])),allowed=this._start(event,index),allowed===!1?!1:(this._mouseSliding=!0,self._handleIndex=index,closestHandle.addClass("ui-state-active").focus(),offset=closestHandle.offset(),mouseOverHandle=!$(event.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-closestHandle.width()/2,top:event.pageY-offset.top-closestHandle.height()/2-(parseInt(closestHandle.css("borderTopWidth"),10)||0)-(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+(parseInt(closestHandle.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(event,index,normValue),this._animateOff=!0,!0))},_mouseStart:function(event){return!0},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);return this._slide(event,this._handleIndex,normValue),!1},_mouseStop:function(event){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(event,this._handleIndex),this._change(event,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;return this.orientation==="horizontal"?(pixelTotal=this.elementSize.width,pixelMouse=position.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(pixelTotal=this.elementSize.height,pixelMouse=position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),percentMouse=pixelMouse/pixelTotal,percentMouse>1&&(percentMouse=1),percentMouse<0&&(percentMouse=0),this.orientation==="vertical"&&(percentMouse=1-percentMouse),valueTotal=this._valueMax()-this._valueMin(),valueMouse=this._valueMin()+percentMouse*valueTotal,this._trimAlignValue(valueMouse)},_start:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};return this.options.values&&this.options.values.length&&(uiHash.value=this.values(index),uiHash.values=this.values()),this._trigger("start",event,uiHash)},_slide:function(event,index,newVal){var otherVal,newValues,allowed;this.options.values&&this.options.values.length?(otherVal=this.values(index?0:1),this.options.values.length===2&&this.options.range===!0&&(index===0&&newVal>otherVal||index===1&&newVal<otherVal)&&(newVal=otherVal),newVal!==this.values(index)&&(newValues=this.values(),newValues[index]=newVal,allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal,values:newValues}),otherVal=this.values(index?0:1),allowed!==!1&&this.values(index,newVal,!0))):newVal!==this.value()&&(allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal}),allowed!==!1&&this.value(newVal))},_stop:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};this.options.values&&this.options.values.length&&(uiHash.value=this.values(index),uiHash.values=this.values()),this._trigger("stop",event,uiHash)},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){var uiHash={handle:this.handles[index],value:this.value()};this.options.values&&this.options.values.length&&(uiHash.value=this.values(index),uiHash.values=this.values()),this._trigger("change",event,uiHash)}},value:function(newValue){if(arguments.length){this.options.value=this._trimAlignValue(newValue),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1){this.options.values[index]=this._trimAlignValue(newValue),this._refreshValue(),this._change(null,index);return}if(!arguments.length)return this._values();if(!$.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(index):this.value();vals=this.options.values,newValues=arguments[0];for(i=0;i<vals.length;i+=1)vals[i]=this._trimAlignValue(newValues[i]),this._change(null,i);this._refreshValue()},_setOption:function(key,value){var i,valsLength=0;$.isArray(this.options.values)&&(valsLength=this.options.values.length),$.Widget.prototype._setOption.apply(this,arguments);switch(key){case"disabled":value?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(i=0;i<valsLength;i+=1)this._change(null,i);this._animateOff=!1}},_value:function(){var val=this.options.value;return val=this._trimAlignValue(val),val},_values:function(index){var val,vals,i;if(arguments.length)return val=this.options.values[index],val=this._trimAlignValue(val),val;vals=this.options.values.slice();for(i=0;i<vals.length;i+=1)vals[i]=this._trimAlignValue(vals[i]);return vals},_trimAlignValue:function(val){if(val<=this._valueMin())return this._valueMin();if(val>=this._valueMax())return this._valueMax();var step=this.options.step>0?this.options.step:1,valModStep=(val-this._valueMin())%step,alignValue=val-valModStep;return Math.abs(valModStep)*2>=step&&(alignValue+=valModStep>0?step:-step),parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var oRange=this.options.range,o=this.options,self=this,animate=this._animateOff?!1:o.animate,valPercent,_set={},lastValPercent,value,valueMin,valueMax;this.options.values&&this.options.values.length?this.handles.each(function(i,j){valPercent=(self.values(i)-self._valueMin())/(self._valueMax()-self._valueMin())*100,_set[self.orientation==="horizontal"?"left":"bottom"]=valPercent+"%",$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate),self.options.range===!0&&(self.orientation==="horizontal"?(i===0&&self.range.stop(1,1)[animate?"animate":"css"]({left:valPercent+"%"},o.animate),i===1&&self.range[animate?"animate":"css"]({width:valPercent-lastValPercent+"%"},{queue:!1,duration:o.animate})):(i===0&&self.range.stop(1,1)[animate?"animate":"css"]({bottom:valPercent+"%"},o.animate),i===1&&self.range[animate?"animate":"css"]({height:valPercent-lastValPercent+"%"},{queue:!1,duration:o.animate}))),lastValPercent=valPercent}):(value=this.value(),valueMin=this._valueMin(),valueMax=this._valueMax(),valPercent=valueMax!==valueMin?(value-valueMin)/(valueMax-valueMin)*100:0,_set[self.orientation==="horizontal"?"left":"bottom"]=valPercent+"%",this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate),oRange==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[animate?"animate":"css"]({width:valPercent+"%"},o.animate),oRange==="max"&&this.orientation==="horizontal"&&this.range[animate?"animate":"css"]({width:100-valPercent+"%"},{queue:!1,duration:o.animate}),oRange==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[animate?"animate":"css"]({height:valPercent+"%"},o.animate),oRange==="max"&&this.orientation==="vertical"&&this.range[animate?"animate":"css"]({height:100-valPercent+"%"},{queue:!1,duration:o.animate}))}}),$.extend($.ui.slider,{version:"1.8.23"})}(jQuery),function($,undefined){function getNextTabId(){return++tabId}function getNextListId(){return++listId}var tabId=0,listId=0;$.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(key,value){if(key=="selected"){if(this.options.collapsible&&value==this.options.selected)return;this.select(value)}else this.options[key]=value,this._tabify()},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+getNextTabId()},_sanitizeSelector:function(hash){return hash.replace(/:/g,"\\:")},_cookie:function(){var cookie=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+getNextListId());return $.cookie.apply(null,[cookie].concat($.makeArray(arguments)))},_ui:function(tab,panel){return{tab:tab,panel:panel,index:this.anchors.index(tab)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var el=$(this);el.html(el.data("label.tabs")).removeData("label.tabs")})},_tabify:function(init){function resetStyle($el,fx){$el.css("display",""),!$.support.opacity&&fx.opacity&&$el[0].style.removeAttribute("filter")}var self=this,o=this.options,fragmentId=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=$(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return $("a",this)[0]}),this.panels=$([]),this.anchors.each(function(i,a){var href=$(a).attr("href"),hrefBase=href.split("#")[0],baseEl;hrefBase&&(hrefBase===location.toString().split("#")[0]||(baseEl=$("base")[0])&&hrefBase===baseEl.href)&&(href=a.hash,a.href=href);if(fragmentId.test(href))self.panels=self.panels.add(self.element.find(self._sanitizeSelector(href)));else if(href&&href!=="#"){$.data(a,"href.tabs",href),$.data(a,"load.tabs",href.replace(/#.*$/,""));var id=self._tabId(a);a.href="#"+id;var $panel=self.element.find("#"+id);$panel.length||($panel=$(o.panelTemplate).attr("id",id).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(self.panels[i-1]||self.list),$panel.data("destroy.tabs",!0)),self.panels=self.panels.add($panel)}else o.disabled.push(i)}),init?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),o.selected===undefined?(location.hash&&this.anchors.each(function(i,a){if(a.hash==location.hash)return o.selected=i,!1}),typeof o.selected!="number"&&o.cookie&&(o.selected=parseInt(self._cookie(),10)),typeof o.selected!="number"&&this.lis.filter(".ui-tabs-selected").length&&(o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),o.selected=o.selected||(this.lis.length?0:-1)):o.selected===null&&(o.selected=-1),o.selected=o.selected>=0&&this.anchors[o.selected]||o.selected<0?o.selected:0,o.disabled=$.unique(o.disabled.concat($.map(this.lis.filter(".ui-state-disabled"),function(n,i){return self.lis.index(n)}))).sort(),$.inArray(o.selected,o.disabled)!=-1&&o.disabled.splice($.inArray(o.selected,o.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),o.selected>=0&&this.anchors.length&&(self.element.find(self._sanitizeSelector(self.anchors[o.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(o.selected).addClass("ui-tabs-selected ui-state-active"),self.element.queue("tabs",function(){self._trigger("show",null,self._ui(self.anchors[o.selected],self.element.find(self._sanitizeSelector(self.anchors[o.selected].hash))[0]))}),this.load(o.selected)),$(window).bind("unload",function(){self.lis.add(self.anchors).unbind(".tabs"),self.lis=self.anchors=self.panels=null})):o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[o.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),o.cookie&&this._cookie(o.selected,o.cookie);for(var i=0,li;li=this.lis[i];i++)$(li)[$.inArray(i,o.disabled)!=-1&&!$(li).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");o.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs");if(o.event!=="mouseover"){var addState=function(state,el){el.is(":not(.ui-state-disabled)")&&el.addClass("ui-state-"+state)},removeState=function(state,el){el.removeClass("ui-state-"+state)};this.lis.bind("mouseover.tabs",function(){addState("hover",$(this))}),this.lis.bind("mouseout.tabs",function(){removeState("hover",$(this))}),this.anchors.bind("focus.tabs",function(){addState("focus",$(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){removeState("focus",$(this).closest("li"))})}var hideFx,showFx;o.fx&&($.isArray(o.fx)?(hideFx=o.fx[0],showFx=o.fx[1]):hideFx=showFx=o.fx);var showTab=showFx?function(clicked,$show){$(clicked).closest("li").addClass("ui-tabs-selected ui-state-active"),$show.hide().removeClass("ui-tabs-hide").animate(showFx,showFx.duration||"normal",function(){resetStyle($show,showFx),self._trigger("show",null,self._ui(clicked,$show[0]))})}:function(clicked,$show){$(clicked).closest("li").addClass("ui-tabs-selected ui-state-active"),$show.removeClass("ui-tabs-hide"),self._trigger("show",null,self._ui(clicked,$show[0]))},hideTab=hideFx?function(clicked,$hide){$hide.animate(hideFx,hideFx.duration||"normal",function(){self.lis.removeClass("ui-tabs-selected ui-state-active"),$hide.addClass("ui-tabs-hide"),resetStyle($hide,hideFx),self.element.dequeue("tabs")})}:function(clicked,$hide,$show){self.lis.removeClass("ui-tabs-selected ui-state-active"),$hide.addClass("ui-tabs-hide"),self.element.dequeue("tabs")};this.anchors.bind(o.event+".tabs",function(){var el=this,$li=$(el).closest("li"),$hide=self.panels.filter(":not(.ui-tabs-hide)"),$show=self.element.find(self._sanitizeSelector(el.hash));if($li.hasClass("ui-tabs-selected")&&!o.collapsible||$li.hasClass("ui-state-disabled")||$li.hasClass("ui-state-processing")||self.panels.filter(":animated").length||self._trigger("select",null,self._ui(this,$show[0]))===!1)return this.blur(),!1;o.selected=self.anchors.index(this),self.abort();if(o.collapsible){if($li.hasClass("ui-tabs-selected"))return o.selected=-1,o.cookie&&self._cookie(o.selected,o.cookie),self.element.queue("tabs",function(){hideTab(el,$hide)}).dequeue("tabs"),this.blur(),!1;if(!$hide.length)return o.cookie&&self._cookie(o.selected,o.cookie),self.element.queue("tabs",function(){showTab(el,$show)}),self.load(self.anchors.index(this)),this.blur(),!1}o.cookie&&self._cookie(o.selected,o.cookie);if(!$show.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";$hide.length&&self.element.queue("tabs",function(){hideTab(el,$hide)}),self.element.queue("tabs",function(){showTab(el,$show)}),self.load(self.anchors.index(this)),$.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(index){return typeof index=="string"&&(index=this.anchors.index(this.anchors.filter("[href$='"+index+"']"))),index},destroy:function(){var o=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var href=$.data(this,"href.tabs");href&&(this.href=href);var $this=$(this).unbind(".tabs");$.each(["href","load","cache"],function(i,prefix){$this.removeData(prefix+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){$.data(this,"destroy.tabs")?$(this).remove():$(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),o.cookie&&this._cookie(null,o.cookie),this},add:function(url,label,index){index===undefined&&(index=this.anchors.length);var self=this,o=this.options,$li=$(o.tabTemplate.replace(/#\{href\}/g,url).replace(/#\{label\}/g,label)),id=url.indexOf("#")?this._tabId($("a",$li)[0]):url.replace("#","");$li.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var $panel=self.element.find("#"+id);return $panel.length||($panel=$(o.panelTemplate).attr("id",id).data("destroy.tabs",!0)),$panel.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),index>=this.lis.length?($li.appendTo(this.list),$panel.appendTo(this.list[0].parentNode)):($li.insertBefore(this.lis[index]),$panel.insertBefore(this.panels[index])),o.disabled=$.map(o.disabled,function(n,i){return n>=index?++n:n}),this._tabify(),this.anchors.length==1&&(o.selected=0,$li.addClass("ui-tabs-selected ui-state-active"),$panel.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){self._trigger("show",null,self._ui(self.anchors[0],self.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[index],this.panels[index])),this},remove:function(index){index=this._getIndex(index);var o=this.options,$li=this.lis.eq(index).remove(),$panel=this.panels.eq(index).remove();return $li.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(index+(index+1<this.anchors.length?1:-1)),o.disabled=$.map($.grep(o.disabled,function(n,i){return n!=index}),function(n,i){return n>=index?--n:n}),this._tabify(),this._trigger("remove",null,this._ui($li.find("a")[0],$panel[0])),this},enable:function(index){index=this._getIndex(index);var o=this.options;if($.inArray(index,o.disabled)==-1)return;return this.lis.eq(index).removeClass("ui-state-disabled"),o.disabled=$.grep(o.disabled,function(n,i){return n!=index}),this._trigger("enable",null,this._ui(this.anchors[index],this.panels[index])),this},disable:function(index){index=this._getIndex(index);var self=this,o=this.options;return index!=o.selected&&(this.lis.eq(index).addClass("ui-state-disabled"),o.disabled.push(index),o.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[index],this.panels[index]))),this},select:function(index){index=this._getIndex(index);if(index==-1){if(!this.options.collapsible||this.options.selected==-1)return this;index=this.options.selected}return this.anchors.eq(index).trigger(this.options.event+".tabs"),this},load:function(index){index=this._getIndex(index);var self=this,o=this.options,a=this.anchors.eq(index)[0],url=$.data(a,"load.tabs");this.abort();if(!url||this.element.queue("tabs").length!==0&&$.data(a,"cache.tabs")){this.element.dequeue("tabs");return}this.lis.eq(index).addClass("ui-state-processing");if(o.spinner){var span=$("span",a);span.data("label.tabs",span.html()).html(o.spinner)}return this.xhr=$.ajax($.extend({},o.ajaxOptions,{url:url,success:function(r,s){self.element.find(self._sanitizeSelector(a.hash)).html(r),self._cleanup(),o.cache&&$.data(a,"cache.tabs",!0),self._trigger("load",null,self._ui(self.anchors[index],self.panels[index]));try{o.ajaxOptions.success(r,s)}catch(e){}},error:function(xhr,s,e){self._cleanup(),self._trigger("load",null,self._ui(self.anchors[index],self.panels[index]));try{o.ajaxOptions.error(xhr,s,index,a)}catch(e){}}})),self.element.dequeue("tabs"),this},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(index,url){return this.anchors.eq(index).removeData("cache.tabs").data("load.tabs",url),this},length:function(){return this.anchors.length}}),$.extend($.ui.tabs,{version:"1.8.23"}),$.extend($.ui.tabs.prototype,{rotation:null,rotate:function(ms,continuing){var self=this,o=this.options,rotate=self._rotate||(self._rotate=function(e){clearTimeout(self.rotation),self.rotation=setTimeout(function(){var t=o.selected;self.select(++t<self.anchors.length?t:0)},ms),e&&e.stopPropagation()}),stop=self._unrotate||(self._unrotate=continuing?function(e){rotate()}:function(e){e.clientX&&self.rotate(null)});return ms?(this.element.bind("tabsshow",rotate),this.anchors.bind(o.event+".tabs",stop),rotate()):(clearTimeout(self.rotation),this.element.unbind("tabsshow",rotate),this.anchors.unbind(o.event+".tabs",stop),delete this._rotate,delete this._unrotate),this}})}(jQuery),define("jquery-ui",["jquery"],function(global){return function(){var func=function($){return $};return func.apply(global,arguments)}}(this)),define("widgets/PlayerControl/main",["knockout","jquery-ui"],function(ko,$){var PlayerControl=function(){this._state=ko.observable("play"),this._speed=ko.observable(1),this.time=ko.observable(new Date),this.enabled=ko.observable();var self=this;this.enabled.subscribe(function(val){self._slider.slider({disabled:!val})}),this._silence=!1,this._dragging=!1};return PlayerControl.prototype.getState=function(){return this._state()},PlayerControl.prototype.playClick=function(){this._state()!="play"&&(this._state("play"),this.emit("play"))},PlayerControl.prototype.pauseClick=function(){this._state()!="pause"&&(this._state("pause"),this.emit("pause"))},PlayerControl.prototype.speed1Click=function(){this._speed()!=1&&(this._speed(1),this.emit("speed",1))},PlayerControl.prototype.speed10Click=function(){this._speed()!=10&&(this._speed(10),this.emit("speed",10))},PlayerControl.prototype.speed25Click=function(){this._speed()!=25&&(this._speed(25),this.emit("speed",25))},PlayerControl.prototype.setTimePos=function(time){return this._dragging||(this._silence=!0,this._slider.slider("value",time),this._silence=!1,this.time(new Date(time))),this},PlayerControl.prototype.initTimeInterval=function(timeStart,timeFinish){return this._slider.slider("option",{min:timeStart,max:timeFinish}).slider("value",timeStart),this.time(new Date(timeStart)),this.enabled(!0),this},PlayerControl.prototype.domInit=function(elem,params){var div=ko.virtualElements.firstChild(elem);while(div&&div.nodeType!=1)div=ko.virtualElements.nextSibling(div);var self=this;this._slider=$(div).find(".player-control-slider").slider({range:"min",slide:function(event,ui){self.time(new Date(ui.value))},change:function(event,ui){self._silence||self.emit("time",ui.value)},start:function(){self._dragging=!0},stop:function(){self._dragging=!1}}),this.enabled(!1)},PlayerControl.prototype.domDestroy=function(elem,params){},PlayerControl.prototype.templates=["main"],PlayerControl}),define("text!widgets/PlayerControl/main.html",[],function(){return"<div>\n<hr/>\n\n<button data-bind=\"enable: enabled, click: playClick, css: { 'player-button-on': _state() == 'play', 'player-button-off': _state() != 'play' }\">PLAY</button>\n<button data-bind=\"enable: enabled, click: pauseClick, css: { 'player-button-on': _state() == 'pause', 'player-button-off': _state() != 'pause' }\">PAUSE</button>\n\n<button data-bind=\"enable: enabled, click: speed1Click, css: { 'player-button-on': _speed() == 1, 'player-button-off': _speed() != 1 }\">x1</button>\n<button data-bind=\"enable: enabled, click: speed10Click, css: { 'player-button-on': _speed() == 10, 'player-button-off': _speed() != 10 }\">x10</button>\n<button data-bind=\"enable: enabled, click: speed25Click, css: { 'player-button-on': _speed() == 25, 'player-button-off': _speed() != 25 }\">x25</button>\n\n<div class=\"player-control-slider\"></div>\n<span data-bind=\"text: filters.formatTime(time())\"></span>\n\n<hr/>\n</div>\n"}),define("widgets/UfosTable/main",["knockout"],function(ko){var UfosTable=function(ufos){this.ufos=ufos;var self=this;this.allVisibleChecked=ko.computed({read:function(){return!self.ufos().some(function(item){return!item.visibleChecked()})},write:function(val){self.ufos().forEach(function(item){item.visibleChecked(val)})}})};return UfosTable.prototype.domInit=function(elem,params){},UfosTable.prototype.domDestroy=function(elem,params){},UfosTable.prototype.templates=["main"],UfosTable}),define("text!widgets/UfosTable/main.html",[],function(){return'<form style="height: 400px; overflow: auto;">\n<table>\n	<thead>\n		<tr>\n			<th><input data-bind="checked: allVisibleChecked" type="checkbox"/></th>\n			<th>#</th>\n			<th>Pilot name</th>\n			<th>Dist to goal, km</th>\n			<th>Alt, m</th>\n			<th>Gspd, km/h</th>\n			<th>Vspd, m/s</th>\n		</tr>\n	</thead>\n	<tbody data-bind="foreach: ufos">\n		<tr>\n			<td data-bind="style: { backgroundColor: color }"><input data-bind="checked: visibleChecked" type="checkbox"/></td>\n			<td data-bind="text: $index() + 1"></td>\n			<td data-bind="text: name"></td>\n			<td data-bind="text: statusOrDist" data-bind0="text: statusText ? statusText : leftDist() < 4294967295 ? (leftDist()/1000).toFixed(1) : \'\' "></td>\n			<td data-bind="text: alt"></td>\n			<td data-bind="text: gSpd"></td>\n			<td data-bind="text: vSpd"></td>\n		</tr>\n	</tbody>\n</table>\n</form>'}),define("widgets/TrackerPage/main",["utils","walk","knockout","knockout.mapping","widget!Button","widget!GoogleMap","widget!PlayerControl","widget!UfosTable"],function(utils,walk,ko,komap,Button,GoogleMap,PlayerControl,UfosTable){var AUTO_TRACKS_TIME=6e5,OFFLINE_DATA_KEYS_QUANT=1e3,TableUfo=function(params){this.id=params.id,this.name=params.name,this.color=params.color,this.state=params.state,this.leftDist=ko.observable(params.leftDist),this.visibleChecked=ko.observable(!0),this.alt=ko.observable(this.state!="flying"?this.state:""),this.gSpd=ko.observable(),this.vSpd=ko.observable();var self=this;this.statusOrDist=ko.computed(function(){if(self.statusText)return self.statusText;var dist=self.leftDist();return dist<4294967295?(dist/1e3).toFixed(1):""}),this.visibleChecked.subscribe(function(val){self._ufo.visible(val)})};TableUfo._all={},TableUfo.prototype.init=function(params){this.iconParamsFly=params.iconParamsFly,this.iconParamsLand=params.iconParamsLand,this._ufo=params.map.ufo({title:this.name,color:this.color}).icon(this.state=="flying"?this.iconParamsFly:this.iconParamsLand).visible(this.visibleChecked()).trackVisible(params.tracksMode!="off").titleVisible(params.titlesMode!="off"),TableUfo._all[this.id]=this},TableUfo.prototype.destroy=function(){delete TableUfo._all[this.id]},TableUfo.prototype.stateUpdate=function(params){params.state=="landed"?(this.state!="landed"&&this._ufo.icon(this.iconParamsLand),this.alt(params.state),this.leftDist(params.leftDist)):params.state=="finished"?this.state!="finished"&&(this.alt(params.state),this.statusText=parseInt(params.finishTime/60)+":"+params.finishTime%60,this._ufo.icon(this.iconParamsLand)):params.state=="flying"?(this.state!="flying"&&this._ufo.icon(this.iconParamsFly),this.leftDist(params.leftDist)):params.state=="not started"?(this.state!="not started"&&(this.alt(params.state),this._ufo.icon(this.iconParamsLand)),this.leftDist(params.leftDist)):utils.log('stateUpdate: unknown state "'+params.state+'"!'),this.state=params.state},TableUfo.prototype.coordsUpdate=function(params){params.gSpd!==undefined&&this.gSpd(params.gSpd),params.vSpd!==undefined&&this.vSpd(params.vSpd),params.alt!==undefined&&this.state=="flying"&&this.alt(params.alt);if(params.lat!==undefined){var now=(new Date).getTime();this._ufo.move({lat:params.lat,lng:params.lng,time:now}),params.tracksMode=="auto"&&this._ufo.trackFilter(now-AUTO_TRACKS_TIME)}};var TrackerPage=function(){var self=this;this.map=new GoogleMap,this.playerControl=new PlayerControl,this.ufos=ko.observableArray(),this.ufosById={},this.ufosTable=new UfosTable(this.ufos),this.tracksMode=ko.observable(),this.tracksMode.subscribe(function(val){switch(val){case"on":self.ufos().forEach(function(item){item._ufo.trackVisible(!0)});break;case"off":self.ufos().forEach(function(item){item._ufo.trackVisible(!1)});break;case"auto":self.ufos().forEach(function(item){item._ufo.trackFilter((new Date).getTime()-AUTO_TRACKS_TIME),item._ufo.trackVisible(!0)})}}),this.titlesMode=ko.observable(),this.titlesMode.subscribe(function(val){switch(val){case"on":self.map.titlesHideByZoom(!1),self.ufos().forEach(function(item){item._ufo.titleVisible(!0)});break;case"off":self.map.titlesHideByZoom(!1),self.ufos().forEach(function(item){item._ufo.titleVisible(!1)});break;case"auto":self.map.titlesHideByZoom(!0),self.ufos().forEach(function(item){item._ufo.titleVisible(!0)})}})};return TrackerPage.prototype.initOnline=function(elem,params){function waypointsLoad(data){self.waypointsLoad(data),$.ajax({url:"/g2.0/init",type:"GET",dataType:"json",success:pilotsFromJson})}function pilotsFromJson(data){komap.fromJS(data.models,{arrayChanged:function(event,item){switch(event){case"added":item.init({iconParamsFly:{url:params.imgRootUrl+"ufoFly.png",width:32,height:35,x:15,y:32},iconParamsLand:{url:params.imgRootUrl+"ufoLand.png",width:32,height:28,x:15,y:26},tracksMode:self.tracksMode(),titlesMode:self.titlesMode(),map:self.map});break;case"deleted":item.destroy()}},key:function(item){return item.id},create:function(map){return new TableUfo({id:map.data.id,name:map.data.firstname+" "+map.data.lastname,color:map.data.color,state:map.data.state,leftDist:map.data.left_dist})}},self.ufos),statesLoad()}function statesLoad(){$.ajax({url:"/g2.0/states",type:"GET",dataType:"json",success:statesUpdate})}function statesUpdate(data){data.body.forEach(function(item){var tableUfo=TableUfo._all[item.id];if(!tableUfo){utils.log('statesUpdate: ID "'+item.id+'" not found!');return}tableUfo.stateUpdate({leftDist:item.ld,finishTime:item.finish_time,state:item.state})}),$.ajax({url:"/g2.0/coords",type:"GET",dataType:"json",success:coordsUpdate})}function coordsUpdate(data){data.body.forEach(function(item){var tableUfo=TableUfo._all[item.id];if(!tableUfo){utils.log('coordsUpdate: ID "'+item.id+'" not found!');return}tableUfo.coordsUpdate({gSpd:item.hs,vSpd:item.vs,alt:item.alt,lat:item.lat,lng:item.lon,tracksMode:self.tracksMode()})}),tableSort()}function tableSort(){self.tableSort(),setTimeout(statesLoad,1e3)}var self=this;$.ajax({url:"/scanex/load_start_data_wo_pilots_content/0/"+params.taskId,type:"GET",dataType:"json",success:waypointsLoad})},TrackerPage.prototype.tableSort=function(){this.ufos.sort(function(left,right){var l=parseInt(left.leftDist());l=isNaN(l)?-1:l;var r=parseInt(right.leftDist());return r=isNaN(r)?-1:r,l==r?0:l>r?1:-1})},TrackerPage.prototype.waypointsLoad=function(data){var wps=[];for(var i=1;data.waypoints[i];i++){var w=data.waypoints[i];wps.push({lat:w[0],lng:w[1],radius:parseInt(w[2]),title:w[3],type:parseInt(w[6])?"start":parseInt(w[7])?"finish":"waypoint"})}this.map.waypoints(wps)},TrackerPage.prototype.initOffline=function(elem,params){function eventIdLoad(data){self.eventId=data,$.ajax({url:"/scanex/load_start_data/"+self.eventId+"/"+params.taskId,type:"GET",data:{is_repeat:0},dataType:"json",success:startDataLoad})}function startDataLoad(data){self.waypointsLoad(data),pilotsFromJson(data.pilots),playerInit(data.task_start,data.task_end)}function pilotsFromJson(pilots){for(var id in pilots){var pilot=pilots[id],tableUfo=new TableUfo({id:id,name:pilot.name,color:pilot.color,state:"not started",leftDist:pilot.last_dist});tableUfo.init({iconParamsFly:{url:params.imgRootUrl+"ufoFly.png",width:32,height:35,x:15,y:32},iconParamsLand:{url:params.imgRootUrl+"ufoLand.png",width:32,height:28,x:15,y:26},tracksMode:self.tracksMode(),titlesMode:self.titlesMode(),map:self.map}),self.ufos.push(tableUfo)}}function playerInit(startKey,endKey){function renderFrame(){coordsData[playerCurrentKey].forEach(function(item){var tableUfo=TableUfo._all[item.id];if(!tableUfo){utils.log('coordsUpdate: ID "'+item.id+'" not found!');return}tableUfo.coordsUpdate({lat:item.lat,lng:item.lng,tracksMode:self.tracksMode()})}),tableData[playerCurrentKey].forEach(function(item){var tableUfo=TableUfo._all[item.id];if(!tableUfo){utils.log('coordsUpdate: ID "'+item.id+'" not found!');return}var state="flying";tableUfo.stateUpdate({leftDist:item.leftDist,state:state}),tableUfo.coordsUpdate({gSpd:item.gSpd,vSpd:item.vSpd,alt:item.alt})}),self.tableSort()}function play(){clearTimeout(timerHandle);if(playerCurrentKey>endKey){self.playerControl._state("pause");return}if(playerCurrentKey>playerEndKey){changePos(playerCurrentKey*1e3);return}self.playerControl.setTimePos(playerCurrentKey*1e3),renderFrame(),playerCurrentKey++,timerHandle=setTimeout(play,1e3/playerSpeed)}function pause(){clearTimeout(timerHandle)}function changePos(time){self.playerControl.enabled(!1),pause();var _playerStartKey=parseInt(time/1e3),_playerEndKey=_playerStartKey+OFFLINE_DATA_KEYS_QUANT;_playerEndKey>endKey&&(_playerEndKey=endKey);var _tableData,_coordsData;walk().step(function(step){$.ajax({url:"/cd5/event"+self.eventId+"/_design/"+params.taskId+"/_view/table",type:"GET",data:{startkey:_playerStartKey,endkey:_playerEndKey},dataType:"json",success:function(data){_tableData={},data.rows.forEach(function(row){_tableData[row.key]||(_tableData[row.key]=[]),_tableData[row.key].push({id:row.value[0],alt:row.value[1],gSpd:row.value[2],vSpd:row.value[3],leftDist:row.value[4]})}),step.next()}})}).step(function(step){$.ajax({url:"/cd5/event"+self.eventId+"/_design/"+params.taskId+"/_view/coords",type:"GET",data:{startkey:_playerStartKey,endkey:_playerEndKey},dataType:"json",success:function(data){_coordsData={},data.rows.forEach(function(row){_coordsData[row.key]||(_coordsData[row.key]=[]),_coordsData[row.key].push({id:row.value[0],lat:row.value[1],lng:row.value[2]})}),step.next()}})}).wait(function(){tableData=_tableData,coordsData=_coordsData,playerStartKey=_playerStartKey,playerEndKey=_playerEndKey,playerCurrentKey=playerStartKey,self.playerControl.setTimePos(time),self.playerControl.enabled(!0),self.playerControl.getState()=="play"&&play(),needPlay&&(needPlay=!1,play())})}function changeSpeed(speed){playerSpeed=speed}var playerStartKey,playerEndKey,playerCurrentKey,playerSpeed=1,timerHandle,tableData,coordsData,needPlay=!0;self.playerControl.on("play",play).on("pause",pause).on("time",changePos).on("speed",changeSpeed).initTimeInterval(startKey*1e3,endKey*1e3)}var self=this;params.eventId?eventIdLoad(params.eventId):$.ajax({url:"/services/json/task/"+params.taskId+"/getEvent.json",type:"GET",dataType:"json",success:eventIdLoad})},TrackerPage.prototype.domInit=function(elem,params){this.titlesMode("auto"),this.tracksMode("auto"),params.isOnline?this.initOnline(elem,params):this.initOffline(elem,params)},TrackerPage.prototype.templates=["main"],TrackerPage}),define("text!widgets/TrackerPage/main.html",[],function(){return'<table>\n	<tr>\n		<td>\n			<!-- ko widget: { data: playerControl, type: "PlayerControl" } --><!-- /ko -->\n			<form>\n				<table>\n					<tr>\n						<td>\n							<div><input type="radio" name="tracksMode" value="on" data-bind="checked: tracksMode" />tracks on</div>\n							<div><input type="radio" name="tracksMode" value="off" data-bind="checked: tracksMode" />tracks off</div>\n							<div><input type="radio" name="tracksMode" value="auto" data-bind="checked: tracksMode" />tracks 10min</div>\n						</td>\n						<td>\n							<div><input type="radio" name="titlesMode" value="on" data-bind="checked: titlesMode" />titles on</div>\n							<div><input type="radio" name="titlesMode" value="off" data-bind="checked: titlesMode" />titles off</div>\n							<div><input type="radio" name="titlesMode" value="auto" data-bind="checked: titlesMode" />titles auto</div>\n						</td>\n					</tr>\n				</table>\n			</form>\n			<!-- ko widget: { data: ufosTable, type: "UfosTable" } --><!-- /ko -->\n		</td>\n		<td>\n			<!-- ko widget: { data: map, type: "GoogleMap", width: \'787px\', height: \'640px\' } --><!-- /ko -->\n		</td>\n	</tr>\n</table>\n'}),define("widgets/App/main",["widget!TrackerPage"],function(TrackerPage){var App=function(){this.page=new TrackerPage};return App}),require.config({baseUrl:"js",paths:{jquery:"wild-libs/jquery","jquery-ui":"wild-libs/jquery-ui",setImmediate:"wild-libs/setImmediate"},shim:{jquery:{exports:function(){return jQuery.noConflict(!0)}},"jquery-ui":{deps:["jquery"],exports:function($){return $}},setImmediate:{exports:"window.setImmediate"}}}),require(["core","domReady!","widget!App"],function(core,doc,App){core.appInit(new App,doc)}),define("init",function(){})